{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web Systems\\\\GovConnect\\\\frontend\\\\src\\\\pages\\\\Forms.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { API_BASE, API_ORIGIN } from '../config';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Forms() {\n  _s();\n  const {\n    user,\n    token\n  } = useAuth();\n  const isAdmin = !!user && (user.role === 'admin' || user.role === 'superadmin');\n  const myOfficeId = (user === null || user === void 0 ? void 0 : user.officeId) || (user === null || user === void 0 ? void 0 : user.office_id) || null;\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [showAdd, setShowAdd] = useState(false);\n  const [editItem, setEditItem] = useState(null);\n  const [deleteItem, setDeleteItem] = useState(null);\n  const [offices, setOffices] = useState([]);\n  const canManage = useMemo(() => f => {\n    if (isAdmin) return true;\n    if (!!user && user.role === 'officer' && myOfficeId && Number(f.office_id) === Number(myOfficeId)) return true;\n    return false;\n  }, [isAdmin, user, myOfficeId]);\n  async function loadForms() {\n    setLoading(true);\n    setError('');\n    try {\n      const r = await fetch(`${API_BASE}/forms`);\n      if (!r.ok) throw new Error('Failed loading forms');\n      const list = await r.json();\n      setItems(Array.isArray(list) ? list : []);\n    } catch (e) {\n      setError(e.message || 'Error');\n    } finally {\n      setLoading(false);\n    }\n  }\n  async function loadOffices() {\n    if (!isAdmin) return; // only admins need office list\n    try {\n      const r = await fetch(`${API_BASE}/offices`);\n      if (!r.ok) return;\n      const list = await r.json();\n      setOffices(Array.isArray(list) ? list : []);\n    } catch {}\n  }\n  useEffect(() => {\n    loadForms();\n  }, []);\n  useEffect(() => {\n    loadOffices();\n  }, [isAdmin]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-semibold mb-4\",\n        children: \"Downloadable Forms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), (isAdmin || !!user && user.role === 'officer' && myOfficeId) && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowAdd(true),\n        className: \"text-sm px-3 py-2 rounded-md border bg-white\",\n        children: \"Add Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-sm text-gray-600\",\n      children: \"Loading forms...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-sm text-red-600\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border rounded-md divide-y\",\n      children: [(items || []).map(f => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 flex items-center justify-between gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"min-w-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium truncate\",\n            children: f.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 truncate\",\n            children: f.description || '—'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: [\"Office: \", f.office_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shrink-0 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n            href: `${API_ORIGIN}${f.file_url}`,\n            download: true,\n            children: \"Download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), canManage(f) && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setEditItem(f),\n              className: \"text-xs px-2 py-1 rounded bg-yellow-500 text-white\",\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setDeleteItem(f),\n              className: \"text-xs px-2 py-1 rounded bg-red-600 text-white\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, f.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)), !loading && (!items || items.length === 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 text-sm text-gray-600\",\n        children: \"No forms yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"dialog\", {\n      open: !!showAdd,\n      className: \"rounded-lg p-0 w-full max-w-lg\",\n      children: showAdd && /*#__PURE__*/_jsxDEV(FormEditor, {\n        offices: offices,\n        isAdmin: isAdmin,\n        onClose: () => setShowAdd(false),\n        onSubmit: async fd => {\n          const r = await fetch(`${API_BASE}/forms`, {\n            method: 'POST',\n            headers: {\n              Authorization: `Bearer ${token}`\n            },\n            body: fd\n          });\n          if (!r.ok) {\n            const e = await r.json().catch(() => ({}));\n            alert(e.error || 'Failed to create form');\n            return;\n          }\n          setShowAdd(false);\n          await loadForms();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"dialog\", {\n      open: !!editItem,\n      className: \"rounded-lg p-0 w-full max-w-lg\",\n      children: editItem && /*#__PURE__*/_jsxDEV(FormEditor, {\n        form: editItem,\n        offices: offices,\n        isAdmin: isAdmin,\n        onClose: () => setEditItem(null),\n        onSubmit: async fd => {\n          const r = await fetch(`${API_BASE}/forms/${editItem.id}`, {\n            method: 'PUT',\n            headers: {\n              Authorization: `Bearer ${token}`\n            },\n            body: fd\n          });\n          if (!r.ok) {\n            const e = await r.json().catch(() => ({}));\n            alert(e.error || 'Failed to update form');\n            return;\n          }\n          setEditItem(null);\n          await loadForms();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"dialog\", {\n      open: !!deleteItem,\n      className: \"rounded-lg p-0 w-full max-w-md\",\n      children: deleteItem && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold\",\n          children: \"Delete Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-700\",\n          children: [\"Delete \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: deleteItem.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 59\n          }, this), \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setDeleteItem(null),\n            className: \"px-4 py-2 rounded-md border\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: async () => {\n              const r = await fetch(`${API_BASE}/forms/${deleteItem.id}`, {\n                method: 'DELETE',\n                headers: {\n                  Authorization: `Bearer ${token}`\n                }\n              });\n              if (!r.ok) {\n                const e = await r.json().catch(() => ({}));\n                alert(e.error || 'Failed to delete');\n                return;\n              }\n              setDeleteItem(null);\n              await loadForms();\n            },\n            className: \"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(Forms, \"qnzcH4UKI+Qk8ghXHvqsV0zZWVs=\", false, function () {\n  return [useAuth];\n});\n_c = Forms;\nfunction FormEditor({\n  form,\n  onClose,\n  onSubmit,\n  isAdmin,\n  offices\n}) {\n  _s2();\n  var _find;\n  const {\n    user\n  } = useAuth();\n  const myOfficeId = (user === null || user === void 0 ? void 0 : user.officeId) || (user === null || user === void 0 ? void 0 : user.office_id) || null;\n  const [title, setTitle] = useState((form === null || form === void 0 ? void 0 : form.title) || '');\n  const [description, setDescription] = useState((form === null || form === void 0 ? void 0 : form.description) || '');\n  const [officeId, setOfficeId] = useState(isAdmin ? (form === null || form === void 0 ? void 0 : form.office_id) || '' : myOfficeId || '');\n  const [file, setFile] = useState(null);\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const fd = new FormData();\n    if (!form || title !== (form.title || '')) fd.append('title', title.trim());\n    if (description !== ((form === null || form === void 0 ? void 0 : form.description) || '')) fd.append('description', description);\n    if (isAdmin) {\n      if (!form || officeId !== (form.office_id || '')) fd.append('officeId', String(officeId));\n    }\n    if (!form && !file) {\n      alert('Please choose a file');\n      return;\n    }\n    if (file) fd.append('file', file);\n    await onSubmit(fd);\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"p-4 space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"font-semibold\",\n      children: form ? 'Edit Form' : 'Add Form'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: title,\n        onChange: e => setTitle(e.target.value),\n        className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: description,\n        onChange: e => setDescription(e.target.value),\n        className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n        rows: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), isAdmin ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Office\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: officeId,\n        onChange: e => setOfficeId(e.target.value),\n        className: \"w-full border rounded-md px-3 py-2 text-sm\",\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u2014 Select office \\u2014\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), (offices || []).map(o => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: o.id,\n          children: o.name\n        }, o.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-sm text-gray-600\",\n      children: [\"Office: \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-medium\",\n        children: (form === null || form === void 0 ? void 0 : form.office_name) || ((_find = (offices || []).find(x => String(x.id) === String(officeId))) === null || _find === void 0 ? void 0 : _find.name) || 'My Office'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 56\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: [\"File \", form ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-500\",\n          children: \"(leave blank to keep existing)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 69\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv,image/*\",\n        onChange: e => {\n          var _e$target$files;\n          return setFile(((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), (form === null || form === void 0 ? void 0 : form.file_url) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-1 text-xs\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"text-blue-700 hover:underline\",\n          href: `${API_ORIGIN}${form.file_url}`,\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          children: \"Current file\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onClose,\n        className: \"px-4 py-2 rounded-md border\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",\n        children: form ? 'Save' : 'Create'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n}\n_s2(FormEditor, \"tD378ouBdL16bXJWntxj1kYajbM=\", false, function () {\n  return [useAuth];\n});\n_c2 = FormEditor;\nvar _c, _c2;\n$RefreshReg$(_c, \"Forms\");\n$RefreshReg$(_c2, \"FormEditor\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useAuth","API_BASE","API_ORIGIN","jsxDEV","_jsxDEV","Fragment","_Fragment","Forms","_s","user","token","isAdmin","role","myOfficeId","officeId","office_id","items","setItems","loading","setLoading","error","setError","showAdd","setShowAdd","editItem","setEditItem","deleteItem","setDeleteItem","offices","setOffices","canManage","f","Number","loadForms","r","fetch","ok","Error","list","json","Array","isArray","e","message","loadOffices","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","title","description","office_name","href","file_url","download","id","length","open","FormEditor","onClose","onSubmit","fd","method","headers","Authorization","body","catch","alert","form","_c","_s2","_find","setTitle","setDescription","setOfficeId","file","setFile","handleSubmit","preventDefault","FormData","append","trim","String","value","onChange","target","required","rows","o","name","find","x","type","accept","_e$target$files","files","rel","_c2","$RefreshReg$"],"sources":["C:/Web Systems/GovConnect/frontend/src/pages/Forms.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { API_BASE, API_ORIGIN } from '../config';\n\nexport default function Forms() {\n  const { user, token } = useAuth();\n  const isAdmin = !!user && (user.role === 'admin' || user.role === 'superadmin');\n  const myOfficeId = user?.officeId || user?.office_id || null;\n\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [showAdd, setShowAdd] = useState(false);\n  const [editItem, setEditItem] = useState(null);\n  const [deleteItem, setDeleteItem] = useState(null);\n  const [offices, setOffices] = useState([]);\n\n  const canManage = useMemo(() => (f) => {\n    if (isAdmin) return true;\n    if (!!user && user.role === 'officer' && myOfficeId && Number(f.office_id) === Number(myOfficeId)) return true;\n    return false;\n  }, [isAdmin, user, myOfficeId]);\n\n  async function loadForms() {\n    setLoading(true); setError('');\n    try {\n      const r = await fetch(`${API_BASE}/forms`);\n      if (!r.ok) throw new Error('Failed loading forms');\n      const list = await r.json();\n      setItems(Array.isArray(list) ? list : []);\n    } catch (e) { setError(e.message || 'Error'); }\n    finally { setLoading(false); }\n  }\n\n  async function loadOffices() {\n    if (!isAdmin) return; // only admins need office list\n    try {\n      const r = await fetch(`${API_BASE}/offices`);\n      if (!r.ok) return;\n      const list = await r.json();\n      setOffices(Array.isArray(list) ? list : []);\n    } catch {}\n  }\n\n  useEffect(() => { loadForms(); }, []);\n  useEffect(() => { loadOffices(); }, [isAdmin]);\n\n  return (\n    <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-2xl font-semibold mb-4\">Downloadable Forms</h1>\n        {(isAdmin || (!!user && user.role === 'officer' && myOfficeId)) && (\n          <button onClick={()=>setShowAdd(true)} className=\"text-sm px-3 py-2 rounded-md border bg-white\">Add Form</button>\n        )}\n      </div>\n      {loading && <div className=\"text-sm text-gray-600\">Loading forms...</div>}\n      {error && <div className=\"text-sm text-red-600\">{error}</div>}\n      <div className=\"border rounded-md divide-y\">\n        {(items || []).map((f) => (\n          <div key={f.id} className=\"p-4 flex items-center justify-between gap-4\">\n            <div className=\"min-w-0\">\n              <div className=\"font-medium truncate\">{f.title}</div>\n              <div className=\"text-xs text-gray-600 truncate\">{f.description || '—'}</div>\n              <div className=\"text-xs text-gray-500\">Office: {f.office_name}</div>\n            </div>\n            <div className=\"shrink-0 flex items-center gap-2\">\n              <a className=\"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\" href={`${API_ORIGIN}${f.file_url}`} download>\n                Download\n              </a>\n              {canManage(f) && (\n                <>\n                  <button onClick={()=>setEditItem(f)} className=\"text-xs px-2 py-1 rounded bg-yellow-500 text-white\">Edit</button>\n                  <button onClick={()=>setDeleteItem(f)} className=\"text-xs px-2 py-1 rounded bg-red-600 text-white\">Delete</button>\n                </>\n              )}\n            </div>\n          </div>\n        ))}\n        {!loading && (!items || items.length === 0) && (\n          <div className=\"p-4 text-sm text-gray-600\">No forms yet.</div>\n        )}\n      </div>\n\n      {/* Add */}\n      <dialog open={!!showAdd} className=\"rounded-lg p-0 w-full max-w-lg\">\n        {showAdd && (\n          <FormEditor\n            offices={offices}\n            isAdmin={isAdmin}\n            onClose={()=>setShowAdd(false)}\n            onSubmit={async (fd)=>{\n              const r = await fetch(`${API_BASE}/forms`, { method: 'POST', headers: { Authorization: `Bearer ${token}` }, body: fd });\n              if (!r.ok) {\n                const e = await r.json().catch(()=>({}));\n                alert(e.error || 'Failed to create form');\n                return;\n              }\n              setShowAdd(false);\n              await loadForms();\n            }}\n          />\n        )}\n      </dialog>\n\n      {/* Edit */}\n      <dialog open={!!editItem} className=\"rounded-lg p-0 w-full max-w-lg\">\n        {editItem && (\n          <FormEditor\n            form={editItem}\n            offices={offices}\n            isAdmin={isAdmin}\n            onClose={()=>setEditItem(null)}\n            onSubmit={async (fd)=>{\n              const r = await fetch(`${API_BASE}/forms/${editItem.id}`, { method: 'PUT', headers: { Authorization: `Bearer ${token}` }, body: fd });\n              if (!r.ok) {\n                const e = await r.json().catch(()=>({}));\n                alert(e.error || 'Failed to update form');\n                return;\n              }\n              setEditItem(null);\n              await loadForms();\n            }}\n          />\n        )}\n      </dialog>\n\n      {/* Delete */}\n      <dialog open={!!deleteItem} className=\"rounded-lg p-0 w-full max-w-md\">\n        {deleteItem && (\n          <div className=\"p-4 space-y-4\">\n            <div className=\"font-semibold\">Delete Form</div>\n            <div className=\"text-sm text-gray-700\">Delete <span className=\"font-medium\">{deleteItem.title}</span>?</div>\n            <div className=\"flex justify-end gap-2\">\n              <button onClick={()=>setDeleteItem(null)} className=\"px-4 py-2 rounded-md border\">Cancel</button>\n              <button onClick={async()=>{\n                const r = await fetch(`${API_BASE}/forms/${deleteItem.id}`, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` } });\n                if (!r.ok) {\n                  const e = await r.json().catch(()=>({}));\n                  alert(e.error || 'Failed to delete');\n                  return;\n                }\n                setDeleteItem(null);\n                await loadForms();\n              }} className=\"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700\">Delete</button>\n            </div>\n          </div>\n        )}\n      </dialog>\n    </div>\n  );\n}\n\nfunction FormEditor({ form, onClose, onSubmit, isAdmin, offices }) {\n  const { user } = useAuth();\n  const myOfficeId = user?.officeId || user?.office_id || null;\n  const [title, setTitle] = useState(form?.title || '');\n  const [description, setDescription] = useState(form?.description || '');\n  const [officeId, setOfficeId] = useState(isAdmin ? (form?.office_id || '') : (myOfficeId || ''));\n  const [file, setFile] = useState(null);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const fd = new FormData();\n    if (!form || title !== (form.title || '')) fd.append('title', title.trim());\n    if (description !== (form?.description || '')) fd.append('description', description);\n    if (isAdmin) {\n      if (!form || officeId !== (form.office_id || '')) fd.append('officeId', String(officeId));\n    }\n    if (!form && !file) {\n      alert('Please choose a file');\n      return;\n    }\n    if (file) fd.append('file', file);\n    await onSubmit(fd);\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"p-4 space-y-4\">\n      <div className=\"font-semibold\">{form ? 'Edit Form' : 'Add Form'}</div>\n      <div>\n        <label className=\"block text-sm text-gray-700\">Title</label>\n        <input value={title} onChange={(e)=>setTitle(e.target.value)} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" required />\n      </div>\n      <div>\n        <label className=\"block text-sm text-gray-700\">Description</label>\n        <textarea value={description} onChange={(e)=>setDescription(e.target.value)} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" rows={3} />\n      </div>\n      {isAdmin ? (\n        <div>\n          <label className=\"block text-sm text-gray-700\">Office</label>\n          <select value={officeId} onChange={(e)=>setOfficeId(e.target.value)} className=\"w-full border rounded-md px-3 py-2 text-sm\" required>\n            <option value=\"\">— Select office —</option>\n            {(offices || []).map(o => (\n              <option key={o.id} value={o.id}>{o.name}</option>\n            ))}\n          </select>\n        </div>\n      ) : (\n        <div className=\"text-sm text-gray-600\">Office: <span className=\"font-medium\">{form?.office_name || (offices || []).find(x=>String(x.id)===String(officeId))?.name || 'My Office'}</span></div>\n      )}\n      <div>\n        <label className=\"block text-sm text-gray-700\">File {form ? <span className=\"text-gray-500\">(leave blank to keep existing)</span> : null}</label>\n        <input type=\"file\" accept=\".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv,image/*\" onChange={(e)=>setFile(e.target.files?.[0] || null)} />\n        {form?.file_url && (\n          <div className=\"mt-1 text-xs\"><a className=\"text-blue-700 hover:underline\" href={`${API_ORIGIN}${form.file_url}`} target=\"_blank\" rel=\"noreferrer\">Current file</a></div>\n        )}\n      </div>\n      <div className=\"flex justify-end gap-2\">\n        <button type=\"button\" onClick={onClose} className=\"px-4 py-2 rounded-md border\">Cancel</button>\n        <button className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\">{form ? 'Save' : 'Create'}</button>\n      </div>\n    </form>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}