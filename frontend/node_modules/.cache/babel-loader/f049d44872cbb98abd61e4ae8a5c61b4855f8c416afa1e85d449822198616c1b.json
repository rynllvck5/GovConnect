{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web Systems\\\\GovConnect\\\\frontend\\\\src\\\\components\\\\Comments.jsx\",\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { avatarFor, anonymousAvatar, generateAnonymousName } from '../utils/user';\nimport { useAuth } from '../context/AuthContext';\nimport { API_BASE } from '../config';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction loadComments(key) {\n  try {\n    const s = localStorage.getItem(key);\n    const arr = s ? JSON.parse(s) : [];\n    // Migrate flat arrays to objects with parentId\n    return Array.isArray(arr) ? arr.map(c => ({\n      parentId: null,\n      ...c\n    })) : [];\n  } catch {\n    return [];\n  }\n}\nfunction saveComments(key, data) {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n  } catch {}\n}\nexport default function Comments({\n  threadId,\n  title = 'Comments',\n  ownerName = null,\n  ownerUser = null,\n  collapsedByDefault = true,\n  pageSize = 8\n}) {\n  _s2();\n  var _s = $RefreshSig$();\n  const {\n    user,\n    token\n  } = useAuth();\n  const navigate = useNavigate();\n  const storageKey = `comments:${threadId}`;\n  const [items, setItems] = useState([]);\n  const [collapsed, setCollapsed] = useState(collapsedByDefault);\n  const [text, setText] = useState('');\n  // Use separate anonymous toggles for comment form and each reply form\n  const [anonComment, setAnonComment] = useState(false);\n  const [visibleCount, setVisibleCount] = useState(pageSize);\n  useEffect(() => {\n    async function load() {\n      try {\n        const r = await fetch(`${API_BASE}/comments?threadKey=${encodeURIComponent(threadId)}`);\n        if (!r.ok) return;\n        const list = await r.json();\n        setItems(Array.isArray(list) ? list : []);\n      } catch {}\n    }\n    load();\n  }, [threadId]);\n  const topLevel = useMemo(() => items.filter(c => !c.parentId).sort((a, b) => new Date(b.ts) - new Date(a.ts)), [items]);\n  const totalCount = items.length;\n  const postComment = async e => {\n    e.preventDefault();\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    if (!text.trim()) return;\n    try {\n      const r = await fetch(`${API_BASE}/comments`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          threadKey: threadId,\n          text: text.trim(),\n          isAnonymous: !!anonComment\n        })\n      });\n      if (!r.ok) return;\n      const created = await r.json();\n      setItems([created, ...items]);\n      setText('');\n    } catch {}\n  };\n  const postReply = async (parentId, replyTextLocal, setReplyTextLocal, setOpenLocal, useAnon) => {\n    const txt = (replyTextLocal || '').trim();\n    if (!txt || !user) {\n      if (!user) navigate('/login');\n      return;\n    }\n    try {\n      const r = await fetch(`${API_BASE}/comments`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          threadKey: threadId,\n          text: txt,\n          parentId,\n          isAnonymous: !!useAnon\n        })\n      });\n      if (!r.ok) return;\n      const created = await r.json();\n      setItems([created, ...items]);\n      setReplyTextLocal('');\n      setOpenLocal(false);\n    } catch {}\n  };\n  const repliesOf = id => items.filter(c => c.parentId === id).sort((a, b) => new Date(a.ts) - new Date(b.ts));\n  const CommentItem = ({\n    c,\n    depth = 0\n  }) => {\n    _s();\n    const replies = repliesOf(c.id);\n    const [showReplies, setShowReplies] = useState(false);\n    const [replyVisibleCount, setReplyVisibleCount] = useState(pageSize);\n    // Localize reply form state to avoid focus loss or unintended hide\n    const [openReplyForm, setOpenReplyForm] = useState(false);\n    const [replyTextLocal, setReplyTextLocal] = useState('');\n    const [replyAnon, setReplyAnon] = useState(false);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `border rounded-md ${depth === 0 ? 'p-3' : 'p-3 ml-6 border-l-4 border-l-blue-200'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: c.avatar || avatarFor(c.author),\n          alt: \"\",\n          className: \"w-8 h-8 rounded-full object-cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: new Date(c.ts).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: c.author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-800\",\n            children: c.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 flex items-center gap-3 text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-blue-700\",\n              onClick: () => setOpenReplyForm(!openReplyForm),\n              children: \"Reply\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), replies.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-blue-700\",\n              onClick: () => setShowReplies(!showReplies),\n              children: showReplies ? 'Hide replies' : `Show replies (${replies.length})`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), openReplyForm && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"w-full border rounded-md px-3 py-2 text-sm\",\n              rows: 2,\n              placeholder: \"Write a reply...\",\n              value: replyTextLocal,\n              onChange: e => setReplyTextLocal(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mt-2 text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: replyAnon,\n                    onChange: e => setReplyAnon(e.target.checked)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 23\n                  }, this), \" Anonymous\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-3 py-1.5 rounded-md bg-blue-600 text-white\",\n                onClick: () => postReply(c.id, replyTextLocal, setReplyTextLocal, setOpenReplyForm, replyAnon),\n                children: \"Reply\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), showReplies && replies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 space-y-3\",\n            children: [replies.slice(0, replyVisibleCount).map(rc => /*#__PURE__*/_jsxDEV(CommentItem, {\n              c: rc,\n              depth: depth + 1\n            }, rc.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 19\n            }, this)), replyVisibleCount < replies.length && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-blue-700 text-xs\",\n              onClick: () => setReplyVisibleCount(replyVisibleCount + pageSize),\n              children: \"Show more replies\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  };\n  _s(CommentItem, \"loVkBbXAnoSBIa9nNYKwQelsj30=\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"text-blue-700 text-sm\",\n        onClick: () => setCollapsed(!collapsed),\n        children: collapsed ? `Show comments (${totalCount})` : 'Hide comments'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), !collapsed && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: postComment,\n        className: \"space-y-2 border rounded-md p-3 mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: anonComment ? anonymousAvatar() : (user === null || user === void 0 ? void 0 : user.profileImageUrl) || avatarFor((user === null || user === void 0 ? void 0 : user.fullName) || (user === null || user === void 0 ? void 0 : user.email)),\n            alt: \"\",\n            className: \"w-8 h-8 rounded-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"flex-1 border rounded-md px-3 py-2\",\n            placeholder: \"Write a comment...\",\n            value: text,\n            onChange: e => setText(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: anonComment,\n                onChange: e => setAnonComment(e.target.checked)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 19\n              }, this), \"Anonymous\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: !user,\n            className: `px-3 py-1.5 rounded-md ${!user ? 'bg-blue-300 cursor-not-allowed text-white' : 'bg-blue-600 text-white hover:bg-blue-700'}`,\n            children: user ? 'Comment' : 'Log in to comment'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 space-y-3\",\n        children: [topLevel.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"No comments yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }, this), topLevel.slice(0, visibleCount).map(c => /*#__PURE__*/_jsxDEV(CommentItem, {\n          c: c\n        }, c.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 15\n        }, this)), visibleCount < topLevel.length && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-blue-700 text-sm\",\n          onClick: () => setVisibleCount(visibleCount + pageSize),\n          children: \"Show more comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n_s2(Comments, \"6pIiKfQE1RXiuMhEluD9H6KfqEc=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Comments;\nvar _c;\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","avatarFor","anonymousAvatar","generateAnonymousName","useAuth","API_BASE","jsxDEV","_jsxDEV","Fragment","_Fragment","loadComments","key","s","localStorage","getItem","arr","JSON","parse","Array","isArray","map","c","parentId","saveComments","data","setItem","stringify","Comments","threadId","title","ownerName","ownerUser","collapsedByDefault","pageSize","_s2","_s","$RefreshSig$","user","token","navigate","storageKey","items","setItems","collapsed","setCollapsed","text","setText","anonComment","setAnonComment","visibleCount","setVisibleCount","load","r","fetch","encodeURIComponent","ok","list","json","topLevel","filter","sort","a","b","Date","ts","totalCount","length","postComment","e","preventDefault","trim","method","headers","Authorization","body","threadKey","isAnonymous","created","postReply","replyTextLocal","setReplyTextLocal","setOpenLocal","useAnon","txt","repliesOf","id","CommentItem","depth","replies","showReplies","setShowReplies","replyVisibleCount","setReplyVisibleCount","openReplyForm","setOpenReplyForm","replyAnon","setReplyAnon","className","children","src","avatar","author","alt","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleString","onClick","rows","placeholder","value","onChange","target","type","checked","slice","rc","onSubmit","profileImageUrl","fullName","email","disabled","_c","$RefreshReg$"],"sources":["C:/Web Systems/GovConnect/frontend/src/components/Comments.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { avatarFor, anonymousAvatar, generateAnonymousName } from '../utils/user';\nimport { useAuth } from '../context/AuthContext';\nimport { API_BASE } from '../config';\n\nfunction loadComments(key) {\n  try {\n    const s = localStorage.getItem(key);\n    const arr = s ? JSON.parse(s) : [];\n    // Migrate flat arrays to objects with parentId\n    return Array.isArray(arr) ? arr.map(c => ({ parentId: null, ...c })) : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction saveComments(key, data) {\n  try { localStorage.setItem(key, JSON.stringify(data)); } catch {}\n}\n\nexport default function Comments({ threadId, title = 'Comments', ownerName = null, ownerUser = null, collapsedByDefault = true, pageSize = 8 }) {\n  const { user, token } = useAuth();\n  const navigate = useNavigate();\n  const storageKey = `comments:${threadId}`;\n  const [items, setItems] = useState([]);\n  const [collapsed, setCollapsed] = useState(collapsedByDefault);\n  const [text, setText] = useState('');\n  // Use separate anonymous toggles for comment form and each reply form\n  const [anonComment, setAnonComment] = useState(false);\n  const [visibleCount, setVisibleCount] = useState(pageSize);\n\n  useEffect(() => {\n    async function load() {\n      try {\n        const r = await fetch(`${API_BASE}/comments?threadKey=${encodeURIComponent(threadId)}`);\n        if (!r.ok) return;\n        const list = await r.json();\n        setItems(Array.isArray(list) ? list : []);\n      } catch {}\n    }\n    load();\n  }, [threadId]);\n\n  const topLevel = useMemo(() => items.filter(c => !c.parentId).sort((a,b)=> new Date(b.ts)-new Date(a.ts)), [items]);\n  const totalCount = items.length;\n\n  const postComment = async (e) => {\n    e.preventDefault();\n    if (!user) { navigate('/login'); return; }\n    if (!text.trim()) return;\n    try {\n      const r = await fetch(`${API_BASE}/comments`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\n        body: JSON.stringify({ threadKey: threadId, text: text.trim(), isAnonymous: !!anonComment }),\n      });\n      if (!r.ok) return;\n      const created = await r.json();\n      setItems([created, ...items]);\n      setText('');\n    } catch {}\n  };\n\n  const postReply = async (parentId, replyTextLocal, setReplyTextLocal, setOpenLocal, useAnon) => {\n    const txt = (replyTextLocal || '').trim();\n    if (!txt || !user) { if (!user) navigate('/login'); return; }\n    try {\n      const r = await fetch(`${API_BASE}/comments`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\n        body: JSON.stringify({ threadKey: threadId, text: txt, parentId, isAnonymous: !!useAnon }),\n      });\n      if (!r.ok) return;\n      const created = await r.json();\n      setItems([created, ...items]);\n      setReplyTextLocal('');\n      setOpenLocal(false);\n    } catch {}\n  };\n\n  const repliesOf = (id) => items.filter(c => c.parentId === id).sort((a,b)=> new Date(a.ts)-new Date(b.ts));\n\n  const CommentItem = ({ c, depth = 0 }) => {\n    const replies = repliesOf(c.id);\n    const [showReplies, setShowReplies] = useState(false);\n    const [replyVisibleCount, setReplyVisibleCount] = useState(pageSize);\n    // Localize reply form state to avoid focus loss or unintended hide\n    const [openReplyForm, setOpenReplyForm] = useState(false);\n    const [replyTextLocal, setReplyTextLocal] = useState('');\n    const [replyAnon, setReplyAnon] = useState(false);\n    return (\n      <div className={`border rounded-md ${depth === 0 ? 'p-3' : 'p-3 ml-6 border-l-4 border-l-blue-200'}`}>\n        <div className=\"flex items-start gap-2\">\n          <img src={c.avatar || avatarFor(c.author)} alt=\"\" className=\"w-8 h-8 rounded-full object-cover\" />\n          <div className=\"flex-1\">\n            <div className=\"text-xs text-gray-500\">{new Date(c.ts).toLocaleString()}</div>\n            <div className=\"text-sm\"><span className=\"font-medium\">{c.author}</span></div>\n            <div className=\"text-sm text-gray-800\">{c.text}</div>\n            <div className=\"mt-2 flex items-center gap-3 text-xs\">\n              <button className=\"text-blue-700\" onClick={()=>setOpenReplyForm(!openReplyForm)}>Reply</button>\n              {replies.length > 0 && (\n                <button className=\"text-blue-700\" onClick={()=>setShowReplies(!showReplies)}>\n                  {showReplies ? 'Hide replies' : `Show replies (${replies.length})`}\n                </button>\n              )}\n            </div>\n            {openReplyForm && (\n              <div className=\"mt-2\">\n                <textarea\n                  className=\"w-full border rounded-md px-3 py-2 text-sm\"\n                  rows={2}\n                  placeholder=\"Write a reply...\"\n                  value={replyTextLocal}\n                  onChange={(e)=>setReplyTextLocal(e.target.value)}\n                />\n                <div className=\"flex items-center justify-between mt-2 text-xs\">\n                  <div className=\"flex items-center gap-2\">\n                    <label className=\"flex items-center gap-1\">\n                      <input type=\"checkbox\" checked={replyAnon} onChange={(e)=>setReplyAnon(e.target.checked)} /> Anonymous\n                    </label>\n                  </div>\n                  <button className=\"px-3 py-1.5 rounded-md bg-blue-600 text-white\" onClick={()=>postReply(c.id, replyTextLocal, setReplyTextLocal, setOpenReplyForm, replyAnon)}>Reply</button>\n                </div>\n              </div>\n            )}\n            {showReplies && replies.length > 0 && (\n              <div className=\"mt-3 space-y-3\">\n                {replies.slice(0, replyVisibleCount).map(rc => (\n                  <CommentItem key={rc.id} c={rc} depth={depth+1} />\n                ))}\n                {replyVisibleCount < replies.length && (\n                  <button className=\"text-blue-700 text-xs\" onClick={()=>setReplyVisibleCount(replyVisibleCount + pageSize)}>Show more replies</button>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"mt-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"font-semibold\">{title}</h3>\n        <button className=\"text-blue-700 text-sm\" onClick={()=>setCollapsed(!collapsed)}>\n          {collapsed ? `Show comments (${totalCount})` : 'Hide comments'}\n        </button>\n      </div>\n      {!collapsed && (\n        <>\n          <form onSubmit={postComment} className=\"space-y-2 border rounded-md p-3 mt-2\">\n            <div className=\"flex items-center gap-2\">\n              <img src={anonComment ? anonymousAvatar() : (user?.profileImageUrl || avatarFor(user?.fullName || user?.email))} alt=\"\" className=\"w-8 h-8 rounded-full object-cover\" />\n              <input\n                className=\"flex-1 border rounded-md px-3 py-2\"\n                placeholder=\"Write a comment...\"\n                value={text}\n                onChange={(e)=>setText(e.target.value)}\n              />\n            </div>\n            <div className=\"flex items-center justify-between text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <label className=\"flex items-center gap-1\">\n                  <input type=\"checkbox\" checked={anonComment} onChange={(e)=>setAnonComment(e.target.checked)} />\n                  Anonymous\n                </label>\n              </div>\n              <button disabled={!user} className={`px-3 py-1.5 rounded-md ${!user ? 'bg-blue-300 cursor-not-allowed text-white' : 'bg-blue-600 text-white hover:bg-blue-700'}`}>{user ? 'Comment' : 'Log in to comment'}</button>\n            </div>\n          </form>\n\n          <div className=\"mt-4 space-y-3\">\n            {topLevel.length === 0 && (\n              <div className=\"text-sm text-gray-600\">No comments yet.</div>\n            )}\n            {topLevel.slice(0, visibleCount).map(c => (\n              <CommentItem key={c.id} c={c} />\n            ))}\n            {visibleCount < topLevel.length && (\n              <button className=\"text-blue-700 text-sm\" onClick={()=>setVisibleCount(visibleCount + pageSize)}>Show more comments</button>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAC3D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,SAAS,EAAEC,eAAe,EAAEC,qBAAqB,QAAQ,eAAe;AACjF,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,QAAQ,QAAQ,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAErC,SAASC,YAAYA,CAACC,GAAG,EAAE;EACzB,IAAI;IACF,MAAMC,CAAC,GAAGC,YAAY,CAACC,OAAO,CAACH,GAAG,CAAC;IACnC,MAAMI,GAAG,GAAGH,CAAC,GAAGI,IAAI,CAACC,KAAK,CAACL,CAAC,CAAC,GAAG,EAAE;IAClC;IACA,OAAOM,KAAK,CAACC,OAAO,CAACJ,GAAG,CAAC,GAAGA,GAAG,CAACK,GAAG,CAACC,CAAC,KAAK;MAAEC,QAAQ,EAAE,IAAI;MAAE,GAAGD;IAAE,CAAC,CAAC,CAAC,GAAG,EAAE;EAC3E,CAAC,CAAC,MAAM;IACN,OAAO,EAAE;EACX;AACF;AAEA,SAASE,YAAYA,CAACZ,GAAG,EAAEa,IAAI,EAAE;EAC/B,IAAI;IAAEX,YAAY,CAACY,OAAO,CAACd,GAAG,EAAEK,IAAI,CAACU,SAAS,CAACF,IAAI,CAAC,CAAC;EAAE,CAAC,CAAC,MAAM,CAAC;AAClE;AAEA,eAAe,SAASG,QAAQA,CAAC;EAAEC,QAAQ;EAAEC,KAAK,GAAG,UAAU;EAAEC,SAAS,GAAG,IAAI;EAAEC,SAAS,GAAG,IAAI;EAAEC,kBAAkB,GAAG,IAAI;EAAEC,QAAQ,GAAG;AAAE,CAAC,EAAE;EAAAC,GAAA;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAC9I,MAAM;IAAEC,IAAI;IAAEC;EAAM,CAAC,GAAGlC,OAAO,CAAC,CAAC;EACjC,MAAMmC,QAAQ,GAAGvC,WAAW,CAAC,CAAC;EAC9B,MAAMwC,UAAU,GAAG,YAAYZ,QAAQ,EAAE;EACzC,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAG3C,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC4C,SAAS,EAAEC,YAAY,CAAC,GAAG7C,QAAQ,CAACiC,kBAAkB,CAAC;EAC9D,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAG/C,QAAQ,CAAC,EAAE,CAAC;EACpC;EACA,MAAM,CAACgD,WAAW,EAAEC,cAAc,CAAC,GAAGjD,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACkD,YAAY,EAAEC,eAAe,CAAC,GAAGnD,QAAQ,CAACkC,QAAQ,CAAC;EAE1DpC,SAAS,CAAC,MAAM;IACd,eAAesD,IAAIA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMC,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAGhD,QAAQ,uBAAuBiD,kBAAkB,CAAC1B,QAAQ,CAAC,EAAE,CAAC;QACvF,IAAI,CAACwB,CAAC,CAACG,EAAE,EAAE;QACX,MAAMC,IAAI,GAAG,MAAMJ,CAAC,CAACK,IAAI,CAAC,CAAC;QAC3Bf,QAAQ,CAACxB,KAAK,CAACC,OAAO,CAACqC,IAAI,CAAC,GAAGA,IAAI,GAAG,EAAE,CAAC;MAC3C,CAAC,CAAC,MAAM,CAAC;IACX;IACAL,IAAI,CAAC,CAAC;EACR,CAAC,EAAE,CAACvB,QAAQ,CAAC,CAAC;EAEd,MAAM8B,QAAQ,GAAG5D,OAAO,CAAC,MAAM2C,KAAK,CAACkB,MAAM,CAACtC,CAAC,IAAI,CAACA,CAAC,CAACC,QAAQ,CAAC,CAACsC,IAAI,CAAC,CAACC,CAAC,EAACC,CAAC,KAAI,IAAIC,IAAI,CAACD,CAAC,CAACE,EAAE,CAAC,GAAC,IAAID,IAAI,CAACF,CAAC,CAACG,EAAE,CAAC,CAAC,EAAE,CAACvB,KAAK,CAAC,CAAC;EACnH,MAAMwB,UAAU,GAAGxB,KAAK,CAACyB,MAAM;EAE/B,MAAMC,WAAW,GAAG,MAAOC,CAAC,IAAK;IAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAAChC,IAAI,EAAE;MAAEE,QAAQ,CAAC,QAAQ,CAAC;MAAE;IAAQ;IACzC,IAAI,CAACM,IAAI,CAACyB,IAAI,CAAC,CAAC,EAAE;IAClB,IAAI;MACF,MAAMlB,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAGhD,QAAQ,WAAW,EAAE;QAC5CkE,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE,kBAAkB;UAAEC,aAAa,EAAE,UAAUnC,KAAK;QAAG,CAAC;QACjFoC,IAAI,EAAE1D,IAAI,CAACU,SAAS,CAAC;UAAEiD,SAAS,EAAE/C,QAAQ;UAAEiB,IAAI,EAAEA,IAAI,CAACyB,IAAI,CAAC,CAAC;UAAEM,WAAW,EAAE,CAAC,CAAC7B;QAAY,CAAC;MAC7F,CAAC,CAAC;MACF,IAAI,CAACK,CAAC,CAACG,EAAE,EAAE;MACX,MAAMsB,OAAO,GAAG,MAAMzB,CAAC,CAACK,IAAI,CAAC,CAAC;MAC9Bf,QAAQ,CAAC,CAACmC,OAAO,EAAE,GAAGpC,KAAK,CAAC,CAAC;MAC7BK,OAAO,CAAC,EAAE,CAAC;IACb,CAAC,CAAC,MAAM,CAAC;EACX,CAAC;EAED,MAAMgC,SAAS,GAAG,MAAAA,CAAOxD,QAAQ,EAAEyD,cAAc,EAAEC,iBAAiB,EAAEC,YAAY,EAAEC,OAAO,KAAK;IAC9F,MAAMC,GAAG,GAAG,CAACJ,cAAc,IAAI,EAAE,EAAET,IAAI,CAAC,CAAC;IACzC,IAAI,CAACa,GAAG,IAAI,CAAC9C,IAAI,EAAE;MAAE,IAAI,CAACA,IAAI,EAAEE,QAAQ,CAAC,QAAQ,CAAC;MAAE;IAAQ;IAC5D,IAAI;MACF,MAAMa,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAGhD,QAAQ,WAAW,EAAE;QAC5CkE,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE,kBAAkB;UAAEC,aAAa,EAAE,UAAUnC,KAAK;QAAG,CAAC;QACjFoC,IAAI,EAAE1D,IAAI,CAACU,SAAS,CAAC;UAAEiD,SAAS,EAAE/C,QAAQ;UAAEiB,IAAI,EAAEsC,GAAG;UAAE7D,QAAQ;UAAEsD,WAAW,EAAE,CAAC,CAACM;QAAQ,CAAC;MAC3F,CAAC,CAAC;MACF,IAAI,CAAC9B,CAAC,CAACG,EAAE,EAAE;MACX,MAAMsB,OAAO,GAAG,MAAMzB,CAAC,CAACK,IAAI,CAAC,CAAC;MAC9Bf,QAAQ,CAAC,CAACmC,OAAO,EAAE,GAAGpC,KAAK,CAAC,CAAC;MAC7BuC,iBAAiB,CAAC,EAAE,CAAC;MACrBC,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC,MAAM,CAAC;EACX,CAAC;EAED,MAAMG,SAAS,GAAIC,EAAE,IAAK5C,KAAK,CAACkB,MAAM,CAACtC,CAAC,IAAIA,CAAC,CAACC,QAAQ,KAAK+D,EAAE,CAAC,CAACzB,IAAI,CAAC,CAACC,CAAC,EAACC,CAAC,KAAI,IAAIC,IAAI,CAACF,CAAC,CAACG,EAAE,CAAC,GAAC,IAAID,IAAI,CAACD,CAAC,CAACE,EAAE,CAAC,CAAC;EAE1G,MAAMsB,WAAW,GAAGA,CAAC;IAAEjE,CAAC;IAAEkE,KAAK,GAAG;EAAE,CAAC,KAAK;IAAApD,EAAA;IACxC,MAAMqD,OAAO,GAAGJ,SAAS,CAAC/D,CAAC,CAACgE,EAAE,CAAC;IAC/B,MAAM,CAACI,WAAW,EAAEC,cAAc,CAAC,GAAG3F,QAAQ,CAAC,KAAK,CAAC;IACrD,MAAM,CAAC4F,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG7F,QAAQ,CAACkC,QAAQ,CAAC;IACpE;IACA,MAAM,CAAC4D,aAAa,EAAEC,gBAAgB,CAAC,GAAG/F,QAAQ,CAAC,KAAK,CAAC;IACzD,MAAM,CAACgF,cAAc,EAAEC,iBAAiB,CAAC,GAAGjF,QAAQ,CAAC,EAAE,CAAC;IACxD,MAAM,CAACgG,SAAS,EAAEC,YAAY,CAAC,GAAGjG,QAAQ,CAAC,KAAK,CAAC;IACjD,oBACEQ,OAAA;MAAK0F,SAAS,EAAE,qBAAqBV,KAAK,KAAK,CAAC,GAAG,KAAK,GAAG,uCAAuC,EAAG;MAAAW,QAAA,eACnG3F,OAAA;QAAK0F,SAAS,EAAC,wBAAwB;QAAAC,QAAA,gBACrC3F,OAAA;UAAK4F,GAAG,EAAE9E,CAAC,CAAC+E,MAAM,IAAInG,SAAS,CAACoB,CAAC,CAACgF,MAAM,CAAE;UAACC,GAAG,EAAC,EAAE;UAACL,SAAS,EAAC;QAAmC;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAClGnG,OAAA;UAAK0F,SAAS,EAAC,QAAQ;UAAAC,QAAA,gBACrB3F,OAAA;YAAK0F,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAE,IAAInC,IAAI,CAAC1C,CAAC,CAAC2C,EAAE,CAAC,CAAC2C,cAAc,CAAC;UAAC;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC9EnG,OAAA;YAAK0F,SAAS,EAAC,SAAS;YAAAC,QAAA,eAAC3F,OAAA;cAAM0F,SAAS,EAAC,aAAa;cAAAC,QAAA,EAAE7E,CAAC,CAACgF;YAAM;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC9EnG,OAAA;YAAK0F,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAE7E,CAAC,CAACwB;UAAI;YAAA0D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACrDnG,OAAA;YAAK0F,SAAS,EAAC,sCAAsC;YAAAC,QAAA,gBACnD3F,OAAA;cAAQ0F,SAAS,EAAC,eAAe;cAACW,OAAO,EAAEA,CAAA,KAAId,gBAAgB,CAAC,CAACD,aAAa,CAAE;cAAAK,QAAA,EAAC;YAAK;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC9FlB,OAAO,CAACtB,MAAM,GAAG,CAAC,iBACjB3D,OAAA;cAAQ0F,SAAS,EAAC,eAAe;cAACW,OAAO,EAAEA,CAAA,KAAIlB,cAAc,CAAC,CAACD,WAAW,CAAE;cAAAS,QAAA,EACzET,WAAW,GAAG,cAAc,GAAG,iBAAiBD,OAAO,CAACtB,MAAM;YAAG;cAAAqC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D,CACT;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,EACLb,aAAa,iBACZtF,OAAA;YAAK0F,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnB3F,OAAA;cACE0F,SAAS,EAAC,4CAA4C;cACtDY,IAAI,EAAE,CAAE;cACRC,WAAW,EAAC,kBAAkB;cAC9BC,KAAK,EAAEhC,cAAe;cACtBiC,QAAQ,EAAG5C,CAAC,IAAGY,iBAAiB,CAACZ,CAAC,CAAC6C,MAAM,CAACF,KAAK;YAAE;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClD,CAAC,eACFnG,OAAA;cAAK0F,SAAS,EAAC,gDAAgD;cAAAC,QAAA,gBAC7D3F,OAAA;gBAAK0F,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,eACtC3F,OAAA;kBAAO0F,SAAS,EAAC,yBAAyB;kBAAAC,QAAA,gBACxC3F,OAAA;oBAAO2G,IAAI,EAAC,UAAU;oBAACC,OAAO,EAAEpB,SAAU;oBAACiB,QAAQ,EAAG5C,CAAC,IAAG4B,YAAY,CAAC5B,CAAC,CAAC6C,MAAM,CAACE,OAAO;kBAAE;oBAAAZ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,cAC9F;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,eACNnG,OAAA;gBAAQ0F,SAAS,EAAC,+CAA+C;gBAACW,OAAO,EAAEA,CAAA,KAAI9B,SAAS,CAACzD,CAAC,CAACgE,EAAE,EAAEN,cAAc,EAAEC,iBAAiB,EAAEc,gBAAgB,EAAEC,SAAS,CAAE;gBAAAG,QAAA,EAAC;cAAK;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3K,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,EACAjB,WAAW,IAAID,OAAO,CAACtB,MAAM,GAAG,CAAC,iBAChC3D,OAAA;YAAK0F,SAAS,EAAC,gBAAgB;YAAAC,QAAA,GAC5BV,OAAO,CAAC4B,KAAK,CAAC,CAAC,EAAEzB,iBAAiB,CAAC,CAACvE,GAAG,CAACiG,EAAE,iBACzC9G,OAAA,CAAC+E,WAAW;cAAajE,CAAC,EAAEgG,EAAG;cAAC9B,KAAK,EAAEA,KAAK,GAAC;YAAE,GAA7B8B,EAAE,CAAChC,EAAE;cAAAkB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAA0B,CAClD,CAAC,EACDf,iBAAiB,GAAGH,OAAO,CAACtB,MAAM,iBACjC3D,OAAA;cAAQ0F,SAAS,EAAC,uBAAuB;cAACW,OAAO,EAAEA,CAAA,KAAIhB,oBAAoB,CAACD,iBAAiB,GAAG1D,QAAQ,CAAE;cAAAiE,QAAA,EAAC;YAAiB;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CACrI;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV,CAAC;EAACvE,EAAA,CAzDImD,WAAW;EA2DjB,oBACE/E,OAAA;IAAK0F,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACnB3F,OAAA;MAAK0F,SAAS,EAAC,mCAAmC;MAAAC,QAAA,gBAChD3F,OAAA;QAAI0F,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAErE;MAAK;QAAA0E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC1CnG,OAAA;QAAQ0F,SAAS,EAAC,uBAAuB;QAACW,OAAO,EAAEA,CAAA,KAAIhE,YAAY,CAAC,CAACD,SAAS,CAAE;QAAAuD,QAAA,EAC7EvD,SAAS,GAAG,kBAAkBsB,UAAU,GAAG,GAAG;MAAe;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EACL,CAAC/D,SAAS,iBACTpC,OAAA,CAAAE,SAAA;MAAAyF,QAAA,gBACE3F,OAAA;QAAM+G,QAAQ,EAAEnD,WAAY;QAAC8B,SAAS,EAAC,sCAAsC;QAAAC,QAAA,gBAC3E3F,OAAA;UAAK0F,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACtC3F,OAAA;YAAK4F,GAAG,EAAEpD,WAAW,GAAG7C,eAAe,CAAC,CAAC,GAAI,CAAAmC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEkF,eAAe,KAAItH,SAAS,CAAC,CAAAoC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEmF,QAAQ,MAAInF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEoF,KAAK,EAAG;YAACnB,GAAG,EAAC,EAAE;YAACL,SAAS,EAAC;UAAmC;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACxKnG,OAAA;YACE0F,SAAS,EAAC,oCAAoC;YAC9Ca,WAAW,EAAC,oBAAoB;YAChCC,KAAK,EAAElE,IAAK;YACZmE,QAAQ,EAAG5C,CAAC,IAAGtB,OAAO,CAACsB,CAAC,CAAC6C,MAAM,CAACF,KAAK;UAAE;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNnG,OAAA;UAAK0F,SAAS,EAAC,2CAA2C;UAAAC,QAAA,gBACxD3F,OAAA;YAAK0F,SAAS,EAAC,yBAAyB;YAAAC,QAAA,eACtC3F,OAAA;cAAO0F,SAAS,EAAC,yBAAyB;cAAAC,QAAA,gBACxC3F,OAAA;gBAAO2G,IAAI,EAAC,UAAU;gBAACC,OAAO,EAAEpE,WAAY;gBAACiE,QAAQ,EAAG5C,CAAC,IAAGpB,cAAc,CAACoB,CAAC,CAAC6C,MAAM,CAACE,OAAO;cAAE;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,aAElG;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eACNnG,OAAA;YAAQmH,QAAQ,EAAE,CAACrF,IAAK;YAAC4D,SAAS,EAAE,0BAA0B,CAAC5D,IAAI,GAAG,2CAA2C,GAAG,0CAA0C,EAAG;YAAA6D,QAAA,EAAE7D,IAAI,GAAG,SAAS,GAAG;UAAmB;YAAAkE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAEPnG,OAAA;QAAK0F,SAAS,EAAC,gBAAgB;QAAAC,QAAA,GAC5BxC,QAAQ,CAACQ,MAAM,KAAK,CAAC,iBACpB3D,OAAA;UAAK0F,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAAgB;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAC7D,EACAhD,QAAQ,CAAC0D,KAAK,CAAC,CAAC,EAAEnE,YAAY,CAAC,CAAC7B,GAAG,CAACC,CAAC,iBACpCd,OAAA,CAAC+E,WAAW;UAAYjE,CAAC,EAAEA;QAAE,GAAXA,CAAC,CAACgE,EAAE;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAChC,CAAC,EACDzD,YAAY,GAAGS,QAAQ,CAACQ,MAAM,iBAC7B3D,OAAA;UAAQ0F,SAAS,EAAC,uBAAuB;UAACW,OAAO,EAAEA,CAAA,KAAI1D,eAAe,CAACD,YAAY,GAAGhB,QAAQ,CAAE;UAAAiE,QAAA,EAAC;QAAkB;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAC5H;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA,eACN,CACH;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACxE,GAAA,CAvKuBP,QAAQ;EAAA,QACNvB,OAAO,EACdJ,WAAW;AAAA;AAAA2H,EAAA,GAFNhG,QAAQ;AAAA,IAAAgG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}