{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web Systems\\\\GovConnect\\\\frontend\\\\src\\\\components\\\\Comments.jsx\",\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { avatarFor, ensureUser, anonymousAvatar, generateAnonymousName } from '../utils/user';\nimport { addNotification } from '../utils/notifications';\nimport { recordEngagement } from '../utils/engagements';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction loadComments(key) {\n  try {\n    const s = localStorage.getItem(key);\n    const arr = s ? JSON.parse(s) : [];\n    // Migrate flat arrays to objects with parentId\n    return Array.isArray(arr) ? arr.map(c => ({\n      parentId: null,\n      ...c\n    })) : [];\n  } catch {\n    return [];\n  }\n}\nfunction saveComments(key, data) {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n  } catch {}\n}\nexport default function Comments({\n  threadId,\n  title = 'Comments',\n  ownerName = null,\n  ownerUser = null,\n  collapsedByDefault = true,\n  pageSize = 8\n}) {\n  _s2();\n  var _s = $RefreshSig$();\n  const storageKey = `comments:${threadId}`;\n  const [items, setItems] = useState(() => loadComments(storageKey));\n  const [collapsed, setCollapsed] = useState(collapsedByDefault);\n  const [text, setText] = useState('');\n  // Use separate anonymous toggles for comment form and each reply form\n  const [anonComment, setAnonComment] = useState(false);\n  const [visibleCount, setVisibleCount] = useState(pageSize);\n  useEffect(() => {\n    saveComments(storageKey, items);\n  }, [items]);\n  const topLevel = useMemo(() => items.filter(c => !c.parentId).sort((a, b) => new Date(b.ts) - new Date(a.ts)), [items]);\n  const totalCount = items.length;\n  const currentUser = ensureUser();\n  const postComment = e => {\n    e.preventDefault();\n    if (!text.trim()) return;\n    const author = anonComment ? generateAnonymousName() : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || 'User';\n    const avatar = anonComment ? anonymousAvatar() : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.avatar) || avatarFor(author);\n    const c = {\n      id: Date.now().toString(),\n      author,\n      user: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || author,\n      avatar,\n      text: text.trim(),\n      ts: new Date().toISOString(),\n      parentId: null\n    };\n    setItems([c, ...items]);\n    setText('');\n    // Record engagement for current user regardless of anonymity\n    recordEngagement(currentUser.name, storageKey);\n    // Notify thread owner (e.g., post author) if provided and not the same as commenter\n    const targetUser = ownerUser || ownerName;\n    if (targetUser && targetUser !== ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || author)) {\n      addNotification(targetUser, {\n        type: 'comment',\n        message: `${author} commented on your post`,\n        threadId\n      });\n    }\n  };\n  const postReply = (parentId, replyTextLocal, setReplyTextLocal, setOpenLocal, useAnon) => {\n    const txt = (replyTextLocal || '').trim();\n    if (!txt) return;\n    const author = useAnon ? generateAnonymousName() : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || 'User';\n    const avatar = useAnon ? anonymousAvatar() : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.avatar) || avatarFor(author);\n    const r = {\n      id: Date.now().toString(),\n      author,\n      user: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || author,\n      avatar,\n      text: txt,\n      ts: new Date().toISOString(),\n      parentId\n    };\n    setItems([r, ...items]);\n    setReplyTextLocal('');\n    setOpenLocal(false);\n    recordEngagement(currentUser.name, storageKey);\n    const parent = items.find(i => i.id === parentId);\n    const parentUser = (parent === null || parent === void 0 ? void 0 : parent.user) || (parent === null || parent === void 0 ? void 0 : parent.author);\n    if (parentUser && parentUser !== ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || author)) {\n      addNotification(parentUser, {\n        type: 'reply',\n        message: `${author} replied to your comment`,\n        threadId\n      });\n    }\n  };\n  const repliesOf = id => items.filter(c => c.parentId === id).sort((a, b) => new Date(a.ts) - new Date(b.ts));\n  const CommentItem = ({\n    c,\n    depth = 0\n  }) => {\n    _s();\n    const replies = repliesOf(c.id);\n    const [showReplies, setShowReplies] = useState(false);\n    const [replyVisibleCount, setReplyVisibleCount] = useState(pageSize);\n    // Localize reply form state to avoid focus loss or unintended hide\n    const [openReplyForm, setOpenReplyForm] = useState(false);\n    const [replyTextLocal, setReplyTextLocal] = useState('');\n    const [replyAnon, setReplyAnon] = useState(false);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `border rounded-md ${depth === 0 ? 'p-3' : 'p-3 ml-6 border-l-4 border-l-blue-200'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: c.avatar || avatarFor(c.author),\n          alt: \"\",\n          className: \"w-8 h-8 rounded-full object-cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: new Date(c.ts).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: c.author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-800\",\n            children: c.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 flex items-center gap-3 text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-blue-700\",\n              onClick: () => setOpenReplyForm(!openReplyForm),\n              children: \"Reply\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), replies.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-blue-700\",\n              onClick: () => setShowReplies(!showReplies),\n              children: showReplies ? 'Hide replies' : `Show replies (${replies.length})`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), openReplyForm && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"w-full border rounded-md px-3 py-2 text-sm\",\n              rows: 2,\n              placeholder: \"Write a reply...\",\n              value: replyTextLocal,\n              onChange: e => setReplyTextLocal(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mt-2 text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: replyAnon,\n                    onChange: e => setReplyAnon(e.target.checked)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 23\n                  }, this), \" Anonymous\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-3 py-1.5 rounded-md bg-blue-600 text-white\",\n                onClick: () => postReply(c.id, replyTextLocal, setReplyTextLocal, setOpenReplyForm, replyAnon),\n                children: \"Reply\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this), showReplies && replies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 space-y-3\",\n            children: [replies.slice(0, replyVisibleCount).map(rc => /*#__PURE__*/_jsxDEV(CommentItem, {\n              c: rc,\n              depth: depth + 1\n            }, rc.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 19\n            }, this)), replyVisibleCount < replies.length && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-blue-700 text-xs\",\n              onClick: () => setReplyVisibleCount(replyVisibleCount + pageSize),\n              children: \"Show more replies\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this);\n  };\n  _s(CommentItem, \"loVkBbXAnoSBIa9nNYKwQelsj30=\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"text-blue-700 text-sm\",\n        onClick: () => setCollapsed(!collapsed),\n        children: collapsed ? `Show comments (${totalCount})` : 'Hide comments'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), !collapsed && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: postComment,\n        className: \"space-y-2 border rounded-md p-3 mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: anonComment ? anonymousAvatar() : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.avatar) || avatarFor(currentUser === null || currentUser === void 0 ? void 0 : currentUser.name),\n            alt: \"\",\n            className: \"w-8 h-8 rounded-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"flex-1 border rounded-md px-3 py-2\",\n            placeholder: \"Write a comment...\",\n            value: text,\n            onChange: e => setText(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: anonComment,\n                onChange: e => setAnonComment(e.target.checked)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this), \"Anonymous\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-blue-600 text-white px-3 py-1.5 rounded-md hover:bg-blue-700\",\n            children: \"Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 space-y-3\",\n        children: [topLevel.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"No comments yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 15\n        }, this), topLevel.slice(0, visibleCount).map(c => /*#__PURE__*/_jsxDEV(CommentItem, {\n          c: c\n        }, c.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 15\n        }, this)), visibleCount < topLevel.length && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-blue-700 text-sm\",\n          onClick: () => setVisibleCount(visibleCount + pageSize),\n          children: \"Show more comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n}\n_s2(Comments, \"GlifAfby5a+ZH4YCwZvNej7YbVI=\");\n_c = Comments;\nvar _c;\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","avatarFor","ensureUser","anonymousAvatar","generateAnonymousName","addNotification","recordEngagement","jsxDEV","_jsxDEV","Fragment","_Fragment","loadComments","key","s","localStorage","getItem","arr","JSON","parse","Array","isArray","map","c","parentId","saveComments","data","setItem","stringify","Comments","threadId","title","ownerName","ownerUser","collapsedByDefault","pageSize","_s2","_s","$RefreshSig$","storageKey","items","setItems","collapsed","setCollapsed","text","setText","anonComment","setAnonComment","visibleCount","setVisibleCount","topLevel","filter","sort","a","b","Date","ts","totalCount","length","currentUser","postComment","e","preventDefault","trim","author","name","avatar","id","now","toString","user","toISOString","targetUser","type","message","postReply","replyTextLocal","setReplyTextLocal","setOpenLocal","useAnon","txt","r","parent","find","i","parentUser","repliesOf","CommentItem","depth","replies","showReplies","setShowReplies","replyVisibleCount","setReplyVisibleCount","openReplyForm","setOpenReplyForm","replyAnon","setReplyAnon","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleString","onClick","rows","placeholder","value","onChange","target","checked","slice","rc","onSubmit","_c","$RefreshReg$"],"sources":["C:/Web Systems/GovConnect/frontend/src/components/Comments.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { avatarFor, ensureUser, anonymousAvatar, generateAnonymousName } from '../utils/user';\nimport { addNotification } from '../utils/notifications';\nimport { recordEngagement } from '../utils/engagements';\n\nfunction loadComments(key) {\n  try {\n    const s = localStorage.getItem(key);\n    const arr = s ? JSON.parse(s) : [];\n    // Migrate flat arrays to objects with parentId\n    return Array.isArray(arr) ? arr.map(c => ({ parentId: null, ...c })) : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction saveComments(key, data) {\n  try { localStorage.setItem(key, JSON.stringify(data)); } catch {}\n}\n\nexport default function Comments({ threadId, title = 'Comments', ownerName = null, ownerUser = null, collapsedByDefault = true, pageSize = 8 }) {\n  const storageKey = `comments:${threadId}`;\n  const [items, setItems] = useState(() => loadComments(storageKey));\n  const [collapsed, setCollapsed] = useState(collapsedByDefault);\n  const [text, setText] = useState('');\n  // Use separate anonymous toggles for comment form and each reply form\n  const [anonComment, setAnonComment] = useState(false);\n  const [visibleCount, setVisibleCount] = useState(pageSize);\n\n  useEffect(() => { saveComments(storageKey, items); }, [items]);\n\n  const topLevel = useMemo(() => items.filter(c => !c.parentId).sort((a,b)=> new Date(b.ts)-new Date(a.ts)), [items]);\n  const totalCount = items.length;\n\n  const currentUser = ensureUser();\n\n  const postComment = (e) => {\n    e.preventDefault();\n    if (!text.trim()) return;\n    const author = anonComment ? generateAnonymousName() : (currentUser?.name || 'User');\n    const avatar = anonComment ? anonymousAvatar() : (currentUser?.avatar || avatarFor(author));\n    const c = {\n      id: Date.now().toString(),\n      author,\n      user: currentUser?.name || author,\n      avatar,\n      text: text.trim(),\n      ts: new Date().toISOString(),\n      parentId: null\n    };\n    setItems([c, ...items]);\n    setText('');\n    // Record engagement for current user regardless of anonymity\n    recordEngagement(currentUser.name, storageKey);\n    // Notify thread owner (e.g., post author) if provided and not the same as commenter\n    const targetUser = ownerUser || ownerName;\n    if (targetUser && targetUser !== (currentUser?.name || author)) {\n      addNotification(targetUser, { type: 'comment', message: `${author} commented on your post`, threadId });\n    }\n  };\n\n  const postReply = (parentId, replyTextLocal, setReplyTextLocal, setOpenLocal, useAnon) => {\n    const txt = (replyTextLocal || '').trim();\n    if (!txt) return;\n    const author = useAnon ? generateAnonymousName() : (currentUser?.name || 'User');\n    const avatar = useAnon ? anonymousAvatar() : (currentUser?.avatar || avatarFor(author));\n    const r = {\n      id: Date.now().toString(),\n      author,\n      user: currentUser?.name || author,\n      avatar,\n      text: txt,\n      ts: new Date().toISOString(),\n      parentId\n    };\n    setItems([r, ...items]);\n    setReplyTextLocal('');\n    setOpenLocal(false);\n    recordEngagement(currentUser.name, storageKey);\n    const parent = items.find(i => i.id === parentId);\n    const parentUser = parent?.user || parent?.author;\n    if (parentUser && parentUser !== (currentUser?.name || author)) {\n      addNotification(parentUser, { type: 'reply', message: `${author} replied to your comment`, threadId });\n    }\n  };\n\n  const repliesOf = (id) => items.filter(c => c.parentId === id).sort((a,b)=> new Date(a.ts)-new Date(b.ts));\n\n  const CommentItem = ({ c, depth = 0 }) => {\n    const replies = repliesOf(c.id);\n    const [showReplies, setShowReplies] = useState(false);\n    const [replyVisibleCount, setReplyVisibleCount] = useState(pageSize);\n    // Localize reply form state to avoid focus loss or unintended hide\n    const [openReplyForm, setOpenReplyForm] = useState(false);\n    const [replyTextLocal, setReplyTextLocal] = useState('');\n    const [replyAnon, setReplyAnon] = useState(false);\n    return (\n      <div className={`border rounded-md ${depth === 0 ? 'p-3' : 'p-3 ml-6 border-l-4 border-l-blue-200'}`}>\n        <div className=\"flex items-start gap-2\">\n          <img src={c.avatar || avatarFor(c.author)} alt=\"\" className=\"w-8 h-8 rounded-full object-cover\" />\n          <div className=\"flex-1\">\n            <div className=\"text-xs text-gray-500\">{new Date(c.ts).toLocaleString()}</div>\n            <div className=\"text-sm\"><span className=\"font-medium\">{c.author}</span></div>\n            <div className=\"text-sm text-gray-800\">{c.text}</div>\n            <div className=\"mt-2 flex items-center gap-3 text-xs\">\n              <button className=\"text-blue-700\" onClick={()=>setOpenReplyForm(!openReplyForm)}>Reply</button>\n              {replies.length > 0 && (\n                <button className=\"text-blue-700\" onClick={()=>setShowReplies(!showReplies)}>\n                  {showReplies ? 'Hide replies' : `Show replies (${replies.length})`}\n                </button>\n              )}\n            </div>\n            {openReplyForm && (\n              <div className=\"mt-2\">\n                <textarea\n                  className=\"w-full border rounded-md px-3 py-2 text-sm\"\n                  rows={2}\n                  placeholder=\"Write a reply...\"\n                  value={replyTextLocal}\n                  onChange={(e)=>setReplyTextLocal(e.target.value)}\n                />\n                <div className=\"flex items-center justify-between mt-2 text-xs\">\n                  <div className=\"flex items-center gap-2\">\n                    <label className=\"flex items-center gap-1\">\n                      <input type=\"checkbox\" checked={replyAnon} onChange={(e)=>setReplyAnon(e.target.checked)} /> Anonymous\n                    </label>\n                  </div>\n                  <button className=\"px-3 py-1.5 rounded-md bg-blue-600 text-white\" onClick={()=>postReply(c.id, replyTextLocal, setReplyTextLocal, setOpenReplyForm, replyAnon)}>Reply</button>\n                </div>\n              </div>\n            )}\n            {showReplies && replies.length > 0 && (\n              <div className=\"mt-3 space-y-3\">\n                {replies.slice(0, replyVisibleCount).map(rc => (\n                  <CommentItem key={rc.id} c={rc} depth={depth+1} />\n                ))}\n                {replyVisibleCount < replies.length && (\n                  <button className=\"text-blue-700 text-xs\" onClick={()=>setReplyVisibleCount(replyVisibleCount + pageSize)}>Show more replies</button>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"mt-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"font-semibold\">{title}</h3>\n        <button className=\"text-blue-700 text-sm\" onClick={()=>setCollapsed(!collapsed)}>\n          {collapsed ? `Show comments (${totalCount})` : 'Hide comments'}\n        </button>\n      </div>\n      {!collapsed && (\n        <>\n          <form onSubmit={postComment} className=\"space-y-2 border rounded-md p-3 mt-2\">\n            <div className=\"flex items-center gap-2\">\n              <img src={anonComment ? anonymousAvatar() : (currentUser?.avatar || avatarFor(currentUser?.name))} alt=\"\" className=\"w-8 h-8 rounded-full object-cover\" />\n              <input\n                className=\"flex-1 border rounded-md px-3 py-2\"\n                placeholder=\"Write a comment...\"\n                value={text}\n                onChange={(e)=>setText(e.target.value)}\n              />\n            </div>\n            <div className=\"flex items-center justify-between text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <label className=\"flex items-center gap-1\">\n                  <input type=\"checkbox\" checked={anonComment} onChange={(e)=>setAnonComment(e.target.checked)} />\n                  Anonymous\n                </label>\n              </div>\n              <button className=\"bg-blue-600 text-white px-3 py-1.5 rounded-md hover:bg-blue-700\">Comment</button>\n            </div>\n          </form>\n\n          <div className=\"mt-4 space-y-3\">\n            {topLevel.length === 0 && (\n              <div className=\"text-sm text-gray-600\">No comments yet.</div>\n            )}\n            {topLevel.slice(0, visibleCount).map(c => (\n              <CommentItem key={c.id} c={c} />\n            ))}\n            {visibleCount < topLevel.length && (\n              <button className=\"text-blue-700 text-sm\" onClick={()=>setVisibleCount(visibleCount + pageSize)}>Show more comments</button>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}