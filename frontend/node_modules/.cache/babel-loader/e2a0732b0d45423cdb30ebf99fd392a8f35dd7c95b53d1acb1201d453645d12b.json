{"ast":null,"code":"const USER_KEY = 'forum:user';\nexport function getCurrentUser() {\n  try {\n    const s = localStorage.getItem(USER_KEY);\n    if (s) return JSON.parse(s);\n  } catch {}\n  return null;\n}\nexport function setCurrentUser(user) {\n  try {\n    localStorage.setItem(USER_KEY, JSON.stringify(user));\n  } catch {}\n}\nexport function ensureUser() {\n  let u = getCurrentUser();\n  if (!u) {\n    u = {\n      name: 'You',\n      avatar: avatarFor('You')\n    };\n    setCurrentUser(u);\n  }\n  return u;\n}\nexport function avatarFor(name) {\n  const key = encodeURIComponent(name || 'anon');\n  // Placeholder avatar provider\n  return `https://i.pravatar.cc/100?u=${key}`;\n}\nexport function anonymousAvatar() {\n  // Default anonymous avatar placeholder\n  return 'https://i.pravatar.cc/100?img=5';\n}\nexport function generateAnonymousName() {\n  // e.g., Anonymous-7F3A\n  const suffix = Math.random().toString(36).slice(2, 6).toUpperCase();\n  return `Anonymous-${suffix}`;\n}","map":{"version":3,"names":["USER_KEY","getCurrentUser","s","localStorage","getItem","JSON","parse","setCurrentUser","user","setItem","stringify","ensureUser","u","name","avatar","avatarFor","key","encodeURIComponent","anonymousAvatar","generateAnonymousName","suffix","Math","random","toString","slice","toUpperCase"],"sources":["C:/Web Systems/GovConnect/frontend/src/utils/user.js"],"sourcesContent":["const USER_KEY = 'forum:user';\n\nexport function getCurrentUser() {\n  try {\n    const s = localStorage.getItem(USER_KEY);\n    if (s) return JSON.parse(s);\n  } catch {}\n  return null;\n}\n\nexport function setCurrentUser(user) {\n  try { localStorage.setItem(USER_KEY, JSON.stringify(user)); } catch {}\n}\n\nexport function ensureUser() {\n  let u = getCurrentUser();\n  if (!u) {\n    u = {\n      name: 'You',\n      avatar: avatarFor('You')\n    };\n    setCurrentUser(u);\n  }\n  return u;\n}\n\nexport function avatarFor(name) {\n  const key = encodeURIComponent(name || 'anon');\n  // Placeholder avatar provider\n  return `https://i.pravatar.cc/100?u=${key}`;\n}\n\nexport function anonymousAvatar() {\n  // Default anonymous avatar placeholder\n  return 'https://i.pravatar.cc/100?img=5';\n}\n\nexport function generateAnonymousName() {\n  // e.g., Anonymous-7F3A\n  const suffix = Math.random().toString(36).slice(2, 6).toUpperCase();\n  return `Anonymous-${suffix}`;\n}\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,YAAY;AAE7B,OAAO,SAASC,cAAcA,CAAA,EAAG;EAC/B,IAAI;IACF,MAAMC,CAAC,GAAGC,YAAY,CAACC,OAAO,CAACJ,QAAQ,CAAC;IACxC,IAAIE,CAAC,EAAE,OAAOG,IAAI,CAACC,KAAK,CAACJ,CAAC,CAAC;EAC7B,CAAC,CAAC,MAAM,CAAC;EACT,OAAO,IAAI;AACb;AAEA,OAAO,SAASK,cAAcA,CAACC,IAAI,EAAE;EACnC,IAAI;IAAEL,YAAY,CAACM,OAAO,CAACT,QAAQ,EAAEK,IAAI,CAACK,SAAS,CAACF,IAAI,CAAC,CAAC;EAAE,CAAC,CAAC,MAAM,CAAC;AACvE;AAEA,OAAO,SAASG,UAAUA,CAAA,EAAG;EAC3B,IAAIC,CAAC,GAAGX,cAAc,CAAC,CAAC;EACxB,IAAI,CAACW,CAAC,EAAE;IACNA,CAAC,GAAG;MACFC,IAAI,EAAE,KAAK;MACXC,MAAM,EAAEC,SAAS,CAAC,KAAK;IACzB,CAAC;IACDR,cAAc,CAACK,CAAC,CAAC;EACnB;EACA,OAAOA,CAAC;AACV;AAEA,OAAO,SAASG,SAASA,CAACF,IAAI,EAAE;EAC9B,MAAMG,GAAG,GAAGC,kBAAkB,CAACJ,IAAI,IAAI,MAAM,CAAC;EAC9C;EACA,OAAO,+BAA+BG,GAAG,EAAE;AAC7C;AAEA,OAAO,SAASE,eAAeA,CAAA,EAAG;EAChC;EACA,OAAO,iCAAiC;AAC1C;AAEA,OAAO,SAASC,qBAAqBA,CAAA,EAAG;EACtC;EACA,MAAMC,MAAM,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EACnE,OAAO,aAAaL,MAAM,EAAE;AAC9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}