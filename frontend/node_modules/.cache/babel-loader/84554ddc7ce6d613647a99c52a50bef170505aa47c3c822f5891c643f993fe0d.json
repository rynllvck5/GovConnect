{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web Systems\\\\GovConnect\\\\frontend\\\\src\\\\pages\\\\Government.jsx\",\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\n// import barangays from '../data/barangays';\nimport awards from '../data/awards';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { API_BASE, API_ORIGIN } from '../config';\nimport Modal from '../components/Modal';\nimport MapPicker from '../components/MapPicker';\nimport CategoryForm from '../components/gov/CategoryForm';\nimport EntryForm from '../components/gov/EntryForm';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Government() {\n  _s2();\n  var _s = $RefreshSig$();\n  const {\n    user,\n    token\n  } = useAuth();\n  const isAdmin = !!user && (user.role === 'admin' || user.role === 'superadmin');\n  const myOfficeId = (user === null || user === void 0 ? void 0 : user.officeId) || (user === null || user === void 0 ? void 0 : user.office_id) || null;\n  const myBarangayId = (user === null || user === void 0 ? void 0 : user.barangayId) || (user === null || user === void 0 ? void 0 : user.barangay_id) || null;\n  const myUserId = (user === null || user === void 0 ? void 0 : user.id) || (user === null || user === void 0 ? void 0 : user.userId) || null;\n  const [selectedAward, setSelectedAward] = useState(null);\n  const [offices, setOffices] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [showAdd, setShowAdd] = useState(false);\n  const [showEdit, setShowEdit] = useState(null); // office object or null\n  const [deleteTarget, setDeleteTarget] = useState(null);\n  // Barangays state\n  const [barangays, setBarangays] = useState([]);\n  const [brgyLoading, setBrgyLoading] = useState(false);\n  const [brgyError, setBrgyError] = useState('');\n  const [showAddBrgy, setShowAddBrgy] = useState(false);\n  const [showEditBrgy, setShowEditBrgy] = useState(null);\n  const [deleteBrgy, setDeleteBrgy] = useState(null);\n  const [errorDialog, setErrorDialog] = useState({\n    open: false,\n    title: '',\n    message: '',\n    description: ''\n  });\n  async function loadOffices() {\n    setLoading(true);\n    setError('');\n    try {\n      const r = await fetch(`${API_BASE}/offices`);\n      if (!r.ok) throw new Error('Failed loading offices');\n      const list = await r.json();\n      setOffices(Array.isArray(list) ? list : []);\n    } catch (e) {\n      setError(e.message || 'Error');\n    } finally {\n      setLoading(false);\n    }\n  }\n  async function handleCreateOfficial(fd) {\n    const r = await fetch(`${API_BASE}/gov/municipal-officials`, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      body: fd\n    });\n    if (!r.ok) {\n      const e = await r.json().catch(() => ({}));\n      throw new Error(e.error || 'Failed to save official');\n    }\n    await loadMunicipalOfficials();\n  }\n  async function handleUpdateOfficial(id, fd) {\n    const r = await fetch(`${API_BASE}/gov/municipal-officials/${id}`, {\n      method: 'PUT',\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      body: fd\n    });\n    if (!r.ok) {\n      const e = await r.json().catch(() => ({}));\n      throw new Error(e.error || 'Failed to update official');\n    }\n    await loadMunicipalOfficials();\n  }\n\n  // Anchor scrolling support\n  const location = useLocation();\n  useEffect(() => {\n    if (location.hash) {\n      const el = document.querySelector(location.hash);\n      if (el) el.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }\n  }, [location]);\n\n  // Helpers for dynamic sections\n  function renderFieldValue(type, value, label) {\n    if (value == null) return null;\n    if (type === 'image') return /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"\",\n      src: `${API_ORIGIN}${value}`,\n      className: \"w-full h-40 object-cover rounded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 35\n    }, this);\n    if (type === 'images' || type === 'gallery') return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-2\",\n      children: (value || []).map((u, i) => /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"\",\n        src: `${API_ORIGIN}${u}`,\n        className: \"w-full h-32 object-cover rounded\"\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 74\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n    if (type === 'file') return /*#__PURE__*/_jsxDEV(\"a\", {\n      className: \"text-blue-700 hover:underline\",\n      href: `${API_ORIGIN}${value}`,\n      download: true,\n      children: label || 'Download file'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 34\n    }, this);\n    if (type === 'files') return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-disc ml-5\",\n      children: (value || []).map((u, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"text-blue-700 hover:underline\",\n          href: `${API_ORIGIN}${u}`,\n          download: true,\n          children: `File ${i + 1}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 77\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 65\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n    if (type === 'link') return /*#__PURE__*/_jsxDEV(\"a\", {\n      className: \"text-blue-700 hover:underline\",\n      href: String(value),\n      target: \"_blank\",\n      rel: \"noreferrer\",\n      children: String(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 34\n    }, this);\n    if (type === 'textarea' || type === 'richtext') return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"whitespace-pre-wrap\",\n      children: String(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 61\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: String(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this);\n  }\n  function EntryCard({\n    e,\n    fields\n  }) {\n    _s();\n    const [expanded, setExpanded] = useState(false);\n    const canEditEntry = isAdmin || !!user && user.role === 'officer' && myUserId && Number(myUserId) === Number(e.manager_user_id);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border rounded-md p-4 bg-white relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium\",\n          children: e.title || '—'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), (isAdmin || canEditEntry) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setEntryModal({\n              mode: 'edit',\n              entry: e,\n              cat: dynCats.find(c => c.id === e.category_id)\n            }),\n            className: \"text-xs px-2 py-1 rounded bg-yellow-500 text-white\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setEntryDelete(e),\n            className: \"text-xs px-2 py-1 rounded bg-red-600 text-white\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mt-2 space-y-2 text-sm ${expanded ? '' : 'max-h-64 overflow-hidden relative'}`,\n        children: [fields.map(f => e.content_json && e.content_json[f.key] != null ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: f.type === 'image' || f.type === 'images' || f.type === 'gallery' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [String(f.label || '').trim() ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-700 font-medium text-xs mb-1\",\n              children: f.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 23\n            }, this) : null, renderFieldValue(f.type, e.content_json[f.key], e.content_json[`${f.key}_label`])]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-700 font-medium text-xs mb-1\",\n              children: f.label || f.key\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 21\n            }, this), renderFieldValue(f.type, e.content_json[f.key], e.content_json[`${f.key}_label`])]\n          }, void 0, true)\n        }, f.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this) : null), !expanded && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pointer-events-none absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-white to-transparent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setExpanded(v => !v),\n          className: \"text-xs px-2 py-1 rounded border bg-white\",\n          children: expanded ? 'Show less' : 'Show more'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this);\n  }\n  _s(EntryCard, \"DuL5jiiQQFgbn7gBKAyxwS/H4Ek=\");\n  function DynamicCategorySection({\n    cat\n  }) {\n    var _cat$schema_json;\n    const fields = Array.isArray(cat === null || cat === void 0 ? void 0 : (_cat$schema_json = cat.schema_json) === null || _cat$schema_json === void 0 ? void 0 : _cat$schema_json.fields) ? cat.schema_json.fields : [];\n    const entries = entriesByCat[cat.id] || [];\n    if (!isAdmin && entries.length === 0) return null;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      id: `govcat-${cat.slug}`,\n      className: \"scroll-mt-20\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold mb-3\",\n          children: cat.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setEntryModal({\n              mode: 'add',\n              cat\n            }),\n            className: \"text-sm px-3 py-1.5 rounded border bg-white\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCatModal({\n              mode: 'edit',\n              cat\n            }),\n            className: \"text-sm px-3 py-1.5 rounded border bg-white\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCatDelete(cat),\n            className: \"text-sm px-3 py-1.5 rounded border bg-white text-red-700\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), cat.description && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-700 mb-2\",\n        children: cat.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\",\n        children: entries.map(e => /*#__PURE__*/_jsxDEV(EntryCard, {\n          e: e,\n          fields: fields\n        }, e.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), isAdmin && entries.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: \"No entries yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 45\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n  useEffect(() => {\n    loadOffices();\n  }, []);\n  useEffect(() => {\n    loadBarangays();\n  }, []);\n\n  // Dynamic categories state\n  const [dynCats, setDynCats] = useState([]);\n  const [dynLoading, setDynLoading] = useState(false);\n  const [dynError, setDynError] = useState('');\n  const [catModal, setCatModal] = useState(null); // null | { mode:'add' } | { mode:'edit', cat }\n  const [catDelete, setCatDelete] = useState(null);\n  const [catDeleteStatus, setCatDeleteStatus] = useState({\n    kind: null,\n    text: ''\n  });\n  const [entryModal, setEntryModal] = useState(null); // null | { mode:'add', cat } | { mode:'edit', entry, cat }\n  const [entryDelete, setEntryDelete] = useState(null); // { entry }\n  const [entryDeleteStatus, setEntryDeleteStatus] = useState({\n    kind: null,\n    text: ''\n  });\n  const [entriesByCat, setEntriesByCat] = useState({}); // catId -> entries[]\n  // Municipal Officials (dynamic)\n  const [moList, setMoList] = useState([]);\n  const [moLoading, setMoLoading] = useState(false);\n  const [moError, setMoError] = useState('');\n  const [showAddMO, setShowAddMO] = useState(false);\n  const [showEditMO, setShowEditMO] = useState(null); // item or null\n  const [deleteMO, setDeleteMO] = useState(null);\n  async function loadDynCats() {\n    setDynLoading(true);\n    setDynError('');\n    try {\n      const r = await fetch(`${API_BASE}/gov/categories`);\n      if (!r.ok) throw new Error('Failed loading categories');\n      const list = await r.json();\n      setDynCats(Array.isArray(list) ? list : []);\n    } catch (e) {\n      setDynError(e.message || 'Error');\n    } finally {\n      setDynLoading(false);\n    }\n  }\n  async function loadEntries(catId) {\n    try {\n      const r = await fetch(`${API_BASE}/gov/categories/${catId}/entries`);\n      if (!r.ok) throw new Error('Failed loading entries');\n      const list = await r.json();\n      setEntriesByCat(prev => ({\n        ...prev,\n        [catId]: Array.isArray(list) ? list : []\n      }));\n    } catch {}\n  }\n  async function loadMunicipalOfficials() {\n    setMoLoading(true);\n    setMoError('');\n    try {\n      const r = await fetch(`${API_BASE}/gov/municipal-officials`);\n      if (!r.ok) throw new Error('Failed loading municipal officials');\n      const list = await r.json();\n      setMoList(Array.isArray(list) ? list : []);\n    } catch (e) {\n      setMoError(e.message || 'Error');\n    } finally {\n      setMoLoading(false);\n    }\n  }\n  useEffect(() => {\n    loadDynCats();\n  }, []);\n  useEffect(() => {\n    (dynCats || []).forEach(c => {\n      loadEntries(c.id);\n    });\n  }, [dynCats]);\n  useEffect(() => {\n    loadMunicipalOfficials();\n  }, []);\n  useEffect(() => {\n    if (catDelete) setCatDeleteStatus({\n      kind: null,\n      text: ''\n    });\n  }, [catDelete]);\n  useEffect(() => {\n    if (entryDelete) setEntryDeleteStatus({\n      kind: null,\n      text: ''\n    });\n  }, [entryDelete]);\n  const canEdit = ofc => isAdmin || !!user && user.role === 'officer' && myOfficeId && Number(myOfficeId) === Number(ofc.id);\n  function handleDelete(ofc) {\n    setDeleteTarget(ofc);\n  }\n  async function confirmDelete() {\n    if (!deleteTarget) return;\n    await fetch(`${API_BASE}/offices/${deleteTarget.id}`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    setDeleteTarget(null);\n    await loadOffices();\n  }\n  async function handleCreate(fd) {\n    const r = await fetch(`${API_BASE}/offices`, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      body: fd\n    });\n    if (!r.ok) {\n      if (r.status === 409) {\n        let msg = 'An office with this name already exists.';\n        try {\n          const data = await r.json();\n          if (data && data.error) msg = data.error;\n        } catch {}\n        throw new Error(msg);\n      }\n      throw new Error('Failed to save office');\n    }\n    await loadOffices();\n  }\n  async function handleUpdate(id, fd) {\n    await fetch(`${API_BASE}/offices/${id}`, {\n      method: 'PUT',\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      body: fd\n    });\n    await loadOffices();\n  }\n  async function loadBarangays() {\n    setBrgyLoading(true);\n    setBrgyError('');\n    try {\n      const r = await fetch(`${API_BASE}/barangays`);\n      if (!r.ok) throw new Error('Failed loading barangays');\n      const list = await r.json();\n      setBarangays(Array.isArray(list) ? list : []);\n    } catch (e) {\n      setBrgyError(e.message || 'Error');\n    } finally {\n      setBrgyLoading(false);\n    }\n  }\n  const canEditBrgy = b => isAdmin || !!user && user.role === 'barangay_captain' && myBarangayId && Number(myBarangayId) === Number(b.id);\n  async function openEditBarangay(b) {\n    const r = await fetch(`${API_BASE}/barangays/${b.id}`);\n    if (r.ok) setShowEditBrgy(await r.json());\n  }\n  async function confirmDeleteBrgy() {\n    if (!deleteBrgy) return;\n    await fetch(`${API_BASE}/barangays/${deleteBrgy.id}`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    setDeleteBrgy(null);\n    await loadBarangays();\n  }\n  async function handleCreateBrgy(brgyFd, officials) {\n    const r = await fetch(`${API_BASE}/barangays`, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      body: brgyFd\n    });\n    if (!r.ok) {\n      if (r.status === 409) {\n        let msg = 'A barangay with this name already exists.';\n        try {\n          const data = await r.json();\n          if (data && data.error) msg = data.error;\n        } catch {}\n        throw new Error(msg);\n      }\n      throw new Error('Failed to save barangay');\n    }\n    const {\n      id\n    } = await r.json();\n    if (Array.isArray(officials) && officials.length) {\n      const fd = new FormData();\n      fd.append('officials', JSON.stringify(officials.map(({\n        key,\n        name,\n        position,\n        existingImageUrl,\n        sort_order\n      }) => ({\n        key,\n        name,\n        position,\n        existingImageUrl,\n        sort_order\n      }))));\n      officials.forEach(o => {\n        if (o.imageFile) fd.append(`official_image_${o.key}`, o.imageFile);\n      });\n      await fetch(`${API_BASE}/barangays/${id}/officials`, {\n        method: 'PUT',\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        body: fd\n      });\n    }\n    await loadBarangays();\n  }\n  async function handleUpdateBrgy(id, brgyFd, officials) {\n    await fetch(`${API_BASE}/barangays/${id}`, {\n      method: 'PUT',\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      body: brgyFd\n    });\n    const fd = new FormData();\n    fd.append('officials', JSON.stringify((officials || []).map(({\n      key,\n      name,\n      position,\n      existingImageUrl,\n      sort_order\n    }) => ({\n      key,\n      name,\n      position,\n      existingImageUrl,\n      sort_order\n    }))));\n    (officials || []).forEach(o => {\n      if (o.imageFile) fd.append(`official_image_${o.key}`, o.imageFile);\n    });\n    await fetch(`${API_BASE}/barangays/${id}/officials`, {\n      method: 'PUT',\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      body: fd\n    });\n    await loadBarangays();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-10\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"gov-top\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"officials\",\n      className: \"scroll-mt-20\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold mb-3\",\n          children: \"Municipal Officials\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAddMO(true),\n          className: \"text-sm px-3 py-1.5 rounded border bg-white\",\n          children: \"Add Official\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), moLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: \"Loading officials...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 23\n      }, this), moError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-red-600\",\n        children: moError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-2 lg:grid-cols-3 gap-4\",\n        children: [moList.map(o => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-md p-4 bg-white flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: o.image_url ? `${API_ORIGIN}${o.image_url}` : `https://i.pravatar.cc/96?u=${encodeURIComponent(o.position || o.name || 'official')}`,\n            alt: \"\",\n            className: \"w-14 h-14 rounded-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium\",\n              children: o.name || '—'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: o.position\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowEditMO(o),\n              title: \"Edit\",\n              className: \"text-xs px-2 py-1 rounded bg-yellow-500 text-white\",\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setDeleteMO(o),\n              title: \"Delete\",\n              className: \"text-xs px-2 py-1 rounded bg-red-600 text-white\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 17\n          }, this)]\n        }, o.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this)), !moLoading && (!moList || moList.length === 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"No officials added yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"dynamic-categories\",\n      children: [isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold mb-3\",\n          children: \"Other Government Categories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCatModal({\n            mode: 'add'\n          }),\n          className: \"text-sm px-3 py-1.5 rounded border bg-white\",\n          children: \"Add Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }, this), dynLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: \"Loading categories...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 24\n      }, this), dynError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-red-600\",\n        children: dynError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-8\",\n        children: [(isAdmin ? dynCats : (dynCats || []).filter(c => (entriesByCat[c.id] || []).length > 0)).map((c, idx) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [idx > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-gray-200 my-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(DynamicCategorySection, {\n            cat: c\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)]\n        }, c.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this)), isAdmin && (!dynCats || dynCats.length === 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"No additional categories.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 61\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: !!catModal,\n      onClose: () => setCatModal(null),\n      title: (catModal === null || catModal === void 0 ? void 0 : catModal.mode) === 'edit' ? 'Edit Category' : 'Add Category',\n      children: catModal && /*#__PURE__*/_jsxDEV(CategoryForm, {\n        category: catModal.mode === 'edit' ? catModal.cat : undefined,\n        onClose: () => setCatModal(null),\n        onSaved: () => {\n          setCatModal(null);\n          loadDynCats();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: !!showAddMO,\n      onClose: () => setShowAddMO(false),\n      title: \"Add Municipal Official\",\n      children: showAddMO && /*#__PURE__*/_jsxDEV(MunicipalOfficialForm, {\n        onClose: () => setShowAddMO(false),\n        onSubmit: async fd => {\n          await handleCreateOfficial(fd);\n          setShowAddMO(false);\n        },\n        submittingText: \"Create\",\n        onError: msg => setErrorDialog({\n          open: true,\n          title: 'Official Error',\n          message: msg\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: !!showEditMO,\n      onClose: () => setShowEditMO(null),\n      title: \"Edit Municipal Official\",\n      children: showEditMO && /*#__PURE__*/_jsxDEV(MunicipalOfficialForm, {\n        official: showEditMO,\n        onClose: () => setShowEditMO(null),\n        onSubmit: async fd => {\n          await handleUpdateOfficial(showEditMO.id, fd);\n          setShowEditMO(null);\n        },\n        submittingText: \"Save\",\n        onError: msg => setErrorDialog({\n          open: true,\n          title: 'Official Error',\n          message: msg\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: !!deleteMO,\n      onClose: () => setDeleteMO(null),\n      title: \"Delete Municipal Official\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-700\",\n          children: [\"Delete \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: deleteMO === null || deleteMO === void 0 ? void 0 : deleteMO.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 55\n          }, this), \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setDeleteMO(null),\n            className: \"px-4 py-2 rounded-md border\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: async () => {\n              if (!deleteMO) return;\n              await fetch(`${API_BASE}/gov/municipal-officials/${deleteMO.id}`, {\n                method: 'DELETE',\n                headers: {\n                  Authorization: `Bearer ${token}`\n                }\n              });\n              setDeleteMO(null);\n              await loadMunicipalOfficials();\n            },\n            className: \"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: !!catDelete,\n      onClose: () => setCatDelete(null),\n      title: \"Delete Category\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-700\",\n          children: [\"Delete \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: catDelete === null || catDelete === void 0 ? void 0 : catDelete.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 55\n          }, this), \"? This will remove all its entries.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this), catDeleteStatus.kind ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `px-4 py-2 rounded-md text-sm ${catDeleteStatus.kind === 'success' ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`,\n          children: catDeleteStatus.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setCatDelete(null),\n            className: \"px-4 py-2 rounded-md border\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: async () => {\n              try {\n                if (!catDelete) return;\n                const r = await fetch(`${API_BASE}/gov/categories/${catDelete.id}`, {\n                  method: 'DELETE',\n                  headers: {\n                    Authorization: `Bearer ${token}`\n                  }\n                });\n                if (!r.ok) {\n                  const e = await r.json().catch(() => ({}));\n                  throw new Error(e.error || 'Failed to delete');\n                }\n                setCatDeleteStatus({\n                  kind: 'success',\n                  text: 'Deleted successfully.'\n                });\n                setTimeout(async () => {\n                  setCatDeleteStatus({\n                    kind: null,\n                    text: ''\n                  });\n                  setCatDelete(null);\n                  await loadDynCats();\n                }, 1500);\n              } catch (err) {\n                setCatDeleteStatus({\n                  kind: 'error',\n                  text: err.message || 'An error occurred.'\n                });\n                setTimeout(() => setCatDeleteStatus({\n                  kind: null,\n                  text: ''\n                }), 2000);\n              }\n            },\n            className: \"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: !!entryModal,\n      onClose: () => setEntryModal(null),\n      title: (entryModal === null || entryModal === void 0 ? void 0 : entryModal.mode) === 'edit' ? 'Edit Entry' : 'Add Entry',\n      children: entryModal && /*#__PURE__*/_jsxDEV(EntryForm, {\n        category: entryModal.cat || dynCats.find(c => {\n          var _entryModal$entry;\n          return c.id === ((_entryModal$entry = entryModal.entry) === null || _entryModal$entry === void 0 ? void 0 : _entryModal$entry.category_id);\n        }),\n        entry: entryModal.mode === 'edit' ? entryModal.entry : undefined,\n        onClose: () => setEntryModal(null),\n        onSaved: () => {\n          var _entryModal$cat, _entryModal$entry2;\n          setEntryModal(null);\n          const cid = ((_entryModal$cat = entryModal.cat) === null || _entryModal$cat === void 0 ? void 0 : _entryModal$cat.id) || ((_entryModal$entry2 = entryModal.entry) === null || _entryModal$entry2 === void 0 ? void 0 : _entryModal$entry2.category_id);\n          if (cid) loadEntries(cid);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: !!entryDelete,\n      onClose: () => setEntryDelete(null),\n      title: \"Delete Entry\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-700\",\n          children: [\"Delete \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: (entryDelete === null || entryDelete === void 0 ? void 0 : entryDelete.title) || 'this entry'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 55\n          }, this), \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 11\n        }, this), entryDeleteStatus.kind ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `px-4 py-2 rounded-md text-sm ${entryDeleteStatus.kind === 'success' ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`,\n          children: entryDeleteStatus.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setEntryDelete(null),\n            className: \"px-4 py-2 rounded-md border\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: async () => {\n              try {\n                if (!entryDelete) return;\n                const r = await fetch(`${API_BASE}/gov/entries/${entryDelete.id}`, {\n                  method: 'DELETE',\n                  headers: {\n                    Authorization: `Bearer ${token}`\n                  }\n                });\n                if (!r.ok) {\n                  const e = await r.json().catch(() => ({}));\n                  throw new Error(e.error || 'Failed to delete');\n                }\n                const cid = entryDelete.category_id;\n                setEntryDeleteStatus({\n                  kind: 'success',\n                  text: 'Deleted successfully.'\n                });\n                setTimeout(async () => {\n                  setEntryDeleteStatus({\n                    kind: null,\n                    text: ''\n                  });\n                  setEntryDelete(null);\n                  if (cid) await loadEntries(cid);\n                }, 1500);\n              } catch (err) {\n                setEntryDeleteStatus({\n                  kind: 'error',\n                  text: err.message || 'An error occurred.'\n                });\n                setTimeout(() => setEntryDeleteStatus({\n                  kind: null,\n                  text: ''\n                }), 2000);\n              }\n            },\n            className: \"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"offices\",\n      className: \"scroll-mt-20\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold mb-3\",\n          children: \"Municipal Offices\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAdd(true),\n          className: \"text-sm px-3 py-1.5 rounded border bg-white\",\n          children: \"Add Office\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: \"Loading offices...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-red-600\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-2 lg:grid-cols-3 gap-4\",\n        children: offices.map(ofc => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-md overflow-hidden bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [ofc.image_url && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `${API_ORIGIN}${ofc.image_url}`,\n              alt: \"\",\n              className: \"w-full h-28 object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 35\n            }, this), (isAdmin || canEdit(ofc)) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-2 right-2 flex gap-1\",\n              children: [canEdit(ofc) && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowEdit(ofc),\n                title: \"Edit\",\n                className: \"text-xs px-2 py-1 rounded bg-yellow-500 text-white\",\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 23\n              }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(ofc),\n                title: \"Delete\",\n                className: \"text-xs px-2 py-1 rounded bg-red-600 text-white\",\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/government/offices/${ofc.slug || ofc.id}`,\n            className: \"block\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: ofc.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: ofc.head_image_url ? `${API_ORIGIN}${ofc.head_image_url}` : `https://i.pravatar.cc/64?u=${encodeURIComponent(ofc.head || ofc.name)}`,\n                  alt: \"\",\n                  className: \"w-6 h-6 rounded-full object-cover\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [\"Head: \", ofc.head || '—']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"Location: \", ofc.location || '—']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 15\n          }, this)]\n        }, ofc.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: !!showAdd,\n        onClose: () => setShowAdd(false),\n        title: \"Add Office\",\n        children: /*#__PURE__*/_jsxDEV(OfficeForm, {\n          onClose: () => {\n            setShowAdd(false);\n          },\n          onSubmit: handleCreate,\n          submittingText: \"Create\",\n          onError: msg => setErrorDialog({\n            open: true,\n            title: 'Office Error',\n            message: msg,\n            description: 'An office with the same name already exists. Please choose a unique name or edit the existing office.'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: !!showEdit,\n        onClose: () => setShowEdit(null),\n        title: \"Edit Office\",\n        children: showEdit && /*#__PURE__*/_jsxDEV(OfficeForm, {\n          office: showEdit,\n          onClose: () => {\n            setShowEdit(null);\n          },\n          onSubmit: fd => handleUpdate(showEdit.id, fd),\n          submittingText: \"Save\",\n          onError: msg => setErrorDialog({\n            open: true,\n            title: 'Office Error',\n            message: msg,\n            description: 'An office with the same name already exists. Please choose a unique name or edit the existing office.'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: !!deleteTarget,\n        onClose: () => setDeleteTarget(null),\n        title: \"Delete Office\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-700\",\n            children: [\"Are you sure you want to delete \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: deleteTarget === null || deleteTarget === void 0 ? void 0 : deleteTarget.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 82\n            }, this), \"? This action cannot be undone.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setDeleteTarget(null),\n              className: \"px-4 py-2 rounded-md border\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: confirmDelete,\n              className: \"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"barangays\",\n      className: \"scroll-mt-20\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold mb-3\",\n          children: \"Barangays\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 11\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAddBrgy(true),\n          className: \"text-sm px-3 py-1.5 rounded border bg-white\",\n          children: \"Add Barangay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 9\n      }, this), brgyLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: \"Loading barangays...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 25\n      }, this), brgyError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-red-600\",\n        children: brgyError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-2 lg:grid-cols-3 gap-3\",\n        children: barangays.map(b => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-md overflow-hidden bg-white\",\n          children: [b.image_url && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `${API_ORIGIN}${b.image_url}`,\n            alt: \"\",\n            className: \"w-full h-28 object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: b.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 19\n              }, this), (isAdmin || canEditBrgy(b)) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-1\",\n                children: [canEditBrgy(b) && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openEditBarangay(b),\n                  title: \"Edit\",\n                  className: \"text-xs px-2 py-1 rounded bg-yellow-500 text-white\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 25\n                }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setDeleteBrgy(b),\n                  title: \"Delete\",\n                  className: \"text-xs px-2 py-1 rounded bg-red-600 text-white\",\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 577,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-600 mt-1 line-clamp-2\",\n              children: b.description || '—'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/government/barangays/${b.id}`,\n              className: \"inline-block mt-2 text-blue-700 hover:underline\",\n              children: \"View\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 15\n          }, this)]\n        }, b.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: !!showAddBrgy,\n        onClose: () => setShowAddBrgy(false),\n        title: \"Add Barangay\",\n        children: /*#__PURE__*/_jsxDEV(BarangayForm, {\n          onClose: () => setShowAddBrgy(false),\n          onSubmit: (fd, officials) => handleCreateBrgy(fd, officials),\n          submittingText: \"Create\",\n          onError: msg => setErrorDialog({\n            open: true,\n            title: 'Barangay Error',\n            message: msg,\n            description: 'A barangay with the same name already exists. Please use a different name or update the existing barangay.'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: !!showEditBrgy,\n        onClose: () => setShowEditBrgy(null),\n        title: \"Edit Barangay\",\n        children: showEditBrgy && /*#__PURE__*/_jsxDEV(BarangayForm, {\n          barangay: showEditBrgy,\n          onClose: () => setShowEditBrgy(null),\n          onSubmit: (fd, officials) => handleUpdateBrgy(showEditBrgy.id, fd, officials),\n          submittingText: \"Save\",\n          onError: msg => setErrorDialog({\n            open: true,\n            title: 'Barangay Error',\n            message: msg,\n            description: 'A barangay with the same name already exists. Please use a different name or update the existing barangay.'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: !!deleteBrgy,\n        onClose: () => setDeleteBrgy(null),\n        title: \"Delete Barangay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-700\",\n            children: [\"Are you sure you want to delete \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: deleteBrgy === null || deleteBrgy === void 0 ? void 0 : deleteBrgy.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 82\n            }, this), \"? This action cannot be undone.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setDeleteBrgy(null),\n              className: \"px-4 py-2 rounded-md border\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: confirmDeleteBrgy,\n              className: \"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"awards\",\n      className: \"scroll-mt-20\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-3\",\n        children: \"Awards & Achievements\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\",\n        children: awards.map((a, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedAward({\n            title: a\n          }),\n          className: \"text-left border rounded-md overflow-hidden bg-white hover:border-blue-400\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://picsum.photos/seed/award-${idx}/480/240`,\n            alt: \"\",\n            className: \"w-full h-28 object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium text-sm\",\n              children: a\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-600 mt-1\",\n              children: \"Click to view certificate and details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 15\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"dialog\", {\n        open: !!selectedAward,\n        className: \"rounded-lg p-0 w-full max-w-2xl\",\n        children: selectedAward && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center px-4 py-3 border-b\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold\",\n              children: selectedAward.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-gray-600\",\n              onClick: () => setSelectedAward(null),\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-700\",\n              children: \"This section will display the official documentation, certificate scans, and a short description for the award.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://picsum.photos/seed/cert1/640/360\",\n                alt: \"\",\n                className: \"w-full h-32 object-cover rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://picsum.photos/seed/cert2/640/360\",\n                alt: \"\",\n                className: \"w-full h-32 object-cover rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: errorDialog.open,\n      onClose: () => setErrorDialog({\n        open: false,\n        title: '',\n        message: '',\n        description: ''\n      }),\n      title: errorDialog.title || 'Error',\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shrink-0 rounded-full bg-red-100 p-2\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              className: \"w-5 h-5 text-red-600\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M8.257 3.099c.765-1.36 2.72-1.36 3.485 0l6.518 11.59c.75 1.335-.213 2.99-1.742 2.99H3.48c-1.53 0-2.492-1.655-1.742-2.99L8.257 3.1zM11 14a1 1 0 10-2 0 1 1 0 002 0zm-.293-7.707a1 1 0 00-1.414 0l-.293.293v4.121a1 1 0 002 0V6.586l-.293-.293z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 128\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 665,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium text-red-800\",\n              children: errorDialog.title || 'Error'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-red-700\",\n              children: errorDialog.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 15\n            }, this), errorDialog.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-xs text-red-600\",\n              children: errorDialog.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setErrorDialog({\n              open: false,\n              title: '',\n              message: '',\n              description: ''\n            }),\n            className: \"px-4 py-2 rounded-md border\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 312,\n    columnNumber: 5\n  }, this);\n}\n_s2(Government, \"b0rO6Iv2mD/fe6g7XyoCYSJL/As=\", false, function () {\n  return [useAuth, useLocation];\n});\n_c = Government;\nfunction BarangayForm({\n  barangay,\n  onClose,\n  onSubmit,\n  submittingText,\n  onError\n}) {\n  _s3();\n  const [name, setName] = useState((barangay === null || barangay === void 0 ? void 0 : barangay.name) || '');\n  const [description, setDescription] = useState((barangay === null || barangay === void 0 ? void 0 : barangay.description) || '');\n  const [imageFile, setImageFile] = useState(null);\n  const [officials, setOfficials] = useState(() => {\n    const base = Array.isArray(barangay === null || barangay === void 0 ? void 0 : barangay.officials) ? barangay.officials : [];\n    return base.map((o, idx) => {\n      var _o$sort_order;\n      return {\n        key: String(o.id || idx),\n        name: o.name || '',\n        position: o.position || '',\n        existingImageUrl: o.image_url || null,\n        imageFile: null,\n        sort_order: (_o$sort_order = o.sort_order) !== null && _o$sort_order !== void 0 ? _o$sort_order : idx\n      };\n    });\n  });\n  const [submitting, setSubmitting] = useState(false);\n  function addOfficial() {\n    setOfficials(prev => [...prev, {\n      key: String(Date.now()),\n      name: '',\n      position: '',\n      existingImageUrl: null,\n      imageFile: null,\n      sort_order: prev.length\n    }]);\n  }\n  function removeOfficial(idx) {\n    setOfficials(prev => prev.filter((_, i) => i !== idx).map((o, i) => ({\n      ...o,\n      sort_order: i\n    })));\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setSubmitting(true);\n    try {\n      const fd = new FormData();\n      if (!barangay) fd.append('name', name.trim());else if (name && name !== barangay.name) fd.append('name', name.trim());\n      if (description !== ((barangay === null || barangay === void 0 ? void 0 : barangay.description) || '')) fd.append('description', description);\n      if (imageFile) fd.append('image', imageFile);\n      await onSubmit(fd, officials);\n      onClose();\n    } catch (e) {\n      onError === null || onError === void 0 ? void 0 : onError(e.message || 'Failed to save barangay');\n    } finally {\n      setSubmitting(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4 p-1 sm:p-2\",\n    children: [!barangay && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: name,\n        onChange: e => setName(e.target.value),\n        className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n        placeholder: \"e.g., Brgy. Mabini\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: description,\n        onChange: e => setDescription(e.target.value),\n        className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n        rows: 3,\n        placeholder: \"Brief description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Barangay Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-1 flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-24 h-16 rounded-md bg-gray-100 border overflow-hidden flex items-center justify-center\",\n          children: imageFile ? /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"preview\",\n            src: URL.createObjectURL(imageFile),\n            className: \"w-full h-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 15\n          }, this) : barangay !== null && barangay !== void 0 && barangay.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"brgy\",\n            src: `${API_ORIGIN}${barangay.image_url}`,\n            className: \"w-full h-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 735,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-400\",\n            children: \"No image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"brgy-image\",\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: e => {\n              var _e$target$files;\n              return setImageFile(((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null);\n            },\n            className: \"sr-only\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 741,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"brgy-image\",\n            className: \"inline-flex items-center px-3 py-2 rounded-md border text-sm bg-white hover:bg-gray-50 cursor-pointer\",\n            children: \"Choose File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 742,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 728,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Officials\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: addOfficial,\n          className: \"text-xs px-2 py-1 rounded-md border bg-white\",\n          children: \"Add Official\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 747,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: officials.map((o, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-md p-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid sm:grid-cols-3 gap-3 items-start\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sm:col-span-2 grid sm:grid-cols-2 gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs text-gray-700\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 757,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: o.name,\n                  onChange: e => setOfficials(prev => prev.map((x, i) => i === idx ? {\n                    ...x,\n                    name: e.target.value\n                  } : x)),\n                  className: \"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 758,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 756,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs text-gray-700\",\n                  children: \"Position\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 761,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: o.position,\n                  onChange: e => setOfficials(prev => prev.map((x, i) => i === idx ? {\n                    ...x,\n                    position: e.target.value\n                  } : x)),\n                  className: \"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 762,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 760,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 755,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-xs text-gray-700\",\n                children: \"Photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 766,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1 flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-14 h-14 rounded-full bg-gray-100 border overflow-hidden flex items-center justify-center\",\n                  children: o.imageFile ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"preview\",\n                    src: URL.createObjectURL(o.imageFile),\n                    className: \"w-full h-full object-cover\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 770,\n                    columnNumber: 25\n                  }, this) : o.existingImageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"official\",\n                    src: `${API_ORIGIN}${o.existingImageUrl}`,\n                    className: \"w-full h-full object-cover\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 772,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-[10px] text-gray-400\",\n                    children: \"No photo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 774,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 768,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    id: `official-${o.key}`,\n                    type: \"file\",\n                    accept: \"image/*\",\n                    onChange: e => setOfficials(prev => prev.map((x, i) => {\n                      var _e$target$files2;\n                      return i === idx ? {\n                        ...x,\n                        imageFile: ((_e$target$files2 = e.target.files) === null || _e$target$files2 === void 0 ? void 0 : _e$target$files2[0]) || null\n                      } : x;\n                    })),\n                    className: \"sr-only\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 778,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: `official-${o.key}`,\n                    className: \"inline-flex items-center px-3 py-2 rounded-md border text-xs bg-white hover:bg-gray-50 cursor-pointer\",\n                    children: \"Choose File\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 779,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 777,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 767,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 754,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => removeOfficial(idx),\n              className: \"text-xs px-2 py-1 rounded-md border bg-white\",\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 784,\n            columnNumber: 15\n          }, this)]\n        }, o.key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 751,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 746,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onClose,\n        className: \"px-4 py-2 rounded-md border\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 792,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: submitting,\n        className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",\n        children: submitting ? 'Saving...' : submittingText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 793,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 791,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 717,\n    columnNumber: 5\n  }, this);\n}\n_s3(BarangayForm, \"/ypRCzekIe0inShIm/vUrLdd0FI=\");\n_c2 = BarangayForm;\nfunction OfficeForm({\n  office,\n  onClose,\n  onSubmit,\n  submittingText,\n  onError\n}) {\n  _s4();\n  var _office$lat, _office$lng;\n  const [name, setName] = useState((office === null || office === void 0 ? void 0 : office.name) || '');\n  const [head, setHead] = useState((office === null || office === void 0 ? void 0 : office.head) || '');\n  const [location, setLocation] = useState((office === null || office === void 0 ? void 0 : office.location) || '');\n  const [contact, setContact] = useState((office === null || office === void 0 ? void 0 : office.contact) || '');\n  const [lat, setLat] = useState((_office$lat = office === null || office === void 0 ? void 0 : office.lat) !== null && _office$lat !== void 0 ? _office$lat : null);\n  const [lng, setLng] = useState((_office$lng = office === null || office === void 0 ? void 0 : office.lng) !== null && _office$lng !== void 0 ? _office$lng : null);\n  const [description, setDescription] = useState((office === null || office === void 0 ? void 0 : office.description) || '');\n  const [imageFile, setImageFile] = useState(null);\n  const [headImageFile, setHeadImageFile] = useState(null);\n  const [submitting, setSubmitting] = useState(false);\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setSubmitting(true);\n    try {\n      const fd = new FormData();\n      if (!office) fd.append('name', name.trim());\n      if (office && name && name !== office.name) fd.append('name', name.trim());\n      if (head !== ((office === null || office === void 0 ? void 0 : office.head) || '')) fd.append('head', head);\n      if (location !== ((office === null || office === void 0 ? void 0 : office.location) || '')) fd.append('location', location);\n      if (contact !== ((office === null || office === void 0 ? void 0 : office.contact) || '')) fd.append('contact', contact);\n      if (lat != null) fd.append('lat', String(lat));\n      if (lng != null) fd.append('lng', String(lng));\n      if (description !== ((office === null || office === void 0 ? void 0 : office.description) || '')) fd.append('description', description);\n      if (imageFile) fd.append('image', imageFile);\n      if (headImageFile) fd.append('headImage', headImageFile);\n      await onSubmit(fd);\n      onClose();\n    } catch (e) {\n      onError === null || onError === void 0 ? void 0 : onError(e.message || 'Failed to save office');\n    } finally {\n      setSubmitting(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4 p-1 sm:p-2\",\n    children: [!office && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 839,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: name,\n        onChange: e => setName(e.target.value),\n        className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n        placeholder: \"e.g., Municipal Engineering Office\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 840,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 838,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Head of Office\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 844,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: head,\n        onChange: e => setHead(e.target.value),\n        className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n        placeholder: \"e.g., Juan Dela Cruz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 845,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 843,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid sm:grid-cols-2 gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm text-gray-700\",\n          children: \"Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 849,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: location,\n          onChange: e => setLocation(e.target.value),\n          className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          placeholder: \"e.g., Municipal Hall, 2/F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 848,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm text-gray-700\",\n          children: \"Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 853,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: contact,\n          onChange: e => setContact(e.target.value),\n          className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          placeholder: \"e.g., (042) 123-4567\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 854,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 852,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 847,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700 mb-2\",\n        children: \"Pin Office Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 858,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapPicker, {\n        lat: lat,\n        lng: lng,\n        onChange: ({\n          lat: la,\n          lng: ln\n        }) => {\n          setLat(la);\n          setLng(ln);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 859,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 857,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 862,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: description,\n        onChange: e => setDescription(e.target.value),\n        className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n        rows: 3,\n        placeholder: \"Brief description of the office\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 863,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 861,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid sm:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm text-gray-700\",\n          children: \"Office Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 867,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-1 flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 rounded-md bg-gray-100 border overflow-hidden flex items-center justify-center\",\n            children: imageFile ? /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"preview\",\n              src: URL.createObjectURL(imageFile),\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 871,\n              columnNumber: 17\n            }, this) : office !== null && office !== void 0 && office.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"office\",\n              src: `${API_ORIGIN}${office.image_url}`,\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 873,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-400\",\n              children: \"No image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 875,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 869,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"office-image\",\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: e => {\n                var _e$target$files3;\n                return setImageFile(((_e$target$files3 = e.target.files) === null || _e$target$files3 === void 0 ? void 0 : _e$target$files3[0]) || null);\n              },\n              className: \"sr-only\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 879,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"office-image\",\n              className: \"inline-flex items-center px-3 py-2 rounded-md border text-sm bg-white hover:bg-gray-50 cursor-pointer\",\n              children: \"Choose File\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 880,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-600 mt-1 truncate max-w-[12rem]\",\n              children: (imageFile === null || imageFile === void 0 ? void 0 : imageFile.name) || (office !== null && office !== void 0 && office.image_url ? office.image_url.split('/').pop() : 'No file selected')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 878,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 868,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 866,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm text-gray-700\",\n          children: \"Head Photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 886,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-1 flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 rounded-full bg-gray-100 border overflow-hidden flex items-center justify-center\",\n            children: headImageFile ? /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"preview\",\n              src: URL.createObjectURL(headImageFile),\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 17\n            }, this) : office !== null && office !== void 0 && office.head_image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"head\",\n              src: `${API_ORIGIN}${office.head_image_url}`,\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-400\",\n              children: \"No photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 888,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"head-image\",\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: e => {\n                var _e$target$files4;\n                return setHeadImageFile(((_e$target$files4 = e.target.files) === null || _e$target$files4 === void 0 ? void 0 : _e$target$files4[0]) || null);\n              },\n              className: \"sr-only\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 898,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"head-image\",\n              className: \"inline-flex items-center px-3 py-2 rounded-md border text-sm bg-white hover:bg-gray-50 cursor-pointer\",\n              children: \"Choose File\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 899,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-600 mt-1 truncate max-w-[12rem]\",\n              children: (headImageFile === null || headImageFile === void 0 ? void 0 : headImageFile.name) || (office !== null && office !== void 0 && office.head_image_url ? office.head_image_url.split('/').pop() : 'No file selected')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 900,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 897,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 885,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 865,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onClose,\n        className: \"px-4 py-2 rounded-md border\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 906,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: submitting,\n        className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",\n        children: submitting ? 'Saving...' : submittingText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 907,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 905,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 836,\n    columnNumber: 5\n  }, this);\n}\n_s4(OfficeForm, \"1ycBqksRBIes0+3oKGdqY055qPM=\");\n_c3 = OfficeForm;\nfunction MunicipalOfficialForm({\n  official,\n  onClose,\n  onSubmit,\n  submittingText,\n  onError\n}) {\n  _s5();\n  const [name, setName] = useState((official === null || official === void 0 ? void 0 : official.name) || '');\n  const [position, setPosition] = useState((official === null || official === void 0 ? void 0 : official.position) || '');\n  const [imageFile, setImageFile] = useState(null);\n  const [submitting, setSubmitting] = useState(false);\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setSubmitting(true);\n    try {\n      const fd = new FormData();\n      if (!official || name && name !== official.name) fd.append('name', name.trim());\n      if (!official || position && position !== official.position) fd.append('position', position.trim());\n      if (imageFile) fd.append('image', imageFile);\n      await onSubmit(fd);\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n    } catch (e) {\n      onError === null || onError === void 0 ? void 0 : onError(e.message || 'Failed to save official');\n    } finally {\n      setSubmitting(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4 p-1 sm:p-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 939,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: name,\n        onChange: e => setName(e.target.value),\n        className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n        placeholder: \"e.g., Hon. John Doe\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 940,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 938,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Position\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 943,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: position,\n        onChange: e => setPosition(e.target.value),\n        className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n        placeholder: \"e.g., Mayor\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 944,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 942,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 947,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-1 flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 rounded-full bg-gray-100 border overflow-hidden flex items-center justify-center\",\n          children: imageFile ? /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"preview\",\n            src: URL.createObjectURL(imageFile),\n            className: \"w-full h-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 15\n          }, this) : official !== null && official !== void 0 && official.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"official\",\n            src: `${API_ORIGIN}${official.image_url}`,\n            className: \"w-full h-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 953,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-[10px] text-gray-400\",\n            children: \"No photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 955,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 949,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"mo-image\",\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: e => {\n              var _e$target$files5;\n              return setImageFile(((_e$target$files5 = e.target.files) === null || _e$target$files5 === void 0 ? void 0 : _e$target$files5[0]) || null);\n            },\n            className: \"sr-only\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 959,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"mo-image\",\n            className: \"inline-flex items-center px-3 py-2 rounded-md border text-sm bg-white hover:bg-gray-50 cursor-pointer\",\n            children: \"Choose File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 960,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 958,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 948,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 946,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onClose,\n        className: \"px-4 py-2 rounded-md border\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 965,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: submitting,\n        className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",\n        children: submitting ? 'Saving...' : submittingText || 'Save'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 966,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 964,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 937,\n    columnNumber: 5\n  }, this);\n}\n\n// handleDelete moved into component scope above to access token\n_s5(MunicipalOfficialForm, \"gPPNs/pcQ2MDAM1kWMT474kJLsE=\");\n_c4 = MunicipalOfficialForm;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Government\");\n$RefreshReg$(_c2, \"BarangayForm\");\n$RefreshReg$(_c3, \"OfficeForm\");\n$RefreshReg$(_c4, \"MunicipalOfficialForm\");","map":{"version":3,"names":["React","useEffect","useState","awards","Link","useLocation","useAuth","API_BASE","API_ORIGIN","Modal","MapPicker","CategoryForm","EntryForm","jsxDEV","_jsxDEV","Fragment","_Fragment","Government","_s2","_s","$RefreshSig$","user","token","isAdmin","role","myOfficeId","officeId","office_id","myBarangayId","barangayId","barangay_id","myUserId","id","userId","selectedAward","setSelectedAward","offices","setOffices","loading","setLoading","error","setError","showAdd","setShowAdd","showEdit","setShowEdit","deleteTarget","setDeleteTarget","barangays","setBarangays","brgyLoading","setBrgyLoading","brgyError","setBrgyError","showAddBrgy","setShowAddBrgy","showEditBrgy","setShowEditBrgy","deleteBrgy","setDeleteBrgy","errorDialog","setErrorDialog","open","title","message","description","loadOffices","r","fetch","ok","Error","list","json","Array","isArray","e","handleCreateOfficial","fd","method","headers","Authorization","body","catch","loadMunicipalOfficials","handleUpdateOfficial","location","hash","el","document","querySelector","scrollIntoView","behavior","block","renderFieldValue","type","value","label","alt","src","className","fileName","_jsxFileName","lineNumber","columnNumber","children","map","u","i","href","download","String","target","rel","EntryCard","fields","expanded","setExpanded","canEditEntry","Number","manager_user_id","onClick","setEntryModal","mode","entry","cat","dynCats","find","c","category_id","setEntryDelete","f","content_json","key","trim","v","DynamicCategorySection","_cat$schema_json","schema_json","entries","entriesByCat","length","slug","setCatModal","setCatDelete","loadBarangays","setDynCats","dynLoading","setDynLoading","dynError","setDynError","catModal","catDelete","catDeleteStatus","setCatDeleteStatus","kind","text","entryModal","entryDelete","entryDeleteStatus","setEntryDeleteStatus","setEntriesByCat","moList","setMoList","moLoading","setMoLoading","moError","setMoError","showAddMO","setShowAddMO","showEditMO","setShowEditMO","deleteMO","setDeleteMO","loadDynCats","loadEntries","catId","prev","forEach","canEdit","ofc","handleDelete","confirmDelete","handleCreate","status","msg","data","handleUpdate","canEditBrgy","b","openEditBarangay","confirmDeleteBrgy","handleCreateBrgy","brgyFd","officials","FormData","append","JSON","stringify","name","position","existingImageUrl","sort_order","o","imageFile","handleUpdateBrgy","image_url","encodeURIComponent","filter","idx","onClose","category","undefined","onSaved","MunicipalOfficialForm","onSubmit","submittingText","onError","official","setTimeout","err","_entryModal$entry","_entryModal$cat","_entryModal$entry2","cid","to","head_image_url","head","OfficeForm","office","BarangayForm","barangay","a","xmlns","viewBox","fill","fillRule","d","clipRule","_c","_s3","setName","setDescription","setImageFile","setOfficials","base","_o$sort_order","submitting","setSubmitting","addOfficial","Date","now","removeOfficial","_","handleSubmit","preventDefault","onChange","placeholder","required","rows","URL","createObjectURL","accept","_e$target$files","files","htmlFor","x","_e$target$files2","disabled","_c2","_s4","_office$lat","_office$lng","setHead","setLocation","contact","setContact","lat","setLat","lng","setLng","headImageFile","setHeadImageFile","la","ln","_e$target$files3","split","pop","_e$target$files4","_c3","_s5","setPosition","_e$target$files5","_c4","$RefreshReg$"],"sources":["C:/Web Systems/GovConnect/frontend/src/pages/Government.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n// import barangays from '../data/barangays';\nimport awards from '../data/awards';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { API_BASE, API_ORIGIN } from '../config';\nimport Modal from '../components/Modal';\nimport MapPicker from '../components/MapPicker';\nimport CategoryForm from '../components/gov/CategoryForm';\nimport EntryForm from '../components/gov/EntryForm';\n\nexport default function Government() {\n  const { user, token } = useAuth();\n  const isAdmin = !!user && (user.role === 'admin' || user.role === 'superadmin');\n  const myOfficeId = user?.officeId || user?.office_id || null;\n  const myBarangayId = user?.barangayId || user?.barangay_id || null;\n  const myUserId = user?.id || user?.userId || null;\n  const [selectedAward, setSelectedAward] = useState(null);\n  const [offices, setOffices] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [showAdd, setShowAdd] = useState(false);\n  const [showEdit, setShowEdit] = useState(null); // office object or null\n  const [deleteTarget, setDeleteTarget] = useState(null);\n  // Barangays state\n  const [barangays, setBarangays] = useState([]);\n  const [brgyLoading, setBrgyLoading] = useState(false);\n  const [brgyError, setBrgyError] = useState('');\n  const [showAddBrgy, setShowAddBrgy] = useState(false);\n  const [showEditBrgy, setShowEditBrgy] = useState(null);\n  const [deleteBrgy, setDeleteBrgy] = useState(null);\n  const [errorDialog, setErrorDialog] = useState({ open: false, title: '', message: '', description: '' });\n\n  async function loadOffices() {\n    setLoading(true); setError('');\n    try {\n      const r = await fetch(`${API_BASE}/offices`);\n      if (!r.ok) throw new Error('Failed loading offices');\n      const list = await r.json();\n      setOffices(Array.isArray(list) ? list : []);\n    } catch(e) { setError(e.message || 'Error'); }\n    finally { setLoading(false); }\n  }\n\n  async function handleCreateOfficial(fd) {\n    const r = await fetch(`${API_BASE}/gov/municipal-officials`, { method: 'POST', headers: { Authorization: `Bearer ${token}` }, body: fd });\n    if (!r.ok) {\n      const e = await r.json().catch(()=>({}));\n      throw new Error(e.error || 'Failed to save official');\n    }\n    await loadMunicipalOfficials();\n  }\n\n  async function handleUpdateOfficial(id, fd) {\n    const r = await fetch(`${API_BASE}/gov/municipal-officials/${id}`, { method: 'PUT', headers: { Authorization: `Bearer ${token}` }, body: fd });\n    if (!r.ok) {\n      const e = await r.json().catch(()=>({}));\n      throw new Error(e.error || 'Failed to update official');\n    }\n    await loadMunicipalOfficials();\n  }\n\n  // Anchor scrolling support\n  const location = useLocation();\n  useEffect(() => {\n    if (location.hash) {\n      const el = document.querySelector(location.hash);\n      if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  }, [location]);\n\n  // Helpers for dynamic sections\n  function renderFieldValue(type, value, label) {\n    if (value == null) return null;\n    if (type === 'image') return (<img alt=\"\" src={`${API_ORIGIN}${value}`} className=\"w-full h-40 object-cover rounded\" />);\n    if (type === 'images' || type === 'gallery') return (\n      <div className=\"grid grid-cols-2 gap-2\">{(value || []).map((u,i)=>(<img key={i} alt=\"\" src={`${API_ORIGIN}${u}`} className=\"w-full h-32 object-cover rounded\" />))}</div>\n    );\n    if (type === 'file') return (<a className=\"text-blue-700 hover:underline\" href={`${API_ORIGIN}${value}`} download>{label || 'Download file'}</a>);\n    if (type === 'files') return (\n      <ul className=\"list-disc ml-5\">{(value || []).map((u,i)=>(<li key={i}><a className=\"text-blue-700 hover:underline\" href={`${API_ORIGIN}${u}`} download>{`File ${i+1}`}</a></li>))}</ul>\n    );\n    if (type === 'link') return (<a className=\"text-blue-700 hover:underline\" href={String(value)} target=\"_blank\" rel=\"noreferrer\">{String(value)}</a>);\n    if (type === 'textarea' || type === 'richtext') return (<p className=\"whitespace-pre-wrap\">{String(value)}</p>);\n    return (<div>{String(value)}</div>);\n  }\n\n  function EntryCard({ e, fields }) {\n    const [expanded, setExpanded] = useState(false);\n    const canEditEntry = isAdmin || (!!user && user.role === 'officer' && myUserId && Number(myUserId) === Number(e.manager_user_id));\n    return (\n      <div className=\"border rounded-md p-4 bg-white relative\">\n        <div className=\"flex items-start justify-between\">\n          <div className=\"font-medium\">{e.title || '—'}</div>\n          {(isAdmin || canEditEntry) && (\n            <div className=\"flex gap-1\">\n              <button onClick={()=>setEntryModal({ mode:'edit', entry: e, cat: dynCats.find(c=>c.id===e.category_id) })} className=\"text-xs px-2 py-1 rounded bg-yellow-500 text-white\">Edit</button>\n              {isAdmin && <button onClick={()=>setEntryDelete(e)} className=\"text-xs px-2 py-1 rounded bg-red-600 text-white\">Delete</button>}\n            </div>\n          )}\n        </div>\n        <div className={`mt-2 space-y-2 text-sm ${expanded ? '' : 'max-h-64 overflow-hidden relative'}`}>\n          {fields.map((f) => (\n            (e.content_json && e.content_json[f.key] != null) ? (\n              <div key={f.key}>\n                {(f.type === 'image' || f.type === 'images' || f.type === 'gallery') ? (\n                  <>\n                    {String(f.label || '').trim() ? (\n                      <div className=\"text-gray-700 font-medium text-xs mb-1\">{f.label}</div>\n                    ) : null}\n                    {renderFieldValue(f.type, e.content_json[f.key], e.content_json[`${f.key}_label`])}\n                  </>\n                ) : (\n                  <>\n                    <div className=\"text-gray-700 font-medium text-xs mb-1\">{f.label || f.key}</div>\n                    {renderFieldValue(f.type, e.content_json[f.key], e.content_json[`${f.key}_label`])}\n                  </>\n                )}\n              </div>\n            ) : null\n          ))}\n          {!expanded && (\n            <div className=\"pointer-events-none absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-white to-transparent\" />\n          )}\n        </div>\n        <div className=\"flex justify-end mt-2\">\n          <button type=\"button\" onClick={()=>setExpanded(v=>!v)} className=\"text-xs px-2 py-1 rounded border bg-white\">{expanded ? 'Show less' : 'Show more'}</button>\n        </div>\n      </div>\n    );\n  }\n\n  function DynamicCategorySection({ cat }) {\n    const fields = Array.isArray(cat?.schema_json?.fields) ? cat.schema_json.fields : [];\n    const entries = entriesByCat[cat.id] || [];\n    if (!isAdmin && entries.length === 0) return null;\n    return (\n      <section id={`govcat-${cat.slug}`} className=\"scroll-mt-20\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-xl font-semibold mb-3\">{cat.title}</h2>\n          {isAdmin && (\n            <div className=\"flex items-center gap-2\">\n              <button onClick={()=>setEntryModal({ mode:'add', cat })} className=\"text-sm px-3 py-1.5 rounded border bg-white\">Add</button>\n              <button onClick={()=>setCatModal({ mode:'edit', cat })} className=\"text-sm px-3 py-1.5 rounded border bg-white\">Edit</button>\n              <button onClick={()=>setCatDelete(cat)} className=\"text-sm px-3 py-1.5 rounded border bg-white text-red-700\">Delete</button>\n            </div>\n          )}\n        </div>\n        {cat.description && <div className=\"text-sm text-gray-700 mb-2\">{cat.description}</div>}\n        <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {entries.map((e) => (\n            <EntryCard key={e.id} e={e} fields={fields} />\n          ))}\n        </div>\n        {isAdmin && entries.length === 0 && <div className=\"text-sm text-gray-600\">No entries yet.</div>}\n      </section>\n    );\n  }\n\n  useEffect(() => { loadOffices(); }, []);\n  useEffect(() => { loadBarangays(); }, []);\n\n  // Dynamic categories state\n  const [dynCats, setDynCats] = useState([]);\n  const [dynLoading, setDynLoading] = useState(false);\n  const [dynError, setDynError] = useState('');\n  const [catModal, setCatModal] = useState(null); // null | { mode:'add' } | { mode:'edit', cat }\n  const [catDelete, setCatDelete] = useState(null);\n  const [catDeleteStatus, setCatDeleteStatus] = useState({ kind: null, text: '' });\n  const [entryModal, setEntryModal] = useState(null); // null | { mode:'add', cat } | { mode:'edit', entry, cat }\n  const [entryDelete, setEntryDelete] = useState(null); // { entry }\n  const [entryDeleteStatus, setEntryDeleteStatus] = useState({ kind: null, text: '' });\n  const [entriesByCat, setEntriesByCat] = useState({}); // catId -> entries[]\n  // Municipal Officials (dynamic)\n  const [moList, setMoList] = useState([]);\n  const [moLoading, setMoLoading] = useState(false);\n  const [moError, setMoError] = useState('');\n  const [showAddMO, setShowAddMO] = useState(false);\n  const [showEditMO, setShowEditMO] = useState(null); // item or null\n  const [deleteMO, setDeleteMO] = useState(null);\n\n  async function loadDynCats() {\n    setDynLoading(true); setDynError('');\n    try {\n      const r = await fetch(`${API_BASE}/gov/categories`);\n      if (!r.ok) throw new Error('Failed loading categories');\n      const list = await r.json();\n      setDynCats(Array.isArray(list) ? list : []);\n    } catch (e) { setDynError(e.message || 'Error'); }\n    finally { setDynLoading(false); }\n  }\n  async function loadEntries(catId) {\n    try {\n      const r = await fetch(`${API_BASE}/gov/categories/${catId}/entries`);\n      if (!r.ok) throw new Error('Failed loading entries');\n      const list = await r.json();\n      setEntriesByCat(prev => ({ ...prev, [catId]: Array.isArray(list) ? list : [] }));\n    } catch {}\n  }\n  async function loadMunicipalOfficials() {\n    setMoLoading(true); setMoError('');\n    try {\n      const r = await fetch(`${API_BASE}/gov/municipal-officials`);\n      if (!r.ok) throw new Error('Failed loading municipal officials');\n      const list = await r.json();\n      setMoList(Array.isArray(list) ? list : []);\n    } catch (e) { setMoError(e.message || 'Error'); }\n    finally { setMoLoading(false); }\n  }\n  useEffect(() => {\n    loadDynCats();\n  }, []);\n  useEffect(() => {\n    (dynCats || []).forEach(c => { loadEntries(c.id); });\n  }, [dynCats]);\n  useEffect(() => { loadMunicipalOfficials(); }, []);\n\n  useEffect(() => { if (catDelete) setCatDeleteStatus({ kind: null, text: '' }); }, [catDelete]);\n  useEffect(() => { if (entryDelete) setEntryDeleteStatus({ kind: null, text: '' }); }, [entryDelete]);\n\n  const canEdit = (ofc) => isAdmin || (!!user && user.role === 'officer' && myOfficeId && (Number(myOfficeId) === Number(ofc.id)));\n\n  function handleDelete(ofc) {\n    setDeleteTarget(ofc);\n  }\n\n  async function confirmDelete() {\n    if (!deleteTarget) return;\n    await fetch(`${API_BASE}/offices/${deleteTarget.id}`, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` } });\n    setDeleteTarget(null);\n    await loadOffices();\n  }\n\n  async function handleCreate(fd) {\n    const r = await fetch(`${API_BASE}/offices`, { method: 'POST', headers: { Authorization: `Bearer ${token}` }, body: fd });\n    if (!r.ok) {\n      if (r.status === 409) {\n        let msg = 'An office with this name already exists.';\n        try {\n          const data = await r.json();\n          if (data && data.error) msg = data.error;\n        } catch {}\n        throw new Error(msg);\n      }\n      throw new Error('Failed to save office');\n    }\n    await loadOffices();\n  }\n\n  async function handleUpdate(id, fd) {\n    await fetch(`${API_BASE}/offices/${id}`, { method: 'PUT', headers: { Authorization: `Bearer ${token}` }, body: fd });\n    await loadOffices();\n  }\n\n  async function loadBarangays() {\n    setBrgyLoading(true); setBrgyError('');\n    try {\n      const r = await fetch(`${API_BASE}/barangays`);\n      if (!r.ok) throw new Error('Failed loading barangays');\n      const list = await r.json();\n      setBarangays(Array.isArray(list) ? list : []);\n    } catch(e) { setBrgyError(e.message || 'Error'); }\n    finally { setBrgyLoading(false); }\n  }\n\n  const canEditBrgy = (b) => isAdmin || (!!user && user.role === 'barangay_captain' && myBarangayId && (Number(myBarangayId) === Number(b.id)));\n\n  async function openEditBarangay(b) {\n    const r = await fetch(`${API_BASE}/barangays/${b.id}`);\n    if (r.ok) setShowEditBrgy(await r.json());\n  }\n\n  async function confirmDeleteBrgy() {\n    if (!deleteBrgy) return;\n    await fetch(`${API_BASE}/barangays/${deleteBrgy.id}`, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` } });\n    setDeleteBrgy(null);\n    await loadBarangays();\n  }\n\n  async function handleCreateBrgy(brgyFd, officials) {\n    const r = await fetch(`${API_BASE}/barangays`, { method: 'POST', headers: { Authorization: `Bearer ${token}` }, body: brgyFd });\n    if (!r.ok) {\n      if (r.status === 409) {\n        let msg = 'A barangay with this name already exists.';\n        try {\n          const data = await r.json();\n          if (data && data.error) msg = data.error;\n        } catch {}\n        throw new Error(msg);\n      }\n      throw new Error('Failed to save barangay');\n    }\n    const { id } = await r.json();\n    if (Array.isArray(officials) && officials.length) {\n      const fd = new FormData();\n      fd.append('officials', JSON.stringify(officials.map(({ key, name, position, existingImageUrl, sort_order }) => ({ key, name, position, existingImageUrl, sort_order }))));\n      officials.forEach((o) => { if (o.imageFile) fd.append(`official_image_${o.key}`, o.imageFile); });\n      await fetch(`${API_BASE}/barangays/${id}/officials`, { method: 'PUT', headers: { Authorization: `Bearer ${token}` }, body: fd });\n    }\n    await loadBarangays();\n  }\n\n  async function handleUpdateBrgy(id, brgyFd, officials) {\n    await fetch(`${API_BASE}/barangays/${id}`, { method: 'PUT', headers: { Authorization: `Bearer ${token}` }, body: brgyFd });\n    const fd = new FormData();\n    fd.append('officials', JSON.stringify((officials || []).map(({ key, name, position, existingImageUrl, sort_order }) => ({ key, name, position, existingImageUrl, sort_order }))));\n    (officials || []).forEach((o) => { if (o.imageFile) fd.append(`official_image_${o.key}`, o.imageFile); });\n    await fetch(`${API_BASE}/barangays/${id}/officials`, { method: 'PUT', headers: { Authorization: `Bearer ${token}` }, body: fd });\n    await loadBarangays();\n  }\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-10\">\n      <div id=\"gov-top\" />\n      <section id=\"officials\" className=\"scroll-mt-20\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-xl font-semibold mb-3\">Municipal Officials</h2>\n          {isAdmin && (\n            <button onClick={()=>setShowAddMO(true)} className=\"text-sm px-3 py-1.5 rounded border bg-white\">Add Official</button>\n          )}\n        </div>\n        {moLoading && <div className=\"text-sm text-gray-600\">Loading officials...</div>}\n        {moError && <div className=\"text-sm text-red-600\">{moError}</div>}\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {moList.map((o)=> (\n            <div key={o.id} className=\"border rounded-md p-4 bg-white flex items-center gap-3\">\n              <img src={o.image_url ? `${API_ORIGIN}${o.image_url}` : `https://i.pravatar.cc/96?u=${encodeURIComponent(o.position || o.name || 'official')}`} alt=\"\" className=\"w-14 h-14 rounded-full object-cover\" />\n              <div className=\"flex-1\">\n                <div className=\"font-medium\">{o.name || '—'}</div>\n                <div className=\"text-sm text-gray-600\">{o.position}</div>\n              </div>\n              {isAdmin && (\n                <div className=\"flex items-center gap-1\">\n                  <button onClick={()=>setShowEditMO(o)} title=\"Edit\" className=\"text-xs px-2 py-1 rounded bg-yellow-500 text-white\">Edit</button>\n                  <button onClick={()=>setDeleteMO(o)} title=\"Delete\" className=\"text-xs px-2 py-1 rounded bg-red-600 text-white\">Delete</button>\n                </div>\n              )}\n            </div>\n          ))}\n          {!moLoading && (!moList || moList.length === 0) && (\n            <div className=\"text-sm text-gray-600\">No officials added yet.</div>\n          )}\n        </div>\n      </section>\n\n      {/* Dynamic Government Categories */}\n      <section id=\"dynamic-categories\">\n        {isAdmin && (\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-xl font-semibold mb-3\">Other Government Categories</h2>\n            <button onClick={()=>setCatModal({ mode:'add' })} className=\"text-sm px-3 py-1.5 rounded border bg-white\">Add Category</button>\n          </div>\n        )}\n        {dynLoading && <div className=\"text-sm text-gray-600\">Loading categories...</div>}\n        {dynError && <div className=\"text-sm text-red-600\">{dynError}</div>}\n        <div className=\"space-y-8\">\n          {(isAdmin ? dynCats : (dynCats || []).filter(c => (entriesByCat[c.id] || []).length > 0)).map((c, idx) => (\n            <React.Fragment key={c.id}>\n              {idx > 0 && <div className=\"border-t border-gray-200 my-6\" />}\n              <DynamicCategorySection cat={c} />\n            </React.Fragment>\n          ))}\n          {isAdmin && (!dynCats || dynCats.length === 0) && <div className=\"text-sm text-gray-600\">No additional categories.</div>}\n        </div>\n      </section>\n\n      {/* Category Modal */}\n      <Modal open={!!catModal} onClose={()=>setCatModal(null)} title={catModal?.mode === 'edit' ? 'Edit Category' : 'Add Category'}>\n        {catModal && (\n          <CategoryForm\n            category={catModal.mode === 'edit' ? catModal.cat : undefined}\n            onClose={()=>setCatModal(null)}\n            onSaved={()=>{ setCatModal(null); loadDynCats(); }}\n          />\n        )}\n      </Modal>\n\n      {/* Municipal Official Add */}\n      <Modal open={!!showAddMO} onClose={()=>setShowAddMO(false)} title=\"Add Municipal Official\">\n        {showAddMO && (\n          <MunicipalOfficialForm\n            onClose={()=>setShowAddMO(false)}\n            onSubmit={async (fd)=>{ await handleCreateOfficial(fd); setShowAddMO(false); }}\n            submittingText=\"Create\"\n            onError={(msg)=>setErrorDialog({ open: true, title: 'Official Error', message: msg })}\n          />\n        )}\n      </Modal>\n\n      {/* Municipal Official Edit */}\n      <Modal open={!!showEditMO} onClose={()=>setShowEditMO(null)} title=\"Edit Municipal Official\">\n        {showEditMO && (\n          <MunicipalOfficialForm\n            official={showEditMO}\n            onClose={()=>setShowEditMO(null)}\n            onSubmit={async (fd)=>{ await handleUpdateOfficial(showEditMO.id, fd); setShowEditMO(null); }}\n            submittingText=\"Save\"\n            onError={(msg)=>setErrorDialog({ open: true, title: 'Official Error', message: msg })}\n          />\n        )}\n      </Modal>\n\n      {/* Municipal Official Delete */}\n      <Modal open={!!deleteMO} onClose={()=>setDeleteMO(null)} title=\"Delete Municipal Official\">\n        <div className=\"space-y-4\">\n          <p className=\"text-sm text-gray-700\">Delete <span className=\"font-medium\">{deleteMO?.name}</span>?</p>\n          <div className=\"flex justify-end gap-2\">\n            <button type=\"button\" onClick={()=>setDeleteMO(null)} className=\"px-4 py-2 rounded-md border\">Cancel</button>\n            <button type=\"button\" onClick={async ()=>{ if (!deleteMO) return; await fetch(`${API_BASE}/gov/municipal-officials/${deleteMO.id}`, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` } }); setDeleteMO(null); await loadMunicipalOfficials(); }} className=\"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700\">Delete</button>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Category Delete */}\n      <Modal open={!!catDelete} onClose={()=>setCatDelete(null)} title=\"Delete Category\">\n        <div className=\"space-y-4\">\n          <p className=\"text-sm text-gray-700\">Delete <span className=\"font-medium\">{catDelete?.title}</span>? This will remove all its entries.</p>\n          {catDeleteStatus.kind ? (\n            <div className={`px-4 py-2 rounded-md text-sm ${catDeleteStatus.kind==='success' ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`}>{catDeleteStatus.text}</div>\n          ) : (\n            <div className=\"flex justify-end gap-2\">\n              <button type=\"button\" onClick={()=>setCatDelete(null)} className=\"px-4 py-2 rounded-md border\">Cancel</button>\n              <button\n                type=\"button\"\n                onClick={async ()=>{\n                  try {\n                    if (!catDelete) return;\n                    const r = await fetch(`${API_BASE}/gov/categories/${catDelete.id}`, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` }});\n                    if (!r.ok) { const e = await r.json().catch(()=>({})); throw new Error(e.error || 'Failed to delete'); }\n                    setCatDeleteStatus({ kind: 'success', text: 'Deleted successfully.' });\n                    setTimeout(async ()=>{ setCatDeleteStatus({ kind: null, text: '' }); setCatDelete(null); await loadDynCats(); }, 1500);\n                  } catch (err) {\n                    setCatDeleteStatus({ kind: 'error', text: err.message || 'An error occurred.' });\n                    setTimeout(()=>setCatDeleteStatus({ kind: null, text: '' }), 2000);\n                  }\n                }}\n                className=\"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700\"\n              >Delete</button>\n            </div>\n          )}\n        </div>\n      </Modal>\n\n      {/* Entry Modal */}\n      <Modal open={!!entryModal} onClose={()=>setEntryModal(null)} title={entryModal?.mode === 'edit' ? 'Edit Entry' : 'Add Entry'}>\n        {entryModal && (\n          <EntryForm\n            category={entryModal.cat || dynCats.find(c=>c.id === (entryModal.entry?.category_id))}\n            entry={entryModal.mode === 'edit' ? entryModal.entry : undefined}\n            onClose={()=>setEntryModal(null)}\n            onSaved={()=>{ setEntryModal(null); const cid = (entryModal.cat?.id) || (entryModal.entry?.category_id); if (cid) loadEntries(cid); }}\n          />\n        )}\n      </Modal>\n\n      {/* Entry Delete */}\n      <Modal open={!!entryDelete} onClose={()=>setEntryDelete(null)} title=\"Delete Entry\">\n        <div className=\"space-y-4\">\n          <p className=\"text-sm text-gray-700\">Delete <span className=\"font-medium\">{entryDelete?.title || 'this entry'}</span>?</p>\n          {entryDeleteStatus.kind ? (\n            <div className={`px-4 py-2 rounded-md text-sm ${entryDeleteStatus.kind==='success' ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`}>{entryDeleteStatus.text}</div>\n          ) : (\n            <div className=\"flex justify-end gap-2\">\n              <button type=\"button\" onClick={()=>setEntryDelete(null)} className=\"px-4 py-2 rounded-md border\">Cancel</button>\n              <button\n                type=\"button\"\n                onClick={async ()=>{\n                  try {\n                    if (!entryDelete) return;\n                    const r = await fetch(`${API_BASE}/gov/entries/${entryDelete.id}`, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` }});\n                    if (!r.ok) { const e = await r.json().catch(()=>({})); throw new Error(e.error || 'Failed to delete'); }\n                    const cid = entryDelete.category_id;\n                    setEntryDeleteStatus({ kind: 'success', text: 'Deleted successfully.' });\n                    setTimeout(async ()=>{ setEntryDeleteStatus({ kind: null, text: '' }); setEntryDelete(null); if (cid) await loadEntries(cid); }, 1500);\n                  } catch (err) {\n                    setEntryDeleteStatus({ kind: 'error', text: err.message || 'An error occurred.' });\n                    setTimeout(()=>setEntryDeleteStatus({ kind: null, text: '' }), 2000);\n                  }\n                }}\n                className=\"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700\"\n              >Delete</button>\n            </div>\n          )}\n        </div>\n      </Modal>\n\n      <section id=\"offices\" className=\"scroll-mt-20\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-xl font-semibold mb-3\">Municipal Offices</h2>\n          {isAdmin && (\n            <button onClick={()=>setShowAdd(true)} className=\"text-sm px-3 py-1.5 rounded border bg-white\">Add Office</button>\n          )}\n        </div>\n        {loading && <div className=\"text-sm text-gray-600\">Loading offices...</div>}\n        {error && <div className=\"text-sm text-red-600\">{error}</div>}\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {offices.map((ofc)=> (\n            <div key={ofc.id} className=\"border rounded-md overflow-hidden bg-white\">\n              <div className=\"relative\">\n                {ofc.image_url && <img src={`${API_ORIGIN}${ofc.image_url}`} alt=\"\" className=\"w-full h-28 object-cover\" />}\n                {(isAdmin || (canEdit(ofc))) && (\n                  <div className=\"absolute top-2 right-2 flex gap-1\">\n                    {canEdit(ofc) && (\n                      <button onClick={()=>setShowEdit(ofc)} title=\"Edit\" className=\"text-xs px-2 py-1 rounded bg-yellow-500 text-white\">Edit</button>\n                    )}\n                    {isAdmin && (\n                      <button onClick={()=>handleDelete(ofc)} title=\"Delete\" className=\"text-xs px-2 py-1 rounded bg-red-600 text-white\">Delete</button>\n                    )}\n                  </div>\n                )}\n              </div>\n              <Link to={`/government/offices/${ofc.slug || ofc.id}`} className=\"block\">\n                <div className=\"p-4\">\n                  <div className=\"font-medium\">{ofc.name}</div>\n                  <div className=\"flex items-center gap-2 mt-1\">\n                    <img src={ofc.head_image_url ? `${API_ORIGIN}${ofc.head_image_url}` : `https://i.pravatar.cc/64?u=${encodeURIComponent(ofc.head || ofc.name)}`} alt=\"\" className=\"w-6 h-6 rounded-full object-cover\" />\n                    <div className=\"text-sm text-gray-600\">Head: {ofc.head || '—'}</div>\n                  </div>\n                  <div className=\"text-sm text-gray-600\">Location: {ofc.location || '—'}</div>\n                </div>\n              </Link>\n            </div>\n          ))}\n        </div>\n\n        {/* Add Office Modal */}\n        <Modal open={!!showAdd} onClose={()=>setShowAdd(false)} title=\"Add Office\">\n          <OfficeForm\n            onClose={()=>{ setShowAdd(false); }}\n            onSubmit={handleCreate}\n            submittingText=\"Create\"\n            onError={(msg)=>setErrorDialog({ open: true, title: 'Office Error', message: msg, description: 'An office with the same name already exists. Please choose a unique name or edit the existing office.' })}\n          />\n        </Modal>\n\n        {/* Edit Office Modal */}\n        <Modal open={!!showEdit} onClose={()=>setShowEdit(null)} title=\"Edit Office\">\n          {showEdit && (\n            <OfficeForm\n              office={showEdit}\n              onClose={()=>{ setShowEdit(null); }}\n              onSubmit={(fd)=>handleUpdate(showEdit.id, fd)}\n              submittingText=\"Save\"\n              onError={(msg)=>setErrorDialog({ open: true, title: 'Office Error', message: msg, description: 'An office with the same name already exists. Please choose a unique name or edit the existing office.' })}\n            />\n          )}\n        </Modal>\n\n        {/* Delete Confirmation Modal */}\n        <Modal open={!!deleteTarget} onClose={()=>setDeleteTarget(null)} title=\"Delete Office\">\n          <div className=\"space-y-4\">\n            <p className=\"text-sm text-gray-700\">Are you sure you want to delete <span className=\"font-medium\">{deleteTarget?.name}</span>? This action cannot be undone.</p>\n            <div className=\"flex justify-end gap-2\">\n              <button type=\"button\" onClick={()=>setDeleteTarget(null)} className=\"px-4 py-2 rounded-md border\">Cancel</button>\n              <button type=\"button\" onClick={confirmDelete} className=\"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700\">Delete</button>\n            </div>\n          </div>\n        </Modal>\n      </section>\n\n      <section id=\"barangays\" className=\"scroll-mt-20\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-xl font-semibold mb-3\">Barangays</h2>\n          {isAdmin && (\n            <button onClick={()=>setShowAddBrgy(true)} className=\"text-sm px-3 py-1.5 rounded border bg-white\">Add Barangay</button>\n          )}\n        </div>\n        {brgyLoading && <div className=\"text-sm text-gray-600\">Loading barangays...</div>}\n        {brgyError && <div className=\"text-sm text-red-600\">{brgyError}</div>}\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-3\">\n          {barangays.map((b)=> (\n            <div key={b.id} className=\"border rounded-md overflow-hidden bg-white\">\n              {b.image_url && <img src={`${API_ORIGIN}${b.image_url}`} alt=\"\" className=\"w-full h-28 object-cover\" />}\n              <div className=\"p-3 text-sm\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"font-medium\">{b.name}</div>\n                  {(isAdmin || canEditBrgy(b)) && (\n                    <div className=\"flex gap-1\">\n                      {canEditBrgy(b) && (\n                        <button onClick={()=>openEditBarangay(b)} title=\"Edit\" className=\"text-xs px-2 py-1 rounded bg-yellow-500 text-white\">Edit</button>\n                      )}\n                      {isAdmin && (\n                        <button onClick={()=>setDeleteBrgy(b)} title=\"Delete\" className=\"text-xs px-2 py-1 rounded bg-red-600 text-white\">Delete</button>\n                      )}\n                    </div>\n                  )}\n                </div>\n                <div className=\"text-gray-600 mt-1 line-clamp-2\">{b.description || '—'}</div>\n                <Link to={`/government/barangays/${b.id}`} className=\"inline-block mt-2 text-blue-700 hover:underline\">View</Link>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Add Barangay Modal */}\n        <Modal open={!!showAddBrgy} onClose={()=>setShowAddBrgy(false)} title=\"Add Barangay\">\n          <BarangayForm\n            onClose={()=>setShowAddBrgy(false)}\n            onSubmit={(fd, officials)=>handleCreateBrgy(fd, officials)}\n            submittingText=\"Create\"\n            onError={(msg)=>setErrorDialog({ open: true, title: 'Barangay Error', message: msg, description: 'A barangay with the same name already exists. Please use a different name or update the existing barangay.' })}\n          />\n        </Modal>\n\n        {/* Edit Barangay Modal */}\n        <Modal open={!!showEditBrgy} onClose={()=>setShowEditBrgy(null)} title=\"Edit Barangay\">\n          {showEditBrgy && (\n            <BarangayForm\n              barangay={showEditBrgy}\n              onClose={()=>setShowEditBrgy(null)}\n              onSubmit={(fd, officials)=>handleUpdateBrgy(showEditBrgy.id, fd, officials)}\n              submittingText=\"Save\"\n              onError={(msg)=>setErrorDialog({ open: true, title: 'Barangay Error', message: msg, description: 'A barangay with the same name already exists. Please use a different name or update the existing barangay.' })}\n            />\n          )}\n        </Modal>\n\n        {/* Delete Barangay Confirmation */}\n        <Modal open={!!deleteBrgy} onClose={()=>setDeleteBrgy(null)} title=\"Delete Barangay\">\n          <div className=\"space-y-4\">\n            <p className=\"text-sm text-gray-700\">Are you sure you want to delete <span className=\"font-medium\">{deleteBrgy?.name}</span>? This action cannot be undone.</p>\n            <div className=\"flex justify-end gap-2\">\n              <button type=\"button\" onClick={()=>setDeleteBrgy(null)} className=\"px-4 py-2 rounded-md border\">Cancel</button>\n              <button type=\"button\" onClick={confirmDeleteBrgy} className=\"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700\">Delete</button>\n            </div>\n          </div>\n        </Modal>\n      </section>\n\n      <section id=\"awards\" className=\"scroll-mt-20\">\n        <h2 className=\"text-xl font-semibold mb-3\">Awards & Achievements</h2>\n        <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {awards.map((a,idx)=> (\n            <button key={idx} onClick={()=>setSelectedAward({ title: a })} className=\"text-left border rounded-md overflow-hidden bg-white hover:border-blue-400\">\n              <img src={`https://picsum.photos/seed/award-${idx}/480/240`} alt=\"\" className=\"w-full h-28 object-cover\" />\n              <div className=\"p-3\">\n                <div className=\"font-medium text-sm\">{a}</div>\n                <div className=\"text-xs text-gray-600 mt-1\">Click to view certificate and details</div>\n              </div>\n            </button>\n          ))}\n        </div>\n        <dialog open={!!selectedAward} className=\"rounded-lg p-0 w-full max-w-2xl\">\n          {selectedAward && (\n            <div>\n              <div className=\"flex justify-between items-center px-4 py-3 border-b\">\n                <div className=\"font-semibold\">{selectedAward.title}</div>\n                <button className=\"text-gray-600\" onClick={()=>setSelectedAward(null)}>✕</button>\n              </div>\n              <div className=\"p-4 space-y-3\">\n                <div className=\"text-sm text-gray-700\">This section will display the official documentation, certificate scans, and a short description for the award.</div>\n                <div className=\"grid grid-cols-2 gap-2\">\n                  <img src=\"https://picsum.photos/seed/cert1/640/360\" alt=\"\" className=\"w-full h-32 object-cover rounded\" />\n                  <img src=\"https://picsum.photos/seed/cert2/640/360\" alt=\"\" className=\"w-full h-32 object-cover rounded\" />\n                </div>\n              </div>\n            </div>\n          )}\n        </dialog>\n      </section>\n      {/* Error Modal */}\n      <Modal open={errorDialog.open} onClose={()=>setErrorDialog({ open: false, title: '', message: '', description: '' })} title={errorDialog.title || 'Error'}>\n        <div className=\"space-y-4\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"shrink-0 rounded-full bg-red-100 p-2\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" className=\"w-5 h-5 text-red-600\"><path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.72-1.36 3.485 0l6.518 11.59c.75 1.335-.213 2.99-1.742 2.99H3.48c-1.53 0-2.492-1.655-1.742-2.99L8.257 3.1zM11 14a1 1 0 10-2 0 1 1 0 002 0zm-.293-7.707a1 1 0 00-1.414 0l-.293.293v4.121a1 1 0 002 0V6.586l-.293-.293z\" clipRule=\"evenodd\"/></svg>\n            </div>\n            <div>\n              <div className=\"font-medium text-red-800\">{errorDialog.title || 'Error'}</div>\n              <p className=\"mt-1 text-sm text-red-700\">{errorDialog.message}</p>\n              {errorDialog.description && <p className=\"mt-2 text-xs text-red-600\">{errorDialog.description}</p>}\n            </div>\n          </div>\n          <div className=\"flex justify-end\">\n            <button type=\"button\" onClick={()=>setErrorDialog({ open: false, title: '', message: '', description: '' })} className=\"px-4 py-2 rounded-md border\">Close</button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n}\n\nfunction BarangayForm({ barangay, onClose, onSubmit, submittingText, onError }) {\n  const [name, setName] = useState(barangay?.name || '');\n  const [description, setDescription] = useState(barangay?.description || '');\n  const [imageFile, setImageFile] = useState(null);\n  const [officials, setOfficials] = useState(() => {\n    const base = Array.isArray(barangay?.officials) ? barangay.officials : [];\n    return base.map((o, idx) => ({ key: String(o.id || idx), name: o.name || '', position: o.position || '', existingImageUrl: o.image_url || null, imageFile: null, sort_order: o.sort_order ?? idx }));\n  });\n  const [submitting, setSubmitting] = useState(false);\n\n  function addOfficial() {\n    setOfficials((prev) => [...prev, { key: String(Date.now()), name: '', position: '', existingImageUrl: null, imageFile: null, sort_order: prev.length }]);\n  }\n  function removeOfficial(idx) {\n    setOfficials((prev) => prev.filter((_, i) => i !== idx).map((o, i) => ({ ...o, sort_order: i })));\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setSubmitting(true);\n    try {\n      const fd = new FormData();\n      if (!barangay) fd.append('name', name.trim()); else if (name && name !== barangay.name) fd.append('name', name.trim());\n      if (description !== (barangay?.description || '')) fd.append('description', description);\n      if (imageFile) fd.append('image', imageFile);\n      await onSubmit(fd, officials);\n      onClose();\n    } catch (e) {\n      onError?.(e.message || 'Failed to save barangay');\n    } finally {\n      setSubmitting(false);\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4 p-1 sm:p-2\">\n      {!barangay && (\n        <div>\n          <label className=\"block text-sm text-gray-700\">Name</label>\n          <input value={name} onChange={(e)=>setName(e.target.value)} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" placeholder=\"e.g., Brgy. Mabini\" required />\n        </div>\n      )}\n      <div>\n        <label className=\"block text-sm text-gray-700\">Description</label>\n        <textarea value={description} onChange={(e)=>setDescription(e.target.value)} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" rows={3} placeholder=\"Brief description\" />\n      </div>\n      <div>\n        <label className=\"block text-sm text-gray-700\">Barangay Image</label>\n        <div className=\"mt-1 flex items-center gap-3\">\n          <div className=\"w-24 h-16 rounded-md bg-gray-100 border overflow-hidden flex items-center justify-center\">\n            {imageFile ? (\n              <img alt=\"preview\" src={URL.createObjectURL(imageFile)} className=\"w-full h-full object-cover\" />\n            ) : barangay?.image_url ? (\n              <img alt=\"brgy\" src={`${API_ORIGIN}${barangay.image_url}`} className=\"w-full h-full object-cover\" />\n            ) : (\n              <span className=\"text-xs text-gray-400\">No image</span>\n            )}\n          </div>\n          <div>\n            <input id=\"brgy-image\" type=\"file\" accept=\"image/*\" onChange={(e)=>setImageFile(e.target.files?.[0] || null)} className=\"sr-only\" />\n            <label htmlFor=\"brgy-image\" className=\"inline-flex items-center px-3 py-2 rounded-md border text-sm bg-white hover:bg-gray-50 cursor-pointer\">Choose File</label>\n          </div>\n        </div>\n      </div>\n      <div>\n        <div className=\"flex items-center justify-between mb-2\">\n          <label className=\"block text-sm font-medium text-gray-700\">Officials</label>\n          <button type=\"button\" onClick={addOfficial} className=\"text-xs px-2 py-1 rounded-md border bg-white\">Add Official</button>\n        </div>\n        <div className=\"space-y-3\">\n          {officials.map((o, idx) => (\n            <div key={o.key} className=\"border rounded-md p-3\">\n              <div className=\"grid sm:grid-cols-3 gap-3 items-start\">\n                <div className=\"sm:col-span-2 grid sm:grid-cols-2 gap-3\">\n                  <div>\n                    <label className=\"block text-xs text-gray-700\">Name</label>\n                    <input value={o.name} onChange={(e)=>setOfficials(prev => prev.map((x,i)=> i===idx?{...x,name:e.target.value}:x))} className=\"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs text-gray-700\">Position</label>\n                    <input value={o.position} onChange={(e)=>setOfficials(prev => prev.map((x,i)=> i===idx?{...x,position:e.target.value}:x))} className=\"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                  </div>\n                </div>\n                <div>\n                  <label className=\"block text-xs text-gray-700\">Photo</label>\n                  <div className=\"mt-1 flex items-center gap-3\">\n                    <div className=\"w-14 h-14 rounded-full bg-gray-100 border overflow-hidden flex items-center justify-center\">\n                      {o.imageFile ? (\n                        <img alt=\"preview\" src={URL.createObjectURL(o.imageFile)} className=\"w-full h-full object-cover\" />\n                      ) : o.existingImageUrl ? (\n                        <img alt=\"official\" src={`${API_ORIGIN}${o.existingImageUrl}`} className=\"w-full h-full object-cover\" />\n                      ) : (\n                        <span className=\"text-[10px] text-gray-400\">No photo</span>\n                      )}\n                    </div>\n                    <div>\n                      <input id={`official-${o.key}`} type=\"file\" accept=\"image/*\" onChange={(e)=>setOfficials(prev => prev.map((x,i)=> i===idx?{...x,imageFile:(e.target.files?.[0]||null)}:x))} className=\"sr-only\" />\n                      <label htmlFor={`official-${o.key}`} className=\"inline-flex items-center px-3 py-2 rounded-md border text-xs bg-white hover:bg-gray-50 cursor-pointer\">Choose File</label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"flex justify-end mt-2\">\n                <button type=\"button\" onClick={()=>removeOfficial(idx)} className=\"text-xs px-2 py-1 rounded-md border bg-white\">Remove</button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n      <div className=\"flex justify-end gap-2\">\n        <button type=\"button\" onClick={onClose} className=\"px-4 py-2 rounded-md border\">Cancel</button>\n        <button disabled={submitting} className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\">{submitting ? 'Saving...' : submittingText}</button>\n      </div>\n    </form>\n  );\n}\n\nfunction OfficeForm({ office, onClose, onSubmit, submittingText, onError }) {\n  const [name, setName] = useState(office?.name || '');\n  const [head, setHead] = useState(office?.head || '');\n  const [location, setLocation] = useState(office?.location || '');\n  const [contact, setContact] = useState(office?.contact || '');\n  const [lat, setLat] = useState(office?.lat ?? null);\n  const [lng, setLng] = useState(office?.lng ?? null);\n  const [description, setDescription] = useState(office?.description || '');\n  const [imageFile, setImageFile] = useState(null);\n  const [headImageFile, setHeadImageFile] = useState(null);\n  const [submitting, setSubmitting] = useState(false);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setSubmitting(true);\n    try {\n      const fd = new FormData();\n      if (!office) fd.append('name', name.trim());\n      if (office && name && name !== office.name) fd.append('name', name.trim());\n      if (head !== (office?.head || '')) fd.append('head', head);\n      if (location !== (office?.location || '')) fd.append('location', location);\n      if (contact !== (office?.contact || '')) fd.append('contact', contact);\n      if (lat != null) fd.append('lat', String(lat));\n      if (lng != null) fd.append('lng', String(lng));\n      if (description !== (office?.description || '')) fd.append('description', description);\n      if (imageFile) fd.append('image', imageFile);\n      if (headImageFile) fd.append('headImage', headImageFile);\n      await onSubmit(fd);\n      onClose();\n    } catch (e) {\n      onError?.(e.message || 'Failed to save office');\n    } finally {\n      setSubmitting(false);\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4 p-1 sm:p-2\">\n      {!office && (\n        <div>\n          <label className=\"block text-sm text-gray-700\">Name</label>\n          <input value={name} onChange={(e)=>setName(e.target.value)} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" placeholder=\"e.g., Municipal Engineering Office\" required />\n        </div>\n      )}\n      <div>\n        <label className=\"block text-sm text-gray-700\">Head of Office</label>\n        <input value={head} onChange={(e)=>setHead(e.target.value)} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" placeholder=\"e.g., Juan Dela Cruz\" />\n      </div>\n      <div className=\"grid sm:grid-cols-2 gap-3\">\n        <div>\n          <label className=\"block text-sm text-gray-700\">Location</label>\n          <input value={location} onChange={(e)=>setLocation(e.target.value)} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" placeholder=\"e.g., Municipal Hall, 2/F\" />\n        </div>\n        <div>\n          <label className=\"block text-sm text-gray-700\">Contact</label>\n          <input value={contact} onChange={(e)=>setContact(e.target.value)} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" placeholder=\"e.g., (042) 123-4567\" />\n        </div>\n      </div>\n      <div>\n        <label className=\"block text-sm text-gray-700 mb-2\">Pin Office Location</label>\n        <MapPicker lat={lat} lng={lng} onChange={({lat: la, lng: ln})=>{ setLat(la); setLng(ln); }} />\n      </div>\n      <div>\n        <label className=\"block text-sm text-gray-700\">Description</label>\n        <textarea value={description} onChange={(e)=>setDescription(e.target.value)} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" rows={3} placeholder=\"Brief description of the office\" />\n      </div>\n      <div className=\"grid sm:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm text-gray-700\">Office Image</label>\n          <div className=\"mt-1 flex items-center gap-3\">\n            <div className=\"w-20 h-20 rounded-md bg-gray-100 border overflow-hidden flex items-center justify-center\">\n              {imageFile ? (\n                <img alt=\"preview\" src={URL.createObjectURL(imageFile)} className=\"w-full h-full object-cover\" />\n              ) : office?.image_url ? (\n                <img alt=\"office\" src={`${API_ORIGIN}${office.image_url}`} className=\"w-full h-full object-cover\" />\n              ) : (\n                <span className=\"text-xs text-gray-400\">No image</span>\n              )}\n            </div>\n            <div>\n              <input id=\"office-image\" type=\"file\" accept=\"image/*\" onChange={(e)=>setImageFile(e.target.files?.[0] || null)} className=\"sr-only\" />\n              <label htmlFor=\"office-image\" className=\"inline-flex items-center px-3 py-2 rounded-md border text-sm bg-white hover:bg-gray-50 cursor-pointer\">Choose File</label>\n              <div className=\"text-xs text-gray-600 mt-1 truncate max-w-[12rem]\">{imageFile?.name || (office?.image_url ? office.image_url.split('/').pop() : 'No file selected')}</div>\n            </div>\n          </div>\n        </div>\n        <div>\n          <label className=\"block text-sm text-gray-700\">Head Photo</label>\n          <div className=\"mt-1 flex items-center gap-3\">\n            <div className=\"w-20 h-20 rounded-full bg-gray-100 border overflow-hidden flex items-center justify-center\">\n              {headImageFile ? (\n                <img alt=\"preview\" src={URL.createObjectURL(headImageFile)} className=\"w-full h-full object-cover\" />\n              ) : office?.head_image_url ? (\n                <img alt=\"head\" src={`${API_ORIGIN}${office.head_image_url}`} className=\"w-full h-full object-cover\" />\n              ) : (\n                <span className=\"text-xs text-gray-400\">No photo</span>\n              )}\n            </div>\n            <div>\n              <input id=\"head-image\" type=\"file\" accept=\"image/*\" onChange={(e)=>setHeadImageFile(e.target.files?.[0] || null)} className=\"sr-only\" />\n              <label htmlFor=\"head-image\" className=\"inline-flex items-center px-3 py-2 rounded-md border text-sm bg-white hover:bg-gray-50 cursor-pointer\">Choose File</label>\n              <div className=\"text-xs text-gray-600 mt-1 truncate max-w-[12rem]\">{headImageFile?.name || (office?.head_image_url ? office.head_image_url.split('/').pop() : 'No file selected')}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"flex justify-end gap-2\">\n        <button type=\"button\" onClick={onClose} className=\"px-4 py-2 rounded-md border\">Cancel</button>\n        <button disabled={submitting} className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\">{submitting ? 'Saving...' : submittingText}</button>\n      </div>\n    </form>\n  );\n}\n\nfunction MunicipalOfficialForm({ official, onClose, onSubmit, submittingText, onError }) {\n  const [name, setName] = useState(official?.name || '');\n  const [position, setPosition] = useState(official?.position || '');\n  const [imageFile, setImageFile] = useState(null);\n  const [submitting, setSubmitting] = useState(false);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setSubmitting(true);\n    try {\n      const fd = new FormData();\n      if (!official || (name && name !== official.name)) fd.append('name', name.trim());\n      if (!official || (position && position !== official.position)) fd.append('position', position.trim());\n      if (imageFile) fd.append('image', imageFile);\n      await onSubmit(fd);\n      onClose?.();\n    } catch (e) {\n      onError?.(e.message || 'Failed to save official');\n    } finally {\n      setSubmitting(false);\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4 p-1 sm:p-2\">\n      <div>\n        <label className=\"block text-sm text-gray-700\">Name</label>\n        <input value={name} onChange={(e)=>setName(e.target.value)} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" placeholder=\"e.g., Hon. John Doe\" required />\n      </div>\n      <div>\n        <label className=\"block text-sm text-gray-700\">Position</label>\n        <input value={position} onChange={(e)=>setPosition(e.target.value)} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" placeholder=\"e.g., Mayor\" required />\n      </div>\n      <div>\n        <label className=\"block text-sm text-gray-700\">Photo</label>\n        <div className=\"mt-1 flex items-center gap-3\">\n          <div className=\"w-16 h-16 rounded-full bg-gray-100 border overflow-hidden flex items-center justify-center\">\n            {imageFile ? (\n              <img alt=\"preview\" src={URL.createObjectURL(imageFile)} className=\"w-full h-full object-cover\" />\n            ) : official?.image_url ? (\n              <img alt=\"official\" src={`${API_ORIGIN}${official.image_url}`} className=\"w-full h-full object-cover\" />\n            ) : (\n              <span className=\"text-[10px] text-gray-400\">No photo</span>\n            )}\n          </div>\n          <div>\n            <input id=\"mo-image\" type=\"file\" accept=\"image/*\" onChange={(e)=>setImageFile(e.target.files?.[0] || null)} className=\"sr-only\" />\n            <label htmlFor=\"mo-image\" className=\"inline-flex items-center px-3 py-2 rounded-md border text-sm bg-white hover:bg-gray-50 cursor-pointer\">Choose File</label>\n          </div>\n        </div>\n      </div>\n      <div className=\"flex justify-end gap-2\">\n        <button type=\"button\" onClick={onClose} className=\"px-4 py-2 rounded-md border\">Cancel</button>\n        <button disabled={submitting} className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\">{submitting ? 'Saving...' : (submittingText || 'Save')}</button>\n      </div>\n    </form>\n  );\n}\n\n// handleDelete moved into component scope above to access token\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD;AACA,OAAOC,MAAM,MAAM,gBAAgB;AACnC,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,QAAQ,EAAEC,UAAU,QAAQ,WAAW;AAChD,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,YAAY,MAAM,gCAAgC;AACzD,OAAOC,SAAS,MAAM,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEpD,eAAe,SAASC,UAAUA,CAAA,EAAG;EAAAC,GAAA;EAAA,IAAAC,EAAA,GAAAC,YAAA;EACnC,MAAM;IAAEC,IAAI;IAAEC;EAAM,CAAC,GAAGhB,OAAO,CAAC,CAAC;EACjC,MAAMiB,OAAO,GAAG,CAAC,CAACF,IAAI,KAAKA,IAAI,CAACG,IAAI,KAAK,OAAO,IAAIH,IAAI,CAACG,IAAI,KAAK,YAAY,CAAC;EAC/E,MAAMC,UAAU,GAAG,CAAAJ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK,QAAQ,MAAIL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEM,SAAS,KAAI,IAAI;EAC5D,MAAMC,YAAY,GAAG,CAAAP,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,UAAU,MAAIR,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,WAAW,KAAI,IAAI;EAClE,MAAMC,QAAQ,GAAG,CAAAV,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEW,EAAE,MAAIX,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEY,MAAM,KAAI,IAAI;EACjD,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGjC,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACkC,OAAO,EAAEC,UAAU,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACoC,OAAO,EAAEC,UAAU,CAAC,GAAGrC,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACsC,KAAK,EAAEC,QAAQ,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwC,OAAO,EAAEC,UAAU,CAAC,GAAGzC,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC0C,QAAQ,EAAEC,WAAW,CAAC,GAAG3C,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAChD,MAAM,CAAC4C,YAAY,EAAEC,eAAe,CAAC,GAAG7C,QAAQ,CAAC,IAAI,CAAC;EACtD;EACA,MAAM,CAAC8C,SAAS,EAAEC,YAAY,CAAC,GAAG/C,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACgD,WAAW,EAAEC,cAAc,CAAC,GAAGjD,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACkD,SAAS,EAAEC,YAAY,CAAC,GAAGnD,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACoD,WAAW,EAAEC,cAAc,CAAC,GAAGrD,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACsD,YAAY,EAAEC,eAAe,CAAC,GAAGvD,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACwD,UAAU,EAAEC,aAAa,CAAC,GAAGzD,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAAC0D,WAAW,EAAEC,cAAc,CAAC,GAAG3D,QAAQ,CAAC;IAAE4D,IAAI,EAAE,KAAK;IAAEC,KAAK,EAAE,EAAE;IAAEC,OAAO,EAAE,EAAE;IAAEC,WAAW,EAAE;EAAG,CAAC,CAAC;EAExG,eAAeC,WAAWA,CAAA,EAAG;IAC3B3B,UAAU,CAAC,IAAI,CAAC;IAAEE,QAAQ,CAAC,EAAE,CAAC;IAC9B,IAAI;MACF,MAAM0B,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAG7D,QAAQ,UAAU,CAAC;MAC5C,IAAI,CAAC4D,CAAC,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;MACpD,MAAMC,IAAI,GAAG,MAAMJ,CAAC,CAACK,IAAI,CAAC,CAAC;MAC3BnC,UAAU,CAACoC,KAAK,CAACC,OAAO,CAACH,IAAI,CAAC,GAAGA,IAAI,GAAG,EAAE,CAAC;IAC7C,CAAC,CAAC,OAAMI,CAAC,EAAE;MAAElC,QAAQ,CAACkC,CAAC,CAACX,OAAO,IAAI,OAAO,CAAC;IAAE,CAAC,SACtC;MAAEzB,UAAU,CAAC,KAAK,CAAC;IAAE;EAC/B;EAEA,eAAeqC,oBAAoBA,CAACC,EAAE,EAAE;IACtC,MAAMV,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAG7D,QAAQ,0BAA0B,EAAE;MAAEuE,MAAM,EAAE,MAAM;MAAEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAU1D,KAAK;MAAG,CAAC;MAAE2D,IAAI,EAAEJ;IAAG,CAAC,CAAC;IACzI,IAAI,CAACV,CAAC,CAACE,EAAE,EAAE;MACT,MAAMM,CAAC,GAAG,MAAMR,CAAC,CAACK,IAAI,CAAC,CAAC,CAACU,KAAK,CAAC,OAAK,CAAC,CAAC,CAAC,CAAC;MACxC,MAAM,IAAIZ,KAAK,CAACK,CAAC,CAACnC,KAAK,IAAI,yBAAyB,CAAC;IACvD;IACA,MAAM2C,sBAAsB,CAAC,CAAC;EAChC;EAEA,eAAeC,oBAAoBA,CAACpD,EAAE,EAAE6C,EAAE,EAAE;IAC1C,MAAMV,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAG7D,QAAQ,4BAA4ByB,EAAE,EAAE,EAAE;MAAE8C,MAAM,EAAE,KAAK;MAAEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAU1D,KAAK;MAAG,CAAC;MAAE2D,IAAI,EAAEJ;IAAG,CAAC,CAAC;IAC9I,IAAI,CAACV,CAAC,CAACE,EAAE,EAAE;MACT,MAAMM,CAAC,GAAG,MAAMR,CAAC,CAACK,IAAI,CAAC,CAAC,CAACU,KAAK,CAAC,OAAK,CAAC,CAAC,CAAC,CAAC;MACxC,MAAM,IAAIZ,KAAK,CAACK,CAAC,CAACnC,KAAK,IAAI,2BAA2B,CAAC;IACzD;IACA,MAAM2C,sBAAsB,CAAC,CAAC;EAChC;;EAEA;EACA,MAAME,QAAQ,GAAGhF,WAAW,CAAC,CAAC;EAC9BJ,SAAS,CAAC,MAAM;IACd,IAAIoF,QAAQ,CAACC,IAAI,EAAE;MACjB,MAAMC,EAAE,GAAGC,QAAQ,CAACC,aAAa,CAACJ,QAAQ,CAACC,IAAI,CAAC;MAChD,IAAIC,EAAE,EAAEA,EAAE,CAACG,cAAc,CAAC;QAAEC,QAAQ,EAAE,QAAQ;QAAEC,KAAK,EAAE;MAAQ,CAAC,CAAC;IACnE;EACF,CAAC,EAAE,CAACP,QAAQ,CAAC,CAAC;;EAEd;EACA,SAASQ,gBAAgBA,CAACC,IAAI,EAAEC,KAAK,EAAEC,KAAK,EAAE;IAC5C,IAAID,KAAK,IAAI,IAAI,EAAE,OAAO,IAAI;IAC9B,IAAID,IAAI,KAAK,OAAO,EAAE,oBAAQhF,OAAA;MAAKmF,GAAG,EAAC,EAAE;MAACC,GAAG,EAAE,GAAG1F,UAAU,GAAGuF,KAAK,EAAG;MAACI,SAAS,EAAC;IAAkC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;IACvH,IAAIT,IAAI,KAAK,QAAQ,IAAIA,IAAI,KAAK,SAAS,EAAE,oBAC3ChF,OAAA;MAAKqF,SAAS,EAAC,wBAAwB;MAAAK,QAAA,EAAE,CAACT,KAAK,IAAI,EAAE,EAAEU,GAAG,CAAC,CAACC,CAAC,EAACC,CAAC,kBAAI7F,OAAA;QAAamF,GAAG,EAAC,EAAE;QAACC,GAAG,EAAE,GAAG1F,UAAU,GAAGkG,CAAC,EAAG;QAACP,SAAS,EAAC;MAAkC,GAAhFQ,CAAC;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAiF,CAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;IAE3K,IAAIT,IAAI,KAAK,MAAM,EAAE,oBAAQhF,OAAA;MAAGqF,SAAS,EAAC,+BAA+B;MAACS,IAAI,EAAE,GAAGpG,UAAU,GAAGuF,KAAK,EAAG;MAACc,QAAQ;MAAAL,QAAA,EAAER,KAAK,IAAI;IAAe;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;IAChJ,IAAIT,IAAI,KAAK,OAAO,EAAE,oBACpBhF,OAAA;MAAIqF,SAAS,EAAC,gBAAgB;MAAAK,QAAA,EAAE,CAACT,KAAK,IAAI,EAAE,EAAEU,GAAG,CAAC,CAACC,CAAC,EAACC,CAAC,kBAAI7F,OAAA;QAAA0F,QAAA,eAAY1F,OAAA;UAAGqF,SAAS,EAAC,+BAA+B;UAACS,IAAI,EAAE,GAAGpG,UAAU,GAAGkG,CAAC,EAAG;UAACG,QAAQ;UAAAL,QAAA,EAAE,QAAQG,CAAC,GAAC,CAAC;QAAE;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC,GAAvGI,CAAC;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAA0G,CAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;IAEzL,IAAIT,IAAI,KAAK,MAAM,EAAE,oBAAQhF,OAAA;MAAGqF,SAAS,EAAC,+BAA+B;MAACS,IAAI,EAAEE,MAAM,CAACf,KAAK,CAAE;MAACgB,MAAM,EAAC,QAAQ;MAACC,GAAG,EAAC,YAAY;MAAAR,QAAA,EAAEM,MAAM,CAACf,KAAK;IAAC;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;IACnJ,IAAIT,IAAI,KAAK,UAAU,IAAIA,IAAI,KAAK,UAAU,EAAE,oBAAQhF,OAAA;MAAGqF,SAAS,EAAC,qBAAqB;MAAAK,QAAA,EAAEM,MAAM,CAACf,KAAK;IAAC;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;IAC9G,oBAAQzF,OAAA;MAAA0F,QAAA,EAAMM,MAAM,CAACf,KAAK;IAAC;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EACpC;EAEA,SAASU,SAASA,CAAC;IAAEtC,CAAC;IAAEuC;EAAO,CAAC,EAAE;IAAA/F,EAAA;IAChC,MAAM,CAACgG,QAAQ,EAAEC,WAAW,CAAC,GAAGlH,QAAQ,CAAC,KAAK,CAAC;IAC/C,MAAMmH,YAAY,GAAG9F,OAAO,IAAK,CAAC,CAACF,IAAI,IAAIA,IAAI,CAACG,IAAI,KAAK,SAAS,IAAIO,QAAQ,IAAIuF,MAAM,CAACvF,QAAQ,CAAC,KAAKuF,MAAM,CAAC3C,CAAC,CAAC4C,eAAe,CAAE;IACjI,oBACEzG,OAAA;MAAKqF,SAAS,EAAC,yCAAyC;MAAAK,QAAA,gBACtD1F,OAAA;QAAKqF,SAAS,EAAC,kCAAkC;QAAAK,QAAA,gBAC/C1F,OAAA;UAAKqF,SAAS,EAAC,aAAa;UAAAK,QAAA,EAAE7B,CAAC,CAACZ,KAAK,IAAI;QAAG;UAAAqC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,EAClD,CAAChF,OAAO,IAAI8F,YAAY,kBACvBvG,OAAA;UAAKqF,SAAS,EAAC,YAAY;UAAAK,QAAA,gBACzB1F,OAAA;YAAQ0G,OAAO,EAAEA,CAAA,KAAIC,aAAa,CAAC;cAAEC,IAAI,EAAC,MAAM;cAAEC,KAAK,EAAEhD,CAAC;cAAEiD,GAAG,EAAEC,OAAO,CAACC,IAAI,CAACC,CAAC,IAAEA,CAAC,CAAC/F,EAAE,KAAG2C,CAAC,CAACqD,WAAW;YAAE,CAAC,CAAE;YAAC7B,SAAS,EAAC,oDAAoD;YAAAK,QAAA,EAAC;UAAI;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACtLhF,OAAO,iBAAIT,OAAA;YAAQ0G,OAAO,EAAEA,CAAA,KAAIS,cAAc,CAACtD,CAAC,CAAE;YAACwB,SAAS,EAAC,iDAAiD;YAAAK,QAAA,EAAC;UAAM;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5H,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACNzF,OAAA;QAAKqF,SAAS,EAAE,0BAA0BgB,QAAQ,GAAG,EAAE,GAAG,mCAAmC,EAAG;QAAAX,QAAA,GAC7FU,MAAM,CAACT,GAAG,CAAEyB,CAAC,IACXvD,CAAC,CAACwD,YAAY,IAAIxD,CAAC,CAACwD,YAAY,CAACD,CAAC,CAACE,GAAG,CAAC,IAAI,IAAI,gBAC9CtH,OAAA;UAAA0F,QAAA,EACI0B,CAAC,CAACpC,IAAI,KAAK,OAAO,IAAIoC,CAAC,CAACpC,IAAI,KAAK,QAAQ,IAAIoC,CAAC,CAACpC,IAAI,KAAK,SAAS,gBACjEhF,OAAA,CAAAE,SAAA;YAAAwF,QAAA,GACGM,MAAM,CAACoB,CAAC,CAAClC,KAAK,IAAI,EAAE,CAAC,CAACqC,IAAI,CAAC,CAAC,gBAC3BvH,OAAA;cAAKqF,SAAS,EAAC,wCAAwC;cAAAK,QAAA,EAAE0B,CAAC,CAAClC;YAAK;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,GACrE,IAAI,EACPV,gBAAgB,CAACqC,CAAC,CAACpC,IAAI,EAAEnB,CAAC,CAACwD,YAAY,CAACD,CAAC,CAACE,GAAG,CAAC,EAAEzD,CAAC,CAACwD,YAAY,CAAC,GAAGD,CAAC,CAACE,GAAG,QAAQ,CAAC,CAAC;UAAA,eAClF,CAAC,gBAEHtH,OAAA,CAAAE,SAAA;YAAAwF,QAAA,gBACE1F,OAAA;cAAKqF,SAAS,EAAC,wCAAwC;cAAAK,QAAA,EAAE0B,CAAC,CAAClC,KAAK,IAAIkC,CAAC,CAACE;YAAG;cAAAhC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,EAC/EV,gBAAgB,CAACqC,CAAC,CAACpC,IAAI,EAAEnB,CAAC,CAACwD,YAAY,CAACD,CAAC,CAACE,GAAG,CAAC,EAAEzD,CAAC,CAACwD,YAAY,CAAC,GAAGD,CAAC,CAACE,GAAG,QAAQ,CAAC,CAAC;UAAA,eAClF;QACH,GAbOF,CAAC,CAACE,GAAG;UAAAhC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAcV,CAAC,GACJ,IACL,CAAC,EACD,CAACY,QAAQ,iBACRrG,OAAA;UAAKqF,SAAS,EAAC;QAAsG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CACxH;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACNzF,OAAA;QAAKqF,SAAS,EAAC,uBAAuB;QAAAK,QAAA,eACpC1F,OAAA;UAAQgF,IAAI,EAAC,QAAQ;UAAC0B,OAAO,EAAEA,CAAA,KAAIJ,WAAW,CAACkB,CAAC,IAAE,CAACA,CAAC,CAAE;UAACnC,SAAS,EAAC,2CAA2C;UAAAK,QAAA,EAAEW,QAAQ,GAAG,WAAW,GAAG;QAAW;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAACpF,EAAA,CA3CQ8F,SAAS;EA6ClB,SAASsB,sBAAsBA,CAAC;IAAEX;EAAI,CAAC,EAAE;IAAA,IAAAY,gBAAA;IACvC,MAAMtB,MAAM,GAAGzC,KAAK,CAACC,OAAO,CAACkD,GAAG,aAAHA,GAAG,wBAAAY,gBAAA,GAAHZ,GAAG,CAAEa,WAAW,cAAAD,gBAAA,uBAAhBA,gBAAA,CAAkBtB,MAAM,CAAC,GAAGU,GAAG,CAACa,WAAW,CAACvB,MAAM,GAAG,EAAE;IACpF,MAAMwB,OAAO,GAAGC,YAAY,CAACf,GAAG,CAAC5F,EAAE,CAAC,IAAI,EAAE;IAC1C,IAAI,CAACT,OAAO,IAAImH,OAAO,CAACE,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI;IACjD,oBACE9H,OAAA;MAASkB,EAAE,EAAE,UAAU4F,GAAG,CAACiB,IAAI,EAAG;MAAC1C,SAAS,EAAC,cAAc;MAAAK,QAAA,gBACzD1F,OAAA;QAAKqF,SAAS,EAAC,mCAAmC;QAAAK,QAAA,gBAChD1F,OAAA;UAAIqF,SAAS,EAAC,4BAA4B;UAAAK,QAAA,EAAEoB,GAAG,CAAC7D;QAAK;UAAAqC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EAC1DhF,OAAO,iBACNT,OAAA;UAAKqF,SAAS,EAAC,yBAAyB;UAAAK,QAAA,gBACtC1F,OAAA;YAAQ0G,OAAO,EAAEA,CAAA,KAAIC,aAAa,CAAC;cAAEC,IAAI,EAAC,KAAK;cAAEE;YAAI,CAAC,CAAE;YAACzB,SAAS,EAAC,6CAA6C;YAAAK,QAAA,EAAC;UAAG;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC7HzF,OAAA;YAAQ0G,OAAO,EAAEA,CAAA,KAAIsB,WAAW,CAAC;cAAEpB,IAAI,EAAC,MAAM;cAAEE;YAAI,CAAC,CAAE;YAACzB,SAAS,EAAC,6CAA6C;YAAAK,QAAA,EAAC;UAAI;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC7HzF,OAAA;YAAQ0G,OAAO,EAAEA,CAAA,KAAIuB,YAAY,CAACnB,GAAG,CAAE;YAACzB,SAAS,EAAC,0DAA0D;YAAAK,QAAA,EAAC;UAAM;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EACLqB,GAAG,CAAC3D,WAAW,iBAAInD,OAAA;QAAKqF,SAAS,EAAC,4BAA4B;QAAAK,QAAA,EAAEoB,GAAG,CAAC3D;MAAW;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACvFzF,OAAA;QAAKqF,SAAS,EAAC,0CAA0C;QAAAK,QAAA,EACtDkC,OAAO,CAACjC,GAAG,CAAE9B,CAAC,iBACb7D,OAAA,CAACmG,SAAS;UAAYtC,CAAC,EAAEA,CAAE;UAACuC,MAAM,EAAEA;QAAO,GAA3BvC,CAAC,CAAC3C,EAAE;UAAAoE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAyB,CAC9C;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EACLhF,OAAO,IAAImH,OAAO,CAACE,MAAM,KAAK,CAAC,iBAAI9H,OAAA;QAAKqF,SAAS,EAAC,uBAAuB;QAAAK,QAAA,EAAC;MAAe;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzF,CAAC;EAEd;EAEAtG,SAAS,CAAC,MAAM;IAAEiE,WAAW,CAAC,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC;EACvCjE,SAAS,CAAC,MAAM;IAAE+I,aAAa,CAAC,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC;;EAEzC;EACA,MAAM,CAACnB,OAAO,EAAEoB,UAAU,CAAC,GAAG/I,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACgJ,UAAU,EAAEC,aAAa,CAAC,GAAGjJ,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACkJ,QAAQ,EAAEC,WAAW,CAAC,GAAGnJ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACoJ,QAAQ,EAAER,WAAW,CAAC,GAAG5I,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAChD,MAAM,CAACqJ,SAAS,EAAER,YAAY,CAAC,GAAG7I,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACsJ,eAAe,EAAEC,kBAAkB,CAAC,GAAGvJ,QAAQ,CAAC;IAAEwJ,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE;EAAG,CAAC,CAAC;EAChF,MAAM,CAACC,UAAU,EAAEnC,aAAa,CAAC,GAAGvH,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EACpD,MAAM,CAAC2J,WAAW,EAAE5B,cAAc,CAAC,GAAG/H,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EACtD,MAAM,CAAC4J,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG7J,QAAQ,CAAC;IAAEwJ,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE;EAAG,CAAC,CAAC;EACpF,MAAM,CAAChB,YAAY,EAAEqB,eAAe,CAAC,GAAG9J,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACtD;EACA,MAAM,CAAC+J,MAAM,EAAEC,SAAS,CAAC,GAAGhK,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACiK,SAAS,EAAEC,YAAY,CAAC,GAAGlK,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACmK,OAAO,EAAEC,UAAU,CAAC,GAAGpK,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACqK,SAAS,EAAEC,YAAY,CAAC,GAAGtK,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACuK,UAAU,EAAEC,aAAa,CAAC,GAAGxK,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EACpD,MAAM,CAACyK,QAAQ,EAAEC,WAAW,CAAC,GAAG1K,QAAQ,CAAC,IAAI,CAAC;EAE9C,eAAe2K,WAAWA,CAAA,EAAG;IAC3B1B,aAAa,CAAC,IAAI,CAAC;IAAEE,WAAW,CAAC,EAAE,CAAC;IACpC,IAAI;MACF,MAAMlF,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAG7D,QAAQ,iBAAiB,CAAC;MACnD,IAAI,CAAC4D,CAAC,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;MACvD,MAAMC,IAAI,GAAG,MAAMJ,CAAC,CAACK,IAAI,CAAC,CAAC;MAC3ByE,UAAU,CAACxE,KAAK,CAACC,OAAO,CAACH,IAAI,CAAC,GAAGA,IAAI,GAAG,EAAE,CAAC;IAC7C,CAAC,CAAC,OAAOI,CAAC,EAAE;MAAE0E,WAAW,CAAC1E,CAAC,CAACX,OAAO,IAAI,OAAO,CAAC;IAAE,CAAC,SAC1C;MAAEmF,aAAa,CAAC,KAAK,CAAC;IAAE;EAClC;EACA,eAAe2B,WAAWA,CAACC,KAAK,EAAE;IAChC,IAAI;MACF,MAAM5G,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAG7D,QAAQ,mBAAmBwK,KAAK,UAAU,CAAC;MACpE,IAAI,CAAC5G,CAAC,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;MACpD,MAAMC,IAAI,GAAG,MAAMJ,CAAC,CAACK,IAAI,CAAC,CAAC;MAC3BwF,eAAe,CAACgB,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE,CAACD,KAAK,GAAGtG,KAAK,CAACC,OAAO,CAACH,IAAI,CAAC,GAAGA,IAAI,GAAG;MAAG,CAAC,CAAC,CAAC;IAClF,CAAC,CAAC,MAAM,CAAC;EACX;EACA,eAAeY,sBAAsBA,CAAA,EAAG;IACtCiF,YAAY,CAAC,IAAI,CAAC;IAAEE,UAAU,CAAC,EAAE,CAAC;IAClC,IAAI;MACF,MAAMnG,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAG7D,QAAQ,0BAA0B,CAAC;MAC5D,IAAI,CAAC4D,CAAC,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,oCAAoC,CAAC;MAChE,MAAMC,IAAI,GAAG,MAAMJ,CAAC,CAACK,IAAI,CAAC,CAAC;MAC3B0F,SAAS,CAACzF,KAAK,CAACC,OAAO,CAACH,IAAI,CAAC,GAAGA,IAAI,GAAG,EAAE,CAAC;IAC5C,CAAC,CAAC,OAAOI,CAAC,EAAE;MAAE2F,UAAU,CAAC3F,CAAC,CAACX,OAAO,IAAI,OAAO,CAAC;IAAE,CAAC,SACzC;MAAEoG,YAAY,CAAC,KAAK,CAAC;IAAE;EACjC;EACAnK,SAAS,CAAC,MAAM;IACd4K,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EACN5K,SAAS,CAAC,MAAM;IACd,CAAC4H,OAAO,IAAI,EAAE,EAAEoD,OAAO,CAAClD,CAAC,IAAI;MAAE+C,WAAW,CAAC/C,CAAC,CAAC/F,EAAE,CAAC;IAAE,CAAC,CAAC;EACtD,CAAC,EAAE,CAAC6F,OAAO,CAAC,CAAC;EACb5H,SAAS,CAAC,MAAM;IAAEkF,sBAAsB,CAAC,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC;EAElDlF,SAAS,CAAC,MAAM;IAAE,IAAIsJ,SAAS,EAAEE,kBAAkB,CAAC;MAAEC,IAAI,EAAE,IAAI;MAAEC,IAAI,EAAE;IAAG,CAAC,CAAC;EAAE,CAAC,EAAE,CAACJ,SAAS,CAAC,CAAC;EAC9FtJ,SAAS,CAAC,MAAM;IAAE,IAAI4J,WAAW,EAAEE,oBAAoB,CAAC;MAAEL,IAAI,EAAE,IAAI;MAAEC,IAAI,EAAE;IAAG,CAAC,CAAC;EAAE,CAAC,EAAE,CAACE,WAAW,CAAC,CAAC;EAEpG,MAAMqB,OAAO,GAAIC,GAAG,IAAK5J,OAAO,IAAK,CAAC,CAACF,IAAI,IAAIA,IAAI,CAACG,IAAI,KAAK,SAAS,IAAIC,UAAU,IAAK6F,MAAM,CAAC7F,UAAU,CAAC,KAAK6F,MAAM,CAAC6D,GAAG,CAACnJ,EAAE,CAAG;EAEhI,SAASoJ,YAAYA,CAACD,GAAG,EAAE;IACzBpI,eAAe,CAACoI,GAAG,CAAC;EACtB;EAEA,eAAeE,aAAaA,CAAA,EAAG;IAC7B,IAAI,CAACvI,YAAY,EAAE;IACnB,MAAMsB,KAAK,CAAC,GAAG7D,QAAQ,YAAYuC,YAAY,CAACd,EAAE,EAAE,EAAE;MAAE8C,MAAM,EAAE,QAAQ;MAAEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAU1D,KAAK;MAAG;IAAE,CAAC,CAAC;IAC1HyB,eAAe,CAAC,IAAI,CAAC;IACrB,MAAMmB,WAAW,CAAC,CAAC;EACrB;EAEA,eAAeoH,YAAYA,CAACzG,EAAE,EAAE;IAC9B,MAAMV,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAG7D,QAAQ,UAAU,EAAE;MAAEuE,MAAM,EAAE,MAAM;MAAEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAU1D,KAAK;MAAG,CAAC;MAAE2D,IAAI,EAAEJ;IAAG,CAAC,CAAC;IACzH,IAAI,CAACV,CAAC,CAACE,EAAE,EAAE;MACT,IAAIF,CAAC,CAACoH,MAAM,KAAK,GAAG,EAAE;QACpB,IAAIC,GAAG,GAAG,0CAA0C;QACpD,IAAI;UACF,MAAMC,IAAI,GAAG,MAAMtH,CAAC,CAACK,IAAI,CAAC,CAAC;UAC3B,IAAIiH,IAAI,IAAIA,IAAI,CAACjJ,KAAK,EAAEgJ,GAAG,GAAGC,IAAI,CAACjJ,KAAK;QAC1C,CAAC,CAAC,MAAM,CAAC;QACT,MAAM,IAAI8B,KAAK,CAACkH,GAAG,CAAC;MACtB;MACA,MAAM,IAAIlH,KAAK,CAAC,uBAAuB,CAAC;IAC1C;IACA,MAAMJ,WAAW,CAAC,CAAC;EACrB;EAEA,eAAewH,YAAYA,CAAC1J,EAAE,EAAE6C,EAAE,EAAE;IAClC,MAAMT,KAAK,CAAC,GAAG7D,QAAQ,YAAYyB,EAAE,EAAE,EAAE;MAAE8C,MAAM,EAAE,KAAK;MAAEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAU1D,KAAK;MAAG,CAAC;MAAE2D,IAAI,EAAEJ;IAAG,CAAC,CAAC;IACpH,MAAMX,WAAW,CAAC,CAAC;EACrB;EAEA,eAAe8E,aAAaA,CAAA,EAAG;IAC7B7F,cAAc,CAAC,IAAI,CAAC;IAAEE,YAAY,CAAC,EAAE,CAAC;IACtC,IAAI;MACF,MAAMc,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAG7D,QAAQ,YAAY,CAAC;MAC9C,IAAI,CAAC4D,CAAC,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;MACtD,MAAMC,IAAI,GAAG,MAAMJ,CAAC,CAACK,IAAI,CAAC,CAAC;MAC3BvB,YAAY,CAACwB,KAAK,CAACC,OAAO,CAACH,IAAI,CAAC,GAAGA,IAAI,GAAG,EAAE,CAAC;IAC/C,CAAC,CAAC,OAAMI,CAAC,EAAE;MAAEtB,YAAY,CAACsB,CAAC,CAACX,OAAO,IAAI,OAAO,CAAC;IAAE,CAAC,SAC1C;MAAEb,cAAc,CAAC,KAAK,CAAC;IAAE;EACnC;EAEA,MAAMwI,WAAW,GAAIC,CAAC,IAAKrK,OAAO,IAAK,CAAC,CAACF,IAAI,IAAIA,IAAI,CAACG,IAAI,KAAK,kBAAkB,IAAII,YAAY,IAAK0F,MAAM,CAAC1F,YAAY,CAAC,KAAK0F,MAAM,CAACsE,CAAC,CAAC5J,EAAE,CAAG;EAE7I,eAAe6J,gBAAgBA,CAACD,CAAC,EAAE;IACjC,MAAMzH,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAG7D,QAAQ,cAAcqL,CAAC,CAAC5J,EAAE,EAAE,CAAC;IACtD,IAAImC,CAAC,CAACE,EAAE,EAAEZ,eAAe,CAAC,MAAMU,CAAC,CAACK,IAAI,CAAC,CAAC,CAAC;EAC3C;EAEA,eAAesH,iBAAiBA,CAAA,EAAG;IACjC,IAAI,CAACpI,UAAU,EAAE;IACjB,MAAMU,KAAK,CAAC,GAAG7D,QAAQ,cAAcmD,UAAU,CAAC1B,EAAE,EAAE,EAAE;MAAE8C,MAAM,EAAE,QAAQ;MAAEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAU1D,KAAK;MAAG;IAAE,CAAC,CAAC;IAC1HqC,aAAa,CAAC,IAAI,CAAC;IACnB,MAAMqF,aAAa,CAAC,CAAC;EACvB;EAEA,eAAe+C,gBAAgBA,CAACC,MAAM,EAAEC,SAAS,EAAE;IACjD,MAAM9H,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAG7D,QAAQ,YAAY,EAAE;MAAEuE,MAAM,EAAE,MAAM;MAAEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAU1D,KAAK;MAAG,CAAC;MAAE2D,IAAI,EAAE+G;IAAO,CAAC,CAAC;IAC/H,IAAI,CAAC7H,CAAC,CAACE,EAAE,EAAE;MACT,IAAIF,CAAC,CAACoH,MAAM,KAAK,GAAG,EAAE;QACpB,IAAIC,GAAG,GAAG,2CAA2C;QACrD,IAAI;UACF,MAAMC,IAAI,GAAG,MAAMtH,CAAC,CAACK,IAAI,CAAC,CAAC;UAC3B,IAAIiH,IAAI,IAAIA,IAAI,CAACjJ,KAAK,EAAEgJ,GAAG,GAAGC,IAAI,CAACjJ,KAAK;QAC1C,CAAC,CAAC,MAAM,CAAC;QACT,MAAM,IAAI8B,KAAK,CAACkH,GAAG,CAAC;MACtB;MACA,MAAM,IAAIlH,KAAK,CAAC,yBAAyB,CAAC;IAC5C;IACA,MAAM;MAAEtC;IAAG,CAAC,GAAG,MAAMmC,CAAC,CAACK,IAAI,CAAC,CAAC;IAC7B,IAAIC,KAAK,CAACC,OAAO,CAACuH,SAAS,CAAC,IAAIA,SAAS,CAACrD,MAAM,EAAE;MAChD,MAAM/D,EAAE,GAAG,IAAIqH,QAAQ,CAAC,CAAC;MACzBrH,EAAE,CAACsH,MAAM,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACJ,SAAS,CAACxF,GAAG,CAAC,CAAC;QAAE2B,GAAG;QAAEkE,IAAI;QAAEC,QAAQ;QAAEC,gBAAgB;QAAEC;MAAW,CAAC,MAAM;QAAErE,GAAG;QAAEkE,IAAI;QAAEC,QAAQ;QAAEC,gBAAgB;QAAEC;MAAW,CAAC,CAAC,CAAC,CAAC,CAAC;MACzKR,SAAS,CAAChB,OAAO,CAAEyB,CAAC,IAAK;QAAE,IAAIA,CAAC,CAACC,SAAS,EAAE9H,EAAE,CAACsH,MAAM,CAAC,kBAAkBO,CAAC,CAACtE,GAAG,EAAE,EAAEsE,CAAC,CAACC,SAAS,CAAC;MAAE,CAAC,CAAC;MACjG,MAAMvI,KAAK,CAAC,GAAG7D,QAAQ,cAAcyB,EAAE,YAAY,EAAE;QAAE8C,MAAM,EAAE,KAAK;QAAEC,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAU1D,KAAK;QAAG,CAAC;QAAE2D,IAAI,EAAEJ;MAAG,CAAC,CAAC;IAClI;IACA,MAAMmE,aAAa,CAAC,CAAC;EACvB;EAEA,eAAe4D,gBAAgBA,CAAC5K,EAAE,EAAEgK,MAAM,EAAEC,SAAS,EAAE;IACrD,MAAM7H,KAAK,CAAC,GAAG7D,QAAQ,cAAcyB,EAAE,EAAE,EAAE;MAAE8C,MAAM,EAAE,KAAK;MAAEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAU1D,KAAK;MAAG,CAAC;MAAE2D,IAAI,EAAE+G;IAAO,CAAC,CAAC;IAC1H,MAAMnH,EAAE,GAAG,IAAIqH,QAAQ,CAAC,CAAC;IACzBrH,EAAE,CAACsH,MAAM,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAAC,CAACJ,SAAS,IAAI,EAAE,EAAExF,GAAG,CAAC,CAAC;MAAE2B,GAAG;MAAEkE,IAAI;MAAEC,QAAQ;MAAEC,gBAAgB;MAAEC;IAAW,CAAC,MAAM;MAAErE,GAAG;MAAEkE,IAAI;MAAEC,QAAQ;MAAEC,gBAAgB;MAAEC;IAAW,CAAC,CAAC,CAAC,CAAC,CAAC;IACjL,CAACR,SAAS,IAAI,EAAE,EAAEhB,OAAO,CAAEyB,CAAC,IAAK;MAAE,IAAIA,CAAC,CAACC,SAAS,EAAE9H,EAAE,CAACsH,MAAM,CAAC,kBAAkBO,CAAC,CAACtE,GAAG,EAAE,EAAEsE,CAAC,CAACC,SAAS,CAAC;IAAE,CAAC,CAAC;IACzG,MAAMvI,KAAK,CAAC,GAAG7D,QAAQ,cAAcyB,EAAE,YAAY,EAAE;MAAE8C,MAAM,EAAE,KAAK;MAAEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAU1D,KAAK;MAAG,CAAC;MAAE2D,IAAI,EAAEJ;IAAG,CAAC,CAAC;IAChI,MAAMmE,aAAa,CAAC,CAAC;EACvB;EACA,oBACElI,OAAA;IAAKqF,SAAS,EAAC,wDAAwD;IAAAK,QAAA,gBACrE1F,OAAA;MAAKkB,EAAE,EAAC;IAAS;MAAAoE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACpBzF,OAAA;MAASkB,EAAE,EAAC,WAAW;MAACmE,SAAS,EAAC,cAAc;MAAAK,QAAA,gBAC9C1F,OAAA;QAAKqF,SAAS,EAAC,mCAAmC;QAAAK,QAAA,gBAChD1F,OAAA;UAAIqF,SAAS,EAAC,4BAA4B;UAAAK,QAAA,EAAC;QAAmB;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAClEhF,OAAO,iBACNT,OAAA;UAAQ0G,OAAO,EAAEA,CAAA,KAAIgD,YAAY,CAAC,IAAI,CAAE;UAACrE,SAAS,EAAC,6CAA6C;UAAAK,QAAA,EAAC;QAAY;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACtH;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EACL4D,SAAS,iBAAIrJ,OAAA;QAAKqF,SAAS,EAAC,uBAAuB;QAAAK,QAAA,EAAC;MAAoB;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAC9E8D,OAAO,iBAAIvJ,OAAA;QAAKqF,SAAS,EAAC,sBAAsB;QAAAK,QAAA,EAAE6D;MAAO;QAAAjE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACjEzF,OAAA;QAAKqF,SAAS,EAAC,0CAA0C;QAAAK,QAAA,GACtDyD,MAAM,CAACxD,GAAG,CAAEiG,CAAC,iBACZ5L,OAAA;UAAgBqF,SAAS,EAAC,wDAAwD;UAAAK,QAAA,gBAChF1F,OAAA;YAAKoF,GAAG,EAAEwG,CAAC,CAACG,SAAS,GAAG,GAAGrM,UAAU,GAAGkM,CAAC,CAACG,SAAS,EAAE,GAAG,8BAA8BC,kBAAkB,CAACJ,CAAC,CAACH,QAAQ,IAAIG,CAAC,CAACJ,IAAI,IAAI,UAAU,CAAC,EAAG;YAACrG,GAAG,EAAC,EAAE;YAACE,SAAS,EAAC;UAAqC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACzMzF,OAAA;YAAKqF,SAAS,EAAC,QAAQ;YAAAK,QAAA,gBACrB1F,OAAA;cAAKqF,SAAS,EAAC,aAAa;cAAAK,QAAA,EAAEkG,CAAC,CAACJ,IAAI,IAAI;YAAG;cAAAlG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAClDzF,OAAA;cAAKqF,SAAS,EAAC,uBAAuB;cAAAK,QAAA,EAAEkG,CAAC,CAACH;YAAQ;cAAAnG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtD,CAAC,EACLhF,OAAO,iBACNT,OAAA;YAAKqF,SAAS,EAAC,yBAAyB;YAAAK,QAAA,gBACtC1F,OAAA;cAAQ0G,OAAO,EAAEA,CAAA,KAAIkD,aAAa,CAACgC,CAAC,CAAE;cAAC3I,KAAK,EAAC,MAAM;cAACoC,SAAS,EAAC,oDAAoD;cAAAK,QAAA,EAAC;YAAI;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAChIzF,OAAA;cAAQ0G,OAAO,EAAEA,CAAA,KAAIoD,WAAW,CAAC8B,CAAC,CAAE;cAAC3I,KAAK,EAAC,QAAQ;cAACoC,SAAS,EAAC,iDAAiD;cAAAK,QAAA,EAAC;YAAM;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5H,CACN;QAAA,GAXOmG,CAAC,CAAC1K,EAAE;UAAAoE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAYT,CACN,CAAC,EACD,CAAC4D,SAAS,KAAK,CAACF,MAAM,IAAIA,MAAM,CAACrB,MAAM,KAAK,CAAC,CAAC,iBAC7C9H,OAAA;UAAKqF,SAAS,EAAC,uBAAuB;UAAAK,QAAA,EAAC;QAAuB;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CACpE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAGVzF,OAAA;MAASkB,EAAE,EAAC,oBAAoB;MAAAwE,QAAA,GAC7BjF,OAAO,iBACNT,OAAA;QAAKqF,SAAS,EAAC,mCAAmC;QAAAK,QAAA,gBAChD1F,OAAA;UAAIqF,SAAS,EAAC,4BAA4B;UAAAK,QAAA,EAAC;QAA2B;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3EzF,OAAA;UAAQ0G,OAAO,EAAEA,CAAA,KAAIsB,WAAW,CAAC;YAAEpB,IAAI,EAAC;UAAM,CAAC,CAAE;UAACvB,SAAS,EAAC,6CAA6C;UAAAK,QAAA,EAAC;QAAY;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5H,CACN,EACA2C,UAAU,iBAAIpI,OAAA;QAAKqF,SAAS,EAAC,uBAAuB;QAAAK,QAAA,EAAC;MAAqB;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAChF6C,QAAQ,iBAAItI,OAAA;QAAKqF,SAAS,EAAC,sBAAsB;QAAAK,QAAA,EAAE4C;MAAQ;QAAAhD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACnEzF,OAAA;QAAKqF,SAAS,EAAC,WAAW;QAAAK,QAAA,GACvB,CAACjF,OAAO,GAAGsG,OAAO,GAAG,CAACA,OAAO,IAAI,EAAE,EAAEkF,MAAM,CAAChF,CAAC,IAAI,CAACY,YAAY,CAACZ,CAAC,CAAC/F,EAAE,CAAC,IAAI,EAAE,EAAE4G,MAAM,GAAG,CAAC,CAAC,EAAEnC,GAAG,CAAC,CAACsB,CAAC,EAAEiF,GAAG,kBACnGlM,OAAA,CAACd,KAAK,CAACe,QAAQ;UAAAyF,QAAA,GACZwG,GAAG,GAAG,CAAC,iBAAIlM,OAAA;YAAKqF,SAAS,EAAC;UAA+B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7DzF,OAAA,CAACyH,sBAAsB;YAACX,GAAG,EAAEG;UAAE;YAAA3B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA,GAFfwB,CAAC,CAAC/F,EAAE;UAAAoE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAGT,CACjB,CAAC,EACDhF,OAAO,KAAK,CAACsG,OAAO,IAAIA,OAAO,CAACe,MAAM,KAAK,CAAC,CAAC,iBAAI9H,OAAA;UAAKqF,SAAS,EAAC,uBAAuB;UAAAK,QAAA,EAAC;QAAyB;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAGVzF,OAAA,CAACL,KAAK;MAACqD,IAAI,EAAE,CAAC,CAACwF,QAAS;MAAC2D,OAAO,EAAEA,CAAA,KAAInE,WAAW,CAAC,IAAI,CAAE;MAAC/E,KAAK,EAAE,CAAAuF,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAE5B,IAAI,MAAK,MAAM,GAAG,eAAe,GAAG,cAAe;MAAAlB,QAAA,EAC1H8C,QAAQ,iBACPxI,OAAA,CAACH,YAAY;QACXuM,QAAQ,EAAE5D,QAAQ,CAAC5B,IAAI,KAAK,MAAM,GAAG4B,QAAQ,CAAC1B,GAAG,GAAGuF,SAAU;QAC9DF,OAAO,EAAEA,CAAA,KAAInE,WAAW,CAAC,IAAI,CAAE;QAC/BsE,OAAO,EAAEA,CAAA,KAAI;UAAEtE,WAAW,CAAC,IAAI,CAAC;UAAE+B,WAAW,CAAC,CAAC;QAAE;MAAE;QAAAzE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpD;IACF;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,eAGRzF,OAAA,CAACL,KAAK;MAACqD,IAAI,EAAE,CAAC,CAACyG,SAAU;MAAC0C,OAAO,EAAEA,CAAA,KAAIzC,YAAY,CAAC,KAAK,CAAE;MAACzG,KAAK,EAAC,wBAAwB;MAAAyC,QAAA,EACvF+D,SAAS,iBACRzJ,OAAA,CAACuM,qBAAqB;QACpBJ,OAAO,EAAEA,CAAA,KAAIzC,YAAY,CAAC,KAAK,CAAE;QACjC8C,QAAQ,EAAE,MAAOzI,EAAE,IAAG;UAAE,MAAMD,oBAAoB,CAACC,EAAE,CAAC;UAAE2F,YAAY,CAAC,KAAK,CAAC;QAAE,CAAE;QAC/E+C,cAAc,EAAC,QAAQ;QACvBC,OAAO,EAAGhC,GAAG,IAAG3H,cAAc,CAAC;UAAEC,IAAI,EAAE,IAAI;UAAEC,KAAK,EAAE,gBAAgB;UAAEC,OAAO,EAAEwH;QAAI,CAAC;MAAE;QAAApF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvF;IACF;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,eAGRzF,OAAA,CAACL,KAAK;MAACqD,IAAI,EAAE,CAAC,CAAC2G,UAAW;MAACwC,OAAO,EAAEA,CAAA,KAAIvC,aAAa,CAAC,IAAI,CAAE;MAAC3G,KAAK,EAAC,yBAAyB;MAAAyC,QAAA,EACzFiE,UAAU,iBACT3J,OAAA,CAACuM,qBAAqB;QACpBI,QAAQ,EAAEhD,UAAW;QACrBwC,OAAO,EAAEA,CAAA,KAAIvC,aAAa,CAAC,IAAI,CAAE;QACjC4C,QAAQ,EAAE,MAAOzI,EAAE,IAAG;UAAE,MAAMO,oBAAoB,CAACqF,UAAU,CAACzI,EAAE,EAAE6C,EAAE,CAAC;UAAE6F,aAAa,CAAC,IAAI,CAAC;QAAE,CAAE;QAC9F6C,cAAc,EAAC,MAAM;QACrBC,OAAO,EAAGhC,GAAG,IAAG3H,cAAc,CAAC;UAAEC,IAAI,EAAE,IAAI;UAAEC,KAAK,EAAE,gBAAgB;UAAEC,OAAO,EAAEwH;QAAI,CAAC;MAAE;QAAApF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvF;IACF;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,eAGRzF,OAAA,CAACL,KAAK;MAACqD,IAAI,EAAE,CAAC,CAAC6G,QAAS;MAACsC,OAAO,EAAEA,CAAA,KAAIrC,WAAW,CAAC,IAAI,CAAE;MAAC7G,KAAK,EAAC,2BAA2B;MAAAyC,QAAA,eACxF1F,OAAA;QAAKqF,SAAS,EAAC,WAAW;QAAAK,QAAA,gBACxB1F,OAAA;UAAGqF,SAAS,EAAC,uBAAuB;UAAAK,QAAA,GAAC,SAAO,eAAA1F,OAAA;YAAMqF,SAAS,EAAC,aAAa;YAAAK,QAAA,EAAEmE,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAE2B;UAAI;YAAAlG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,KAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACtGzF,OAAA;UAAKqF,SAAS,EAAC,wBAAwB;UAAAK,QAAA,gBACrC1F,OAAA;YAAQgF,IAAI,EAAC,QAAQ;YAAC0B,OAAO,EAAEA,CAAA,KAAIoD,WAAW,CAAC,IAAI,CAAE;YAACzE,SAAS,EAAC,6BAA6B;YAAAK,QAAA,EAAC;UAAM;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC7GzF,OAAA;YAAQgF,IAAI,EAAC,QAAQ;YAAC0B,OAAO,EAAE,MAAAA,CAAA,KAAU;cAAE,IAAI,CAACmD,QAAQ,EAAE;cAAQ,MAAMvG,KAAK,CAAC,GAAG7D,QAAQ,4BAA4BoK,QAAQ,CAAC3I,EAAE,EAAE,EAAE;gBAAE8C,MAAM,EAAE,QAAQ;gBAAEC,OAAO,EAAE;kBAAEC,aAAa,EAAE,UAAU1D,KAAK;gBAAG;cAAE,CAAC,CAAC;cAAEsJ,WAAW,CAAC,IAAI,CAAC;cAAE,MAAMzF,sBAAsB,CAAC,CAAC;YAAE,CAAE;YAACgB,SAAS,EAAC,6DAA6D;YAAAK,QAAA,EAAC;UAAM;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAGRzF,OAAA,CAACL,KAAK;MAACqD,IAAI,EAAE,CAAC,CAACyF,SAAU;MAAC0D,OAAO,EAAEA,CAAA,KAAIlE,YAAY,CAAC,IAAI,CAAE;MAAChF,KAAK,EAAC,iBAAiB;MAAAyC,QAAA,eAChF1F,OAAA;QAAKqF,SAAS,EAAC,WAAW;QAAAK,QAAA,gBACxB1F,OAAA;UAAGqF,SAAS,EAAC,uBAAuB;UAAAK,QAAA,GAAC,SAAO,eAAA1F,OAAA;YAAMqF,SAAS,EAAC,aAAa;YAAAK,QAAA,EAAE+C,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAExF;UAAK;YAAAqC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,uCAAmC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,EACzIiD,eAAe,CAACE,IAAI,gBACnB5I,OAAA;UAAKqF,SAAS,EAAE,gCAAgCqD,eAAe,CAACE,IAAI,KAAG,SAAS,GAAG,4BAA4B,GAAG,wBAAwB,EAAG;UAAAlD,QAAA,EAAEgD,eAAe,CAACG;QAAI;UAAAvD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,gBAE1KzF,OAAA;UAAKqF,SAAS,EAAC,wBAAwB;UAAAK,QAAA,gBACrC1F,OAAA;YAAQgF,IAAI,EAAC,QAAQ;YAAC0B,OAAO,EAAEA,CAAA,KAAIuB,YAAY,CAAC,IAAI,CAAE;YAAC5C,SAAS,EAAC,6BAA6B;YAAAK,QAAA,EAAC;UAAM;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC9GzF,OAAA;YACEgF,IAAI,EAAC,QAAQ;YACb0B,OAAO,EAAE,MAAAA,CAAA,KAAU;cACjB,IAAI;gBACF,IAAI,CAAC+B,SAAS,EAAE;gBAChB,MAAMpF,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAG7D,QAAQ,mBAAmBgJ,SAAS,CAACvH,EAAE,EAAE,EAAE;kBAAE8C,MAAM,EAAE,QAAQ;kBAAEC,OAAO,EAAE;oBAAEC,aAAa,EAAE,UAAU1D,KAAK;kBAAG;gBAAC,CAAC,CAAC;gBACvI,IAAI,CAAC6C,CAAC,CAACE,EAAE,EAAE;kBAAE,MAAMM,CAAC,GAAG,MAAMR,CAAC,CAACK,IAAI,CAAC,CAAC,CAACU,KAAK,CAAC,OAAK,CAAC,CAAC,CAAC,CAAC;kBAAE,MAAM,IAAIZ,KAAK,CAACK,CAAC,CAACnC,KAAK,IAAI,kBAAkB,CAAC;gBAAE;gBACvGiH,kBAAkB,CAAC;kBAAEC,IAAI,EAAE,SAAS;kBAAEC,IAAI,EAAE;gBAAwB,CAAC,CAAC;gBACtE+D,UAAU,CAAC,YAAU;kBAAEjE,kBAAkB,CAAC;oBAAEC,IAAI,EAAE,IAAI;oBAAEC,IAAI,EAAE;kBAAG,CAAC,CAAC;kBAAEZ,YAAY,CAAC,IAAI,CAAC;kBAAE,MAAM8B,WAAW,CAAC,CAAC;gBAAE,CAAC,EAAE,IAAI,CAAC;cACxH,CAAC,CAAC,OAAO8C,GAAG,EAAE;gBACZlE,kBAAkB,CAAC;kBAAEC,IAAI,EAAE,OAAO;kBAAEC,IAAI,EAAEgE,GAAG,CAAC3J,OAAO,IAAI;gBAAqB,CAAC,CAAC;gBAChF0J,UAAU,CAAC,MAAIjE,kBAAkB,CAAC;kBAAEC,IAAI,EAAE,IAAI;kBAAEC,IAAI,EAAE;gBAAG,CAAC,CAAC,EAAE,IAAI,CAAC;cACpE;YACF,CAAE;YACFxD,SAAS,EAAC,6DAA6D;YAAAK,QAAA,EACxE;UAAM;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAGRzF,OAAA,CAACL,KAAK;MAACqD,IAAI,EAAE,CAAC,CAAC8F,UAAW;MAACqD,OAAO,EAAEA,CAAA,KAAIxF,aAAa,CAAC,IAAI,CAAE;MAAC1D,KAAK,EAAE,CAAA6F,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAElC,IAAI,MAAK,MAAM,GAAG,YAAY,GAAG,WAAY;MAAAlB,QAAA,EAC1HoD,UAAU,iBACT9I,OAAA,CAACF,SAAS;QACRsM,QAAQ,EAAEtD,UAAU,CAAChC,GAAG,IAAIC,OAAO,CAACC,IAAI,CAACC,CAAC;UAAA,IAAA6F,iBAAA;UAAA,OAAE7F,CAAC,CAAC/F,EAAE,OAAA4L,iBAAA,GAAMhE,UAAU,CAACjC,KAAK,cAAAiG,iBAAA,uBAAhBA,iBAAA,CAAkB5F,WAAW,CAAC;QAAA,EAAE;QACtFL,KAAK,EAAEiC,UAAU,CAAClC,IAAI,KAAK,MAAM,GAAGkC,UAAU,CAACjC,KAAK,GAAGwF,SAAU;QACjEF,OAAO,EAAEA,CAAA,KAAIxF,aAAa,CAAC,IAAI,CAAE;QACjC2F,OAAO,EAAEA,CAAA,KAAI;UAAA,IAAAS,eAAA,EAAAC,kBAAA;UAAErG,aAAa,CAAC,IAAI,CAAC;UAAE,MAAMsG,GAAG,GAAG,EAAAF,eAAA,GAACjE,UAAU,CAAChC,GAAG,cAAAiG,eAAA,uBAAdA,eAAA,CAAgB7L,EAAE,OAAA8L,kBAAA,GAAMlE,UAAU,CAACjC,KAAK,cAAAmG,kBAAA,uBAAhBA,kBAAA,CAAkB9F,WAAW,CAAC;UAAE,IAAI+F,GAAG,EAAEjD,WAAW,CAACiD,GAAG,CAAC;QAAE;MAAE;QAAA3H,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvI;IACF;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,eAGRzF,OAAA,CAACL,KAAK;MAACqD,IAAI,EAAE,CAAC,CAAC+F,WAAY;MAACoD,OAAO,EAAEA,CAAA,KAAIhF,cAAc,CAAC,IAAI,CAAE;MAAClE,KAAK,EAAC,cAAc;MAAAyC,QAAA,eACjF1F,OAAA;QAAKqF,SAAS,EAAC,WAAW;QAAAK,QAAA,gBACxB1F,OAAA;UAAGqF,SAAS,EAAC,uBAAuB;UAAAK,QAAA,GAAC,SAAO,eAAA1F,OAAA;YAAMqF,SAAS,EAAC,aAAa;YAAAK,QAAA,EAAE,CAAAqD,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE9F,KAAK,KAAI;UAAY;YAAAqC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,KAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,EACzHuD,iBAAiB,CAACJ,IAAI,gBACrB5I,OAAA;UAAKqF,SAAS,EAAE,gCAAgC2D,iBAAiB,CAACJ,IAAI,KAAG,SAAS,GAAG,4BAA4B,GAAG,wBAAwB,EAAG;UAAAlD,QAAA,EAAEsD,iBAAiB,CAACH;QAAI;UAAAvD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,gBAE9KzF,OAAA;UAAKqF,SAAS,EAAC,wBAAwB;UAAAK,QAAA,gBACrC1F,OAAA;YAAQgF,IAAI,EAAC,QAAQ;YAAC0B,OAAO,EAAEA,CAAA,KAAIS,cAAc,CAAC,IAAI,CAAE;YAAC9B,SAAS,EAAC,6BAA6B;YAAAK,QAAA,EAAC;UAAM;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAChHzF,OAAA;YACEgF,IAAI,EAAC,QAAQ;YACb0B,OAAO,EAAE,MAAAA,CAAA,KAAU;cACjB,IAAI;gBACF,IAAI,CAACqC,WAAW,EAAE;gBAClB,MAAM1F,CAAC,GAAG,MAAMC,KAAK,CAAC,GAAG7D,QAAQ,gBAAgBsJ,WAAW,CAAC7H,EAAE,EAAE,EAAE;kBAAE8C,MAAM,EAAE,QAAQ;kBAAEC,OAAO,EAAE;oBAAEC,aAAa,EAAE,UAAU1D,KAAK;kBAAG;gBAAC,CAAC,CAAC;gBACtI,IAAI,CAAC6C,CAAC,CAACE,EAAE,EAAE;kBAAE,MAAMM,CAAC,GAAG,MAAMR,CAAC,CAACK,IAAI,CAAC,CAAC,CAACU,KAAK,CAAC,OAAK,CAAC,CAAC,CAAC,CAAC;kBAAE,MAAM,IAAIZ,KAAK,CAACK,CAAC,CAACnC,KAAK,IAAI,kBAAkB,CAAC;gBAAE;gBACvG,MAAMuL,GAAG,GAAGlE,WAAW,CAAC7B,WAAW;gBACnC+B,oBAAoB,CAAC;kBAAEL,IAAI,EAAE,SAAS;kBAAEC,IAAI,EAAE;gBAAwB,CAAC,CAAC;gBACxE+D,UAAU,CAAC,YAAU;kBAAE3D,oBAAoB,CAAC;oBAAEL,IAAI,EAAE,IAAI;oBAAEC,IAAI,EAAE;kBAAG,CAAC,CAAC;kBAAE1B,cAAc,CAAC,IAAI,CAAC;kBAAE,IAAI8F,GAAG,EAAE,MAAMjD,WAAW,CAACiD,GAAG,CAAC;gBAAE,CAAC,EAAE,IAAI,CAAC;cACxI,CAAC,CAAC,OAAOJ,GAAG,EAAE;gBACZ5D,oBAAoB,CAAC;kBAAEL,IAAI,EAAE,OAAO;kBAAEC,IAAI,EAAEgE,GAAG,CAAC3J,OAAO,IAAI;gBAAqB,CAAC,CAAC;gBAClF0J,UAAU,CAAC,MAAI3D,oBAAoB,CAAC;kBAAEL,IAAI,EAAE,IAAI;kBAAEC,IAAI,EAAE;gBAAG,CAAC,CAAC,EAAE,IAAI,CAAC;cACtE;YACF,CAAE;YACFxD,SAAS,EAAC,6DAA6D;YAAAK,QAAA,EACxE;UAAM;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAERzF,OAAA;MAASkB,EAAE,EAAC,SAAS;MAACmE,SAAS,EAAC,cAAc;MAAAK,QAAA,gBAC5C1F,OAAA;QAAKqF,SAAS,EAAC,mCAAmC;QAAAK,QAAA,gBAChD1F,OAAA;UAAIqF,SAAS,EAAC,4BAA4B;UAAAK,QAAA,EAAC;QAAiB;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAChEhF,OAAO,iBACNT,OAAA;UAAQ0G,OAAO,EAAEA,CAAA,KAAI7E,UAAU,CAAC,IAAI,CAAE;UAACwD,SAAS,EAAC,6CAA6C;UAAAK,QAAA,EAAC;QAAU;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAClH;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EACLjE,OAAO,iBAAIxB,OAAA;QAAKqF,SAAS,EAAC,uBAAuB;QAAAK,QAAA,EAAC;MAAkB;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAC1E/D,KAAK,iBAAI1B,OAAA;QAAKqF,SAAS,EAAC,sBAAsB;QAAAK,QAAA,EAAEhE;MAAK;QAAA4D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC7DzF,OAAA;QAAKqF,SAAS,EAAC,0CAA0C;QAAAK,QAAA,EACtDpE,OAAO,CAACqE,GAAG,CAAE0E,GAAG,iBACfrK,OAAA;UAAkBqF,SAAS,EAAC,4CAA4C;UAAAK,QAAA,gBACtE1F,OAAA;YAAKqF,SAAS,EAAC,UAAU;YAAAK,QAAA,GACtB2E,GAAG,CAAC0B,SAAS,iBAAI/L,OAAA;cAAKoF,GAAG,EAAE,GAAG1F,UAAU,GAAG2K,GAAG,CAAC0B,SAAS,EAAG;cAAC5G,GAAG,EAAC,EAAE;cAACE,SAAS,EAAC;YAA0B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EAC1G,CAAChF,OAAO,IAAK2J,OAAO,CAACC,GAAG,CAAE,kBACzBrK,OAAA;cAAKqF,SAAS,EAAC,mCAAmC;cAAAK,QAAA,GAC/C0E,OAAO,CAACC,GAAG,CAAC,iBACXrK,OAAA;gBAAQ0G,OAAO,EAAEA,CAAA,KAAI3E,WAAW,CAACsI,GAAG,CAAE;gBAACpH,KAAK,EAAC,MAAM;gBAACoC,SAAS,EAAC,oDAAoD;gBAAAK,QAAA,EAAC;cAAI;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAChI,EACAhF,OAAO,iBACNT,OAAA;gBAAQ0G,OAAO,EAAEA,CAAA,KAAI4D,YAAY,CAACD,GAAG,CAAE;gBAACpH,KAAK,EAAC,QAAQ;gBAACoC,SAAS,EAAC,iDAAiD;gBAAAK,QAAA,EAAC;cAAM;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAClI;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACNzF,OAAA,CAACV,IAAI;YAAC4N,EAAE,EAAE,uBAAuB7C,GAAG,CAACtC,IAAI,IAAIsC,GAAG,CAACnJ,EAAE,EAAG;YAACmE,SAAS,EAAC,OAAO;YAAAK,QAAA,eACtE1F,OAAA;cAAKqF,SAAS,EAAC,KAAK;cAAAK,QAAA,gBAClB1F,OAAA;gBAAKqF,SAAS,EAAC,aAAa;gBAAAK,QAAA,EAAE2E,GAAG,CAACmB;cAAI;gBAAAlG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC7CzF,OAAA;gBAAKqF,SAAS,EAAC,8BAA8B;gBAAAK,QAAA,gBAC3C1F,OAAA;kBAAKoF,GAAG,EAAEiF,GAAG,CAAC8C,cAAc,GAAG,GAAGzN,UAAU,GAAG2K,GAAG,CAAC8C,cAAc,EAAE,GAAG,8BAA8BnB,kBAAkB,CAAC3B,GAAG,CAAC+C,IAAI,IAAI/C,GAAG,CAACmB,IAAI,CAAC,EAAG;kBAACrG,GAAG,EAAC,EAAE;kBAACE,SAAS,EAAC;gBAAmC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eACvMzF,OAAA;kBAAKqF,SAAS,EAAC,uBAAuB;kBAAAK,QAAA,GAAC,QAAM,EAAC2E,GAAG,CAAC+C,IAAI,IAAI,GAAG;gBAAA;kBAAA9H,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjE,CAAC,eACNzF,OAAA;gBAAKqF,SAAS,EAAC,uBAAuB;gBAAAK,QAAA,GAAC,YAAU,EAAC2E,GAAG,CAAC9F,QAAQ,IAAI,GAAG;cAAA;gBAAAe,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC;QAAA,GAvBC4E,GAAG,CAACnJ,EAAE;UAAAoE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAwBX,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGNzF,OAAA,CAACL,KAAK;QAACqD,IAAI,EAAE,CAAC,CAACpB,OAAQ;QAACuK,OAAO,EAAEA,CAAA,KAAItK,UAAU,CAAC,KAAK,CAAE;QAACoB,KAAK,EAAC,YAAY;QAAAyC,QAAA,eACxE1F,OAAA,CAACqN,UAAU;UACTlB,OAAO,EAAEA,CAAA,KAAI;YAAEtK,UAAU,CAAC,KAAK,CAAC;UAAE,CAAE;UACpC2K,QAAQ,EAAEhC,YAAa;UACvBiC,cAAc,EAAC,QAAQ;UACvBC,OAAO,EAAGhC,GAAG,IAAG3H,cAAc,CAAC;YAAEC,IAAI,EAAE,IAAI;YAAEC,KAAK,EAAE,cAAc;YAAEC,OAAO,EAAEwH,GAAG;YAAEvH,WAAW,EAAE;UAAwG,CAAC;QAAE;UAAAmC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3M;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC,eAGRzF,OAAA,CAACL,KAAK;QAACqD,IAAI,EAAE,CAAC,CAAClB,QAAS;QAACqK,OAAO,EAAEA,CAAA,KAAIpK,WAAW,CAAC,IAAI,CAAE;QAACkB,KAAK,EAAC,aAAa;QAAAyC,QAAA,EACzE5D,QAAQ,iBACP9B,OAAA,CAACqN,UAAU;UACTC,MAAM,EAAExL,QAAS;UACjBqK,OAAO,EAAEA,CAAA,KAAI;YAAEpK,WAAW,CAAC,IAAI,CAAC;UAAE,CAAE;UACpCyK,QAAQ,EAAGzI,EAAE,IAAG6G,YAAY,CAAC9I,QAAQ,CAACZ,EAAE,EAAE6C,EAAE,CAAE;UAC9C0I,cAAc,EAAC,MAAM;UACrBC,OAAO,EAAGhC,GAAG,IAAG3H,cAAc,CAAC;YAAEC,IAAI,EAAE,IAAI;YAAEC,KAAK,EAAE,cAAc;YAAEC,OAAO,EAAEwH,GAAG;YAAEvH,WAAW,EAAE;UAAwG,CAAC;QAAE;UAAAmC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3M;MACF;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC,eAGRzF,OAAA,CAACL,KAAK;QAACqD,IAAI,EAAE,CAAC,CAAChB,YAAa;QAACmK,OAAO,EAAEA,CAAA,KAAIlK,eAAe,CAAC,IAAI,CAAE;QAACgB,KAAK,EAAC,eAAe;QAAAyC,QAAA,eACpF1F,OAAA;UAAKqF,SAAS,EAAC,WAAW;UAAAK,QAAA,gBACxB1F,OAAA;YAAGqF,SAAS,EAAC,uBAAuB;YAAAK,QAAA,GAAC,kCAAgC,eAAA1F,OAAA;cAAMqF,SAAS,EAAC,aAAa;cAAAK,QAAA,EAAE1D,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEwJ;YAAI;cAAAlG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,mCAA+B;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACjKzF,OAAA;YAAKqF,SAAS,EAAC,wBAAwB;YAAAK,QAAA,gBACrC1F,OAAA;cAAQgF,IAAI,EAAC,QAAQ;cAAC0B,OAAO,EAAEA,CAAA,KAAIzE,eAAe,CAAC,IAAI,CAAE;cAACoD,SAAS,EAAC,6BAA6B;cAAAK,QAAA,EAAC;YAAM;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACjHzF,OAAA;cAAQgF,IAAI,EAAC,QAAQ;cAAC0B,OAAO,EAAE6D,aAAc;cAAClF,SAAS,EAAC,6DAA6D;cAAAK,QAAA,EAAC;YAAM;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAEVzF,OAAA;MAASkB,EAAE,EAAC,WAAW;MAACmE,SAAS,EAAC,cAAc;MAAAK,QAAA,gBAC9C1F,OAAA;QAAKqF,SAAS,EAAC,mCAAmC;QAAAK,QAAA,gBAChD1F,OAAA;UAAIqF,SAAS,EAAC,4BAA4B;UAAAK,QAAA,EAAC;QAAS;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACxDhF,OAAO,iBACNT,OAAA;UAAQ0G,OAAO,EAAEA,CAAA,KAAIjE,cAAc,CAAC,IAAI,CAAE;UAAC4C,SAAS,EAAC,6CAA6C;UAAAK,QAAA,EAAC;QAAY;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACxH;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EACLrD,WAAW,iBAAIpC,OAAA;QAAKqF,SAAS,EAAC,uBAAuB;QAAAK,QAAA,EAAC;MAAoB;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAChFnD,SAAS,iBAAItC,OAAA;QAAKqF,SAAS,EAAC,sBAAsB;QAAAK,QAAA,EAAEpD;MAAS;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACrEzF,OAAA;QAAKqF,SAAS,EAAC,0CAA0C;QAAAK,QAAA,EACtDxD,SAAS,CAACyD,GAAG,CAAEmF,CAAC,iBACf9K,OAAA;UAAgBqF,SAAS,EAAC,4CAA4C;UAAAK,QAAA,GACnEoF,CAAC,CAACiB,SAAS,iBAAI/L,OAAA;YAAKoF,GAAG,EAAE,GAAG1F,UAAU,GAAGoL,CAAC,CAACiB,SAAS,EAAG;YAAC5G,GAAG,EAAC,EAAE;YAACE,SAAS,EAAC;UAA0B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACvGzF,OAAA;YAAKqF,SAAS,EAAC,aAAa;YAAAK,QAAA,gBAC1B1F,OAAA;cAAKqF,SAAS,EAAC,mCAAmC;cAAAK,QAAA,gBAChD1F,OAAA;gBAAKqF,SAAS,EAAC,aAAa;gBAAAK,QAAA,EAAEoF,CAAC,CAACU;cAAI;gBAAAlG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EAC1C,CAAChF,OAAO,IAAIoK,WAAW,CAACC,CAAC,CAAC,kBACzB9K,OAAA;gBAAKqF,SAAS,EAAC,YAAY;gBAAAK,QAAA,GACxBmF,WAAW,CAACC,CAAC,CAAC,iBACb9K,OAAA;kBAAQ0G,OAAO,EAAEA,CAAA,KAAIqE,gBAAgB,CAACD,CAAC,CAAE;kBAAC7H,KAAK,EAAC,MAAM;kBAACoC,SAAS,EAAC,oDAAoD;kBAAAK,QAAA,EAAC;gBAAI;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CACnI,EACAhF,OAAO,iBACNT,OAAA;kBAAQ0G,OAAO,EAAEA,CAAA,KAAI7D,aAAa,CAACiI,CAAC,CAAE;kBAAC7H,KAAK,EAAC,QAAQ;kBAACoC,SAAS,EAAC,iDAAiD;kBAAAK,QAAA,EAAC;gBAAM;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CACjI;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eACNzF,OAAA;cAAKqF,SAAS,EAAC,iCAAiC;cAAAK,QAAA,EAAEoF,CAAC,CAAC3H,WAAW,IAAI;YAAG;cAAAmC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC7EzF,OAAA,CAACV,IAAI;cAAC4N,EAAE,EAAE,yBAAyBpC,CAAC,CAAC5J,EAAE,EAAG;cAACmE,SAAS,EAAC,iDAAiD;cAAAK,QAAA,EAAC;YAAI;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/G,CAAC;QAAA,GAlBEqF,CAAC,CAAC5J,EAAE;UAAAoE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAmBT,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGNzF,OAAA,CAACL,KAAK;QAACqD,IAAI,EAAE,CAAC,CAACR,WAAY;QAAC2J,OAAO,EAAEA,CAAA,KAAI1J,cAAc,CAAC,KAAK,CAAE;QAACQ,KAAK,EAAC,cAAc;QAAAyC,QAAA,eAClF1F,OAAA,CAACuN,YAAY;UACXpB,OAAO,EAAEA,CAAA,KAAI1J,cAAc,CAAC,KAAK,CAAE;UACnC+J,QAAQ,EAAEA,CAACzI,EAAE,EAAEoH,SAAS,KAAGF,gBAAgB,CAAClH,EAAE,EAAEoH,SAAS,CAAE;UAC3DsB,cAAc,EAAC,QAAQ;UACvBC,OAAO,EAAGhC,GAAG,IAAG3H,cAAc,CAAC;YAAEC,IAAI,EAAE,IAAI;YAAEC,KAAK,EAAE,gBAAgB;YAAEC,OAAO,EAAEwH,GAAG;YAAEvH,WAAW,EAAE;UAA6G,CAAC;QAAE;UAAAmC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC,eAGRzF,OAAA,CAACL,KAAK;QAACqD,IAAI,EAAE,CAAC,CAACN,YAAa;QAACyJ,OAAO,EAAEA,CAAA,KAAIxJ,eAAe,CAAC,IAAI,CAAE;QAACM,KAAK,EAAC,eAAe;QAAAyC,QAAA,EACnFhD,YAAY,iBACX1C,OAAA,CAACuN,YAAY;UACXC,QAAQ,EAAE9K,YAAa;UACvByJ,OAAO,EAAEA,CAAA,KAAIxJ,eAAe,CAAC,IAAI,CAAE;UACnC6J,QAAQ,EAAEA,CAACzI,EAAE,EAAEoH,SAAS,KAAGW,gBAAgB,CAACpJ,YAAY,CAACxB,EAAE,EAAE6C,EAAE,EAAEoH,SAAS,CAAE;UAC5EsB,cAAc,EAAC,MAAM;UACrBC,OAAO,EAAGhC,GAAG,IAAG3H,cAAc,CAAC;YAAEC,IAAI,EAAE,IAAI;YAAEC,KAAK,EAAE,gBAAgB;YAAEC,OAAO,EAAEwH,GAAG;YAAEvH,WAAW,EAAE;UAA6G,CAAC;QAAE;UAAAmC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClN;MACF;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC,eAGRzF,OAAA,CAACL,KAAK;QAACqD,IAAI,EAAE,CAAC,CAACJ,UAAW;QAACuJ,OAAO,EAAEA,CAAA,KAAItJ,aAAa,CAAC,IAAI,CAAE;QAACI,KAAK,EAAC,iBAAiB;QAAAyC,QAAA,eAClF1F,OAAA;UAAKqF,SAAS,EAAC,WAAW;UAAAK,QAAA,gBACxB1F,OAAA;YAAGqF,SAAS,EAAC,uBAAuB;YAAAK,QAAA,GAAC,kCAAgC,eAAA1F,OAAA;cAAMqF,SAAS,EAAC,aAAa;cAAAK,QAAA,EAAE9C,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAE4I;YAAI;cAAAlG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,mCAA+B;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC/JzF,OAAA;YAAKqF,SAAS,EAAC,wBAAwB;YAAAK,QAAA,gBACrC1F,OAAA;cAAQgF,IAAI,EAAC,QAAQ;cAAC0B,OAAO,EAAEA,CAAA,KAAI7D,aAAa,CAAC,IAAI,CAAE;cAACwC,SAAS,EAAC,6BAA6B;cAAAK,QAAA,EAAC;YAAM;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC/GzF,OAAA;cAAQgF,IAAI,EAAC,QAAQ;cAAC0B,OAAO,EAAEsE,iBAAkB;cAAC3F,SAAS,EAAC,6DAA6D;cAAAK,QAAA,EAAC;YAAM;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAEVzF,OAAA;MAASkB,EAAE,EAAC,QAAQ;MAACmE,SAAS,EAAC,cAAc;MAAAK,QAAA,gBAC3C1F,OAAA;QAAIqF,SAAS,EAAC,4BAA4B;QAAAK,QAAA,EAAC;MAAqB;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACrEzF,OAAA;QAAKqF,SAAS,EAAC,0CAA0C;QAAAK,QAAA,EACtDrG,MAAM,CAACsG,GAAG,CAAC,CAAC8H,CAAC,EAACvB,GAAG,kBAChBlM,OAAA;UAAkB0G,OAAO,EAAEA,CAAA,KAAIrF,gBAAgB,CAAC;YAAE4B,KAAK,EAAEwK;UAAE,CAAC,CAAE;UAACpI,SAAS,EAAC,4EAA4E;UAAAK,QAAA,gBACnJ1F,OAAA;YAAKoF,GAAG,EAAE,oCAAoC8G,GAAG,UAAW;YAAC/G,GAAG,EAAC,EAAE;YAACE,SAAS,EAAC;UAA0B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC3GzF,OAAA;YAAKqF,SAAS,EAAC,KAAK;YAAAK,QAAA,gBAClB1F,OAAA;cAAKqF,SAAS,EAAC,qBAAqB;cAAAK,QAAA,EAAE+H;YAAC;cAAAnI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC9CzF,OAAA;cAAKqF,SAAS,EAAC,4BAA4B;cAAAK,QAAA,EAAC;YAAqC;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpF,CAAC;QAAA,GALKyG,GAAG;UAAA5G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAMR,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNzF,OAAA;QAAQgD,IAAI,EAAE,CAAC,CAAC5B,aAAc;QAACiE,SAAS,EAAC,iCAAiC;QAAAK,QAAA,EACvEtE,aAAa,iBACZpB,OAAA;UAAA0F,QAAA,gBACE1F,OAAA;YAAKqF,SAAS,EAAC,sDAAsD;YAAAK,QAAA,gBACnE1F,OAAA;cAAKqF,SAAS,EAAC,eAAe;cAAAK,QAAA,EAAEtE,aAAa,CAAC6B;YAAK;cAAAqC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC1DzF,OAAA;cAAQqF,SAAS,EAAC,eAAe;cAACqB,OAAO,EAAEA,CAAA,KAAIrF,gBAAgB,CAAC,IAAI,CAAE;cAAAqE,QAAA,EAAC;YAAC;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9E,CAAC,eACNzF,OAAA;YAAKqF,SAAS,EAAC,eAAe;YAAAK,QAAA,gBAC5B1F,OAAA;cAAKqF,SAAS,EAAC,uBAAuB;cAAAK,QAAA,EAAC;YAA+G;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC5JzF,OAAA;cAAKqF,SAAS,EAAC,wBAAwB;cAAAK,QAAA,gBACrC1F,OAAA;gBAAKoF,GAAG,EAAC,0CAA0C;gBAACD,GAAG,EAAC,EAAE;gBAACE,SAAS,EAAC;cAAkC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC1GzF,OAAA;gBAAKoF,GAAG,EAAC,0CAA0C;gBAACD,GAAG,EAAC,EAAE;gBAACE,SAAS,EAAC;cAAkC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,eAEVzF,OAAA,CAACL,KAAK;MAACqD,IAAI,EAAEF,WAAW,CAACE,IAAK;MAACmJ,OAAO,EAAEA,CAAA,KAAIpJ,cAAc,CAAC;QAAEC,IAAI,EAAE,KAAK;QAAEC,KAAK,EAAE,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,WAAW,EAAE;MAAG,CAAC,CAAE;MAACF,KAAK,EAAEH,WAAW,CAACG,KAAK,IAAI,OAAQ;MAAAyC,QAAA,eACxJ1F,OAAA;QAAKqF,SAAS,EAAC,WAAW;QAAAK,QAAA,gBACxB1F,OAAA;UAAKqF,SAAS,EAAC,wBAAwB;UAAAK,QAAA,gBACrC1F,OAAA;YAAKqF,SAAS,EAAC,sCAAsC;YAAAK,QAAA,eACnD1F,OAAA;cAAK0N,KAAK,EAAC,4BAA4B;cAACC,OAAO,EAAC,WAAW;cAACC,IAAI,EAAC,cAAc;cAACvI,SAAS,EAAC,sBAAsB;cAAAK,QAAA,eAAC1F,OAAA;gBAAM6N,QAAQ,EAAC,SAAS;gBAACC,CAAC,EAAC,+OAA+O;gBAACC,QAAQ,EAAC;cAAS;gBAAAzI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnZ,CAAC,eACNzF,OAAA;YAAA0F,QAAA,gBACE1F,OAAA;cAAKqF,SAAS,EAAC,0BAA0B;cAAAK,QAAA,EAAE5C,WAAW,CAACG,KAAK,IAAI;YAAO;cAAAqC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC9EzF,OAAA;cAAGqF,SAAS,EAAC,2BAA2B;cAAAK,QAAA,EAAE5C,WAAW,CAACI;YAAO;cAAAoC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EACjE3C,WAAW,CAACK,WAAW,iBAAInD,OAAA;cAAGqF,SAAS,EAAC,2BAA2B;cAAAK,QAAA,EAAE5C,WAAW,CAACK;YAAW;cAAAmC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/F,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACNzF,OAAA;UAAKqF,SAAS,EAAC,kBAAkB;UAAAK,QAAA,eAC/B1F,OAAA;YAAQgF,IAAI,EAAC,QAAQ;YAAC0B,OAAO,EAAEA,CAAA,KAAI3D,cAAc,CAAC;cAAEC,IAAI,EAAE,KAAK;cAAEC,KAAK,EAAE,EAAE;cAAEC,OAAO,EAAE,EAAE;cAAEC,WAAW,EAAE;YAAG,CAAC,CAAE;YAACkC,SAAS,EAAC,6BAA6B;YAAAK,QAAA,EAAC;UAAK;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV;AAACrF,GAAA,CA5pBuBD,UAAU;EAAA,QACRX,OAAO,EAmDdD,WAAW;AAAA;AAAAyO,EAAA,GApDN7N,UAAU;AA8pBlC,SAASoN,YAAYA,CAAC;EAAEC,QAAQ;EAAErB,OAAO;EAAEK,QAAQ;EAAEC,cAAc;EAAEC;AAAQ,CAAC,EAAE;EAAAuB,GAAA;EAC9E,MAAM,CAACzC,IAAI,EAAE0C,OAAO,CAAC,GAAG9O,QAAQ,CAAC,CAAAoO,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEhC,IAAI,KAAI,EAAE,CAAC;EACtD,MAAM,CAACrI,WAAW,EAAEgL,cAAc,CAAC,GAAG/O,QAAQ,CAAC,CAAAoO,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAErK,WAAW,KAAI,EAAE,CAAC;EAC3E,MAAM,CAAC0I,SAAS,EAAEuC,YAAY,CAAC,GAAGhP,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAAC+L,SAAS,EAAEkD,YAAY,CAAC,GAAGjP,QAAQ,CAAC,MAAM;IAC/C,MAAMkP,IAAI,GAAG3K,KAAK,CAACC,OAAO,CAAC4J,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAErC,SAAS,CAAC,GAAGqC,QAAQ,CAACrC,SAAS,GAAG,EAAE;IACzE,OAAOmD,IAAI,CAAC3I,GAAG,CAAC,CAACiG,CAAC,EAAEM,GAAG;MAAA,IAAAqC,aAAA;MAAA,OAAM;QAAEjH,GAAG,EAAEtB,MAAM,CAAC4F,CAAC,CAAC1K,EAAE,IAAIgL,GAAG,CAAC;QAAEV,IAAI,EAAEI,CAAC,CAACJ,IAAI,IAAI,EAAE;QAAEC,QAAQ,EAAEG,CAAC,CAACH,QAAQ,IAAI,EAAE;QAAEC,gBAAgB,EAAEE,CAAC,CAACG,SAAS,IAAI,IAAI;QAAEF,SAAS,EAAE,IAAI;QAAEF,UAAU,GAAA4C,aAAA,GAAE3C,CAAC,CAACD,UAAU,cAAA4C,aAAA,cAAAA,aAAA,GAAIrC;MAAI,CAAC;IAAA,CAAC,CAAC;EACtM,CAAC,CAAC;EACF,MAAM,CAACsC,UAAU,EAAEC,aAAa,CAAC,GAAGrP,QAAQ,CAAC,KAAK,CAAC;EAEnD,SAASsP,WAAWA,CAAA,EAAG;IACrBL,YAAY,CAAEnE,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;MAAE5C,GAAG,EAAEtB,MAAM,CAAC2I,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;MAAEpD,IAAI,EAAE,EAAE;MAAEC,QAAQ,EAAE,EAAE;MAAEC,gBAAgB,EAAE,IAAI;MAAEG,SAAS,EAAE,IAAI;MAAEF,UAAU,EAAEzB,IAAI,CAACpC;IAAO,CAAC,CAAC,CAAC;EAC1J;EACA,SAAS+G,cAAcA,CAAC3C,GAAG,EAAE;IAC3BmC,YAAY,CAAEnE,IAAI,IAAKA,IAAI,CAAC+B,MAAM,CAAC,CAAC6C,CAAC,EAAEjJ,CAAC,KAAKA,CAAC,KAAKqG,GAAG,CAAC,CAACvG,GAAG,CAAC,CAACiG,CAAC,EAAE/F,CAAC,MAAM;MAAE,GAAG+F,CAAC;MAAED,UAAU,EAAE9F;IAAE,CAAC,CAAC,CAAC,CAAC;EACnG;EAEA,eAAekJ,YAAYA,CAAClL,CAAC,EAAE;IAC7BA,CAAC,CAACmL,cAAc,CAAC,CAAC;IAClBP,aAAa,CAAC,IAAI,CAAC;IACnB,IAAI;MACF,MAAM1K,EAAE,GAAG,IAAIqH,QAAQ,CAAC,CAAC;MACzB,IAAI,CAACoC,QAAQ,EAAEzJ,EAAE,CAACsH,MAAM,CAAC,MAAM,EAAEG,IAAI,CAACjE,IAAI,CAAC,CAAC,CAAC,CAAC,KAAM,IAAIiE,IAAI,IAAIA,IAAI,KAAKgC,QAAQ,CAAChC,IAAI,EAAEzH,EAAE,CAACsH,MAAM,CAAC,MAAM,EAAEG,IAAI,CAACjE,IAAI,CAAC,CAAC,CAAC;MACtH,IAAIpE,WAAW,MAAM,CAAAqK,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAErK,WAAW,KAAI,EAAE,CAAC,EAAEY,EAAE,CAACsH,MAAM,CAAC,aAAa,EAAElI,WAAW,CAAC;MACxF,IAAI0I,SAAS,EAAE9H,EAAE,CAACsH,MAAM,CAAC,OAAO,EAAEQ,SAAS,CAAC;MAC5C,MAAMW,QAAQ,CAACzI,EAAE,EAAEoH,SAAS,CAAC;MAC7BgB,OAAO,CAAC,CAAC;IACX,CAAC,CAAC,OAAOtI,CAAC,EAAE;MACV6I,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAG7I,CAAC,CAACX,OAAO,IAAI,yBAAyB,CAAC;IACnD,CAAC,SAAS;MACRuL,aAAa,CAAC,KAAK,CAAC;IACtB;EACF;EAEA,oBACEzO,OAAA;IAAMwM,QAAQ,EAAEuC,YAAa;IAAC1J,SAAS,EAAC,sBAAsB;IAAAK,QAAA,GAC3D,CAAC8H,QAAQ,iBACRxN,OAAA;MAAA0F,QAAA,gBACE1F,OAAA;QAAOqF,SAAS,EAAC,6BAA6B;QAAAK,QAAA,EAAC;MAAI;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC3DzF,OAAA;QAAOiF,KAAK,EAAEuG,IAAK;QAACyD,QAAQ,EAAGpL,CAAC,IAAGqK,OAAO,CAACrK,CAAC,CAACoC,MAAM,CAAChB,KAAK,CAAE;QAACI,SAAS,EAAC,wFAAwF;QAAC6J,WAAW,EAAC,oBAAoB;QAACC,QAAQ;MAAA;QAAA7J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxM,CACN,eACDzF,OAAA;MAAA0F,QAAA,gBACE1F,OAAA;QAAOqF,SAAS,EAAC,6BAA6B;QAAAK,QAAA,EAAC;MAAW;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAClEzF,OAAA;QAAUiF,KAAK,EAAE9B,WAAY;QAAC8L,QAAQ,EAAGpL,CAAC,IAAGsK,cAAc,CAACtK,CAAC,CAACoC,MAAM,CAAChB,KAAK,CAAE;QAACI,SAAS,EAAC,wFAAwF;QAAC+J,IAAI,EAAE,CAAE;QAACF,WAAW,EAAC;MAAmB;QAAA5J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxN,CAAC,eACNzF,OAAA;MAAA0F,QAAA,gBACE1F,OAAA;QAAOqF,SAAS,EAAC,6BAA6B;QAAAK,QAAA,EAAC;MAAc;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACrEzF,OAAA;QAAKqF,SAAS,EAAC,8BAA8B;QAAAK,QAAA,gBAC3C1F,OAAA;UAAKqF,SAAS,EAAC,0FAA0F;UAAAK,QAAA,EACtGmG,SAAS,gBACR7L,OAAA;YAAKmF,GAAG,EAAC,SAAS;YAACC,GAAG,EAAEiK,GAAG,CAACC,eAAe,CAACzD,SAAS,CAAE;YAACxG,SAAS,EAAC;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,GAC/F+H,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEzB,SAAS,gBACrB/L,OAAA;YAAKmF,GAAG,EAAC,MAAM;YAACC,GAAG,EAAE,GAAG1F,UAAU,GAAG8N,QAAQ,CAACzB,SAAS,EAAG;YAAC1G,SAAS,EAAC;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAEpGzF,OAAA;YAAMqF,SAAS,EAAC,uBAAuB;YAAAK,QAAA,EAAC;UAAQ;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QACvD;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eACNzF,OAAA;UAAA0F,QAAA,gBACE1F,OAAA;YAAOkB,EAAE,EAAC,YAAY;YAAC8D,IAAI,EAAC,MAAM;YAACuK,MAAM,EAAC,SAAS;YAACN,QAAQ,EAAGpL,CAAC;cAAA,IAAA2L,eAAA;cAAA,OAAGpB,YAAY,CAAC,EAAAoB,eAAA,GAAA3L,CAAC,CAACoC,MAAM,CAACwJ,KAAK,cAAAD,eAAA,uBAAdA,eAAA,CAAiB,CAAC,CAAC,KAAI,IAAI,CAAC;YAAA,CAAC;YAACnK,SAAS,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACpIzF,OAAA;YAAO0P,OAAO,EAAC,YAAY;YAACrK,SAAS,EAAC,uGAAuG;YAAAK,QAAA,EAAC;UAAW;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9J,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNzF,OAAA;MAAA0F,QAAA,gBACE1F,OAAA;QAAKqF,SAAS,EAAC,wCAAwC;QAAAK,QAAA,gBACrD1F,OAAA;UAAOqF,SAAS,EAAC,yCAAyC;UAAAK,QAAA,EAAC;QAAS;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC5EzF,OAAA;UAAQgF,IAAI,EAAC,QAAQ;UAAC0B,OAAO,EAAEgI,WAAY;UAACrJ,SAAS,EAAC,8CAA8C;UAAAK,QAAA,EAAC;QAAY;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvH,CAAC,eACNzF,OAAA;QAAKqF,SAAS,EAAC,WAAW;QAAAK,QAAA,EACvByF,SAAS,CAACxF,GAAG,CAAC,CAACiG,CAAC,EAAEM,GAAG,kBACpBlM,OAAA;UAAiBqF,SAAS,EAAC,uBAAuB;UAAAK,QAAA,gBAChD1F,OAAA;YAAKqF,SAAS,EAAC,uCAAuC;YAAAK,QAAA,gBACpD1F,OAAA;cAAKqF,SAAS,EAAC,yCAAyC;cAAAK,QAAA,gBACtD1F,OAAA;gBAAA0F,QAAA,gBACE1F,OAAA;kBAAOqF,SAAS,EAAC,6BAA6B;kBAAAK,QAAA,EAAC;gBAAI;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC3DzF,OAAA;kBAAOiF,KAAK,EAAE2G,CAAC,CAACJ,IAAK;kBAACyD,QAAQ,EAAGpL,CAAC,IAAGwK,YAAY,CAACnE,IAAI,IAAIA,IAAI,CAACvE,GAAG,CAAC,CAACgK,CAAC,EAAC9J,CAAC,KAAIA,CAAC,KAAGqG,GAAG,GAAC;oBAAC,GAAGyD,CAAC;oBAACnE,IAAI,EAAC3H,CAAC,CAACoC,MAAM,CAAChB;kBAAK,CAAC,GAAC0K,CAAC,CAAC,CAAE;kBAACtK,SAAS,EAAC;gBAAgG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7N,CAAC,eACNzF,OAAA;gBAAA0F,QAAA,gBACE1F,OAAA;kBAAOqF,SAAS,EAAC,6BAA6B;kBAAAK,QAAA,EAAC;gBAAQ;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC/DzF,OAAA;kBAAOiF,KAAK,EAAE2G,CAAC,CAACH,QAAS;kBAACwD,QAAQ,EAAGpL,CAAC,IAAGwK,YAAY,CAACnE,IAAI,IAAIA,IAAI,CAACvE,GAAG,CAAC,CAACgK,CAAC,EAAC9J,CAAC,KAAIA,CAAC,KAAGqG,GAAG,GAAC;oBAAC,GAAGyD,CAAC;oBAAClE,QAAQ,EAAC5H,CAAC,CAACoC,MAAM,CAAChB;kBAAK,CAAC,GAAC0K,CAAC,CAAC,CAAE;kBAACtK,SAAS,EAAC;gBAAgG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACNzF,OAAA;cAAA0F,QAAA,gBACE1F,OAAA;gBAAOqF,SAAS,EAAC,6BAA6B;gBAAAK,QAAA,EAAC;cAAK;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC5DzF,OAAA;gBAAKqF,SAAS,EAAC,8BAA8B;gBAAAK,QAAA,gBAC3C1F,OAAA;kBAAKqF,SAAS,EAAC,4FAA4F;kBAAAK,QAAA,EACxGkG,CAAC,CAACC,SAAS,gBACV7L,OAAA;oBAAKmF,GAAG,EAAC,SAAS;oBAACC,GAAG,EAAEiK,GAAG,CAACC,eAAe,CAAC1D,CAAC,CAACC,SAAS,CAAE;oBAACxG,SAAS,EAAC;kBAA4B;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,GACjGmG,CAAC,CAACF,gBAAgB,gBACpB1L,OAAA;oBAAKmF,GAAG,EAAC,UAAU;oBAACC,GAAG,EAAE,GAAG1F,UAAU,GAAGkM,CAAC,CAACF,gBAAgB,EAAG;oBAACrG,SAAS,EAAC;kBAA4B;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,gBAExGzF,OAAA;oBAAMqF,SAAS,EAAC,2BAA2B;oBAAAK,QAAA,EAAC;kBAAQ;oBAAAJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM;gBAC3D;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC,eACNzF,OAAA;kBAAA0F,QAAA,gBACE1F,OAAA;oBAAOkB,EAAE,EAAE,YAAY0K,CAAC,CAACtE,GAAG,EAAG;oBAACtC,IAAI,EAAC,MAAM;oBAACuK,MAAM,EAAC,SAAS;oBAACN,QAAQ,EAAGpL,CAAC,IAAGwK,YAAY,CAACnE,IAAI,IAAIA,IAAI,CAACvE,GAAG,CAAC,CAACgK,CAAC,EAAC9J,CAAC;sBAAA,IAAA+J,gBAAA;sBAAA,OAAI/J,CAAC,KAAGqG,GAAG,GAAC;wBAAC,GAAGyD,CAAC;wBAAC9D,SAAS,EAAE,EAAA+D,gBAAA,GAAA/L,CAAC,CAACoC,MAAM,CAACwJ,KAAK,cAAAG,gBAAA,uBAAdA,gBAAA,CAAiB,CAAC,CAAC,KAAE;sBAAK,CAAC,GAACD,CAAC;oBAAA,EAAC,CAAE;oBAACtK,SAAS,EAAC;kBAAS;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eAClMzF,OAAA;oBAAO0P,OAAO,EAAE,YAAY9D,CAAC,CAACtE,GAAG,EAAG;oBAACjC,SAAS,EAAC,uGAAuG;oBAAAK,QAAA,EAAC;kBAAW;oBAAAJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvK,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNzF,OAAA;YAAKqF,SAAS,EAAC,uBAAuB;YAAAK,QAAA,eACpC1F,OAAA;cAAQgF,IAAI,EAAC,QAAQ;cAAC0B,OAAO,EAAEA,CAAA,KAAImI,cAAc,CAAC3C,GAAG,CAAE;cAAC7G,SAAS,EAAC,8CAA8C;cAAAK,QAAA,EAAC;YAAM;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7H,CAAC;QAAA,GAjCEmG,CAAC,CAACtE,GAAG;UAAAhC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAkCV,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNzF,OAAA;MAAKqF,SAAS,EAAC,wBAAwB;MAAAK,QAAA,gBACrC1F,OAAA;QAAQgF,IAAI,EAAC,QAAQ;QAAC0B,OAAO,EAAEyF,OAAQ;QAAC9G,SAAS,EAAC,6BAA6B;QAAAK,QAAA,EAAC;MAAM;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC/FzF,OAAA;QAAQ6P,QAAQ,EAAErB,UAAW;QAACnJ,SAAS,EAAC,+DAA+D;QAAAK,QAAA,EAAE8I,UAAU,GAAG,WAAW,GAAG/B;MAAc;QAAAnH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzJ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEX;AAACwI,GAAA,CAnHQV,YAAY;AAAAuC,GAAA,GAAZvC,YAAY;AAqHrB,SAASF,UAAUA,CAAC;EAAEC,MAAM;EAAEnB,OAAO;EAAEK,QAAQ;EAAEC,cAAc;EAAEC;AAAQ,CAAC,EAAE;EAAAqD,GAAA;EAAA,IAAAC,WAAA,EAAAC,WAAA;EAC1E,MAAM,CAACzE,IAAI,EAAE0C,OAAO,CAAC,GAAG9O,QAAQ,CAAC,CAAAkO,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE9B,IAAI,KAAI,EAAE,CAAC;EACpD,MAAM,CAAC4B,IAAI,EAAE8C,OAAO,CAAC,GAAG9Q,QAAQ,CAAC,CAAAkO,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEF,IAAI,KAAI,EAAE,CAAC;EACpD,MAAM,CAAC7I,QAAQ,EAAE4L,WAAW,CAAC,GAAG/Q,QAAQ,CAAC,CAAAkO,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE/I,QAAQ,KAAI,EAAE,CAAC;EAChE,MAAM,CAAC6L,OAAO,EAAEC,UAAU,CAAC,GAAGjR,QAAQ,CAAC,CAAAkO,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE8C,OAAO,KAAI,EAAE,CAAC;EAC7D,MAAM,CAACE,GAAG,EAAEC,MAAM,CAAC,GAAGnR,QAAQ,EAAA4Q,WAAA,GAAC1C,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEgD,GAAG,cAAAN,WAAA,cAAAA,WAAA,GAAI,IAAI,CAAC;EACnD,MAAM,CAACQ,GAAG,EAAEC,MAAM,CAAC,GAAGrR,QAAQ,EAAA6Q,WAAA,GAAC3C,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEkD,GAAG,cAAAP,WAAA,cAAAA,WAAA,GAAI,IAAI,CAAC;EACnD,MAAM,CAAC9M,WAAW,EAAEgL,cAAc,CAAC,GAAG/O,QAAQ,CAAC,CAAAkO,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEnK,WAAW,KAAI,EAAE,CAAC;EACzE,MAAM,CAAC0I,SAAS,EAAEuC,YAAY,CAAC,GAAGhP,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACsR,aAAa,EAAEC,gBAAgB,CAAC,GAAGvR,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACoP,UAAU,EAAEC,aAAa,CAAC,GAAGrP,QAAQ,CAAC,KAAK,CAAC;EAEnD,eAAe2P,YAAYA,CAAClL,CAAC,EAAE;IAC7BA,CAAC,CAACmL,cAAc,CAAC,CAAC;IAClBP,aAAa,CAAC,IAAI,CAAC;IACnB,IAAI;MACF,MAAM1K,EAAE,GAAG,IAAIqH,QAAQ,CAAC,CAAC;MACzB,IAAI,CAACkC,MAAM,EAAEvJ,EAAE,CAACsH,MAAM,CAAC,MAAM,EAAEG,IAAI,CAACjE,IAAI,CAAC,CAAC,CAAC;MAC3C,IAAI+F,MAAM,IAAI9B,IAAI,IAAIA,IAAI,KAAK8B,MAAM,CAAC9B,IAAI,EAAEzH,EAAE,CAACsH,MAAM,CAAC,MAAM,EAAEG,IAAI,CAACjE,IAAI,CAAC,CAAC,CAAC;MAC1E,IAAI6F,IAAI,MAAM,CAAAE,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEF,IAAI,KAAI,EAAE,CAAC,EAAErJ,EAAE,CAACsH,MAAM,CAAC,MAAM,EAAE+B,IAAI,CAAC;MAC1D,IAAI7I,QAAQ,MAAM,CAAA+I,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE/I,QAAQ,KAAI,EAAE,CAAC,EAAER,EAAE,CAACsH,MAAM,CAAC,UAAU,EAAE9G,QAAQ,CAAC;MAC1E,IAAI6L,OAAO,MAAM,CAAA9C,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE8C,OAAO,KAAI,EAAE,CAAC,EAAErM,EAAE,CAACsH,MAAM,CAAC,SAAS,EAAE+E,OAAO,CAAC;MACtE,IAAIE,GAAG,IAAI,IAAI,EAAEvM,EAAE,CAACsH,MAAM,CAAC,KAAK,EAAErF,MAAM,CAACsK,GAAG,CAAC,CAAC;MAC9C,IAAIE,GAAG,IAAI,IAAI,EAAEzM,EAAE,CAACsH,MAAM,CAAC,KAAK,EAAErF,MAAM,CAACwK,GAAG,CAAC,CAAC;MAC9C,IAAIrN,WAAW,MAAM,CAAAmK,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEnK,WAAW,KAAI,EAAE,CAAC,EAAEY,EAAE,CAACsH,MAAM,CAAC,aAAa,EAAElI,WAAW,CAAC;MACtF,IAAI0I,SAAS,EAAE9H,EAAE,CAACsH,MAAM,CAAC,OAAO,EAAEQ,SAAS,CAAC;MAC5C,IAAI6E,aAAa,EAAE3M,EAAE,CAACsH,MAAM,CAAC,WAAW,EAAEqF,aAAa,CAAC;MACxD,MAAMlE,QAAQ,CAACzI,EAAE,CAAC;MAClBoI,OAAO,CAAC,CAAC;IACX,CAAC,CAAC,OAAOtI,CAAC,EAAE;MACV6I,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAG7I,CAAC,CAACX,OAAO,IAAI,uBAAuB,CAAC;IACjD,CAAC,SAAS;MACRuL,aAAa,CAAC,KAAK,CAAC;IACtB;EACF;EAEA,oBACEzO,OAAA;IAAMwM,QAAQ,EAAEuC,YAAa;IAAC1J,SAAS,EAAC,sBAAsB;IAAAK,QAAA,GAC3D,CAAC4H,MAAM,iBACNtN,OAAA;MAAA0F,QAAA,gBACE1F,OAAA;QAAOqF,SAAS,EAAC,6BAA6B;QAAAK,QAAA,EAAC;MAAI;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC3DzF,OAAA;QAAOiF,KAAK,EAAEuG,IAAK;QAACyD,QAAQ,EAAGpL,CAAC,IAAGqK,OAAO,CAACrK,CAAC,CAACoC,MAAM,CAAChB,KAAK,CAAE;QAACI,SAAS,EAAC,wFAAwF;QAAC6J,WAAW,EAAC,oCAAoC;QAACC,QAAQ;MAAA;QAAA7J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxN,CACN,eACDzF,OAAA;MAAA0F,QAAA,gBACE1F,OAAA;QAAOqF,SAAS,EAAC,6BAA6B;QAAAK,QAAA,EAAC;MAAc;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACrEzF,OAAA;QAAOiF,KAAK,EAAEmI,IAAK;QAAC6B,QAAQ,EAAGpL,CAAC,IAAGqM,OAAO,CAACrM,CAAC,CAACoC,MAAM,CAAChB,KAAK,CAAE;QAACI,SAAS,EAAC,wFAAwF;QAAC6J,WAAW,EAAC;MAAsB;QAAA5J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjM,CAAC,eACNzF,OAAA;MAAKqF,SAAS,EAAC,2BAA2B;MAAAK,QAAA,gBACxC1F,OAAA;QAAA0F,QAAA,gBACE1F,OAAA;UAAOqF,SAAS,EAAC,6BAA6B;UAAAK,QAAA,EAAC;QAAQ;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC/DzF,OAAA;UAAOiF,KAAK,EAAEV,QAAS;UAAC0K,QAAQ,EAAGpL,CAAC,IAAGsM,WAAW,CAACtM,CAAC,CAACoC,MAAM,CAAChB,KAAK,CAAE;UAACI,SAAS,EAAC,wFAAwF;UAAC6J,WAAW,EAAC;QAA2B;UAAA5J,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9M,CAAC,eACNzF,OAAA;QAAA0F,QAAA,gBACE1F,OAAA;UAAOqF,SAAS,EAAC,6BAA6B;UAAAK,QAAA,EAAC;QAAO;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC9DzF,OAAA;UAAOiF,KAAK,EAAEmL,OAAQ;UAACnB,QAAQ,EAAGpL,CAAC,IAAGwM,UAAU,CAACxM,CAAC,CAACoC,MAAM,CAAChB,KAAK,CAAE;UAACI,SAAS,EAAC,wFAAwF;UAAC6J,WAAW,EAAC;QAAsB;UAAA5J,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNzF,OAAA;MAAA0F,QAAA,gBACE1F,OAAA;QAAOqF,SAAS,EAAC,kCAAkC;QAAAK,QAAA,EAAC;MAAmB;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC/EzF,OAAA,CAACJ,SAAS;QAAC0Q,GAAG,EAAEA,GAAI;QAACE,GAAG,EAAEA,GAAI;QAACvB,QAAQ,EAAEA,CAAC;UAACqB,GAAG,EAAEM,EAAE;UAAEJ,GAAG,EAAEK;QAAE,CAAC,KAAG;UAAEN,MAAM,CAACK,EAAE,CAAC;UAAEH,MAAM,CAACI,EAAE,CAAC;QAAE;MAAE;QAAAvL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3F,CAAC,eACNzF,OAAA;MAAA0F,QAAA,gBACE1F,OAAA;QAAOqF,SAAS,EAAC,6BAA6B;QAAAK,QAAA,EAAC;MAAW;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAClEzF,OAAA;QAAUiF,KAAK,EAAE9B,WAAY;QAAC8L,QAAQ,EAAGpL,CAAC,IAAGsK,cAAc,CAACtK,CAAC,CAACoC,MAAM,CAAChB,KAAK,CAAE;QAACI,SAAS,EAAC,wFAAwF;QAAC+J,IAAI,EAAE,CAAE;QAACF,WAAW,EAAC;MAAiC;QAAA5J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtO,CAAC,eACNzF,OAAA;MAAKqF,SAAS,EAAC,2BAA2B;MAAAK,QAAA,gBACxC1F,OAAA;QAAA0F,QAAA,gBACE1F,OAAA;UAAOqF,SAAS,EAAC,6BAA6B;UAAAK,QAAA,EAAC;QAAY;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACnEzF,OAAA;UAAKqF,SAAS,EAAC,8BAA8B;UAAAK,QAAA,gBAC3C1F,OAAA;YAAKqF,SAAS,EAAC,0FAA0F;YAAAK,QAAA,EACtGmG,SAAS,gBACR7L,OAAA;cAAKmF,GAAG,EAAC,SAAS;cAACC,GAAG,EAAEiK,GAAG,CAACC,eAAe,CAACzD,SAAS,CAAE;cAACxG,SAAS,EAAC;YAA4B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,GAC/F6H,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEvB,SAAS,gBACnB/L,OAAA;cAAKmF,GAAG,EAAC,QAAQ;cAACC,GAAG,EAAE,GAAG1F,UAAU,GAAG4N,MAAM,CAACvB,SAAS,EAAG;cAAC1G,SAAS,EAAC;YAA4B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAEpGzF,OAAA;cAAMqF,SAAS,EAAC,uBAAuB;cAAAK,QAAA,EAAC;YAAQ;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UACvD;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACNzF,OAAA;YAAA0F,QAAA,gBACE1F,OAAA;cAAOkB,EAAE,EAAC,cAAc;cAAC8D,IAAI,EAAC,MAAM;cAACuK,MAAM,EAAC,SAAS;cAACN,QAAQ,EAAGpL,CAAC;gBAAA,IAAAiN,gBAAA;gBAAA,OAAG1C,YAAY,CAAC,EAAA0C,gBAAA,GAAAjN,CAAC,CAACoC,MAAM,CAACwJ,KAAK,cAAAqB,gBAAA,uBAAdA,gBAAA,CAAiB,CAAC,CAAC,KAAI,IAAI,CAAC;cAAA,CAAC;cAACzL,SAAS,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACtIzF,OAAA;cAAO0P,OAAO,EAAC,cAAc;cAACrK,SAAS,EAAC,uGAAuG;cAAAK,QAAA,EAAC;YAAW;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACnKzF,OAAA;cAAKqF,SAAS,EAAC,mDAAmD;cAAAK,QAAA,EAAE,CAAAmG,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEL,IAAI,MAAK8B,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEvB,SAAS,GAAGuB,MAAM,CAACvB,SAAS,CAACgF,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,GAAG,kBAAkB;YAAC;cAAA1L,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNzF,OAAA;QAAA0F,QAAA,gBACE1F,OAAA;UAAOqF,SAAS,EAAC,6BAA6B;UAAAK,QAAA,EAAC;QAAU;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACjEzF,OAAA;UAAKqF,SAAS,EAAC,8BAA8B;UAAAK,QAAA,gBAC3C1F,OAAA;YAAKqF,SAAS,EAAC,4FAA4F;YAAAK,QAAA,EACxGgL,aAAa,gBACZ1Q,OAAA;cAAKmF,GAAG,EAAC,SAAS;cAACC,GAAG,EAAEiK,GAAG,CAACC,eAAe,CAACoB,aAAa,CAAE;cAACrL,SAAS,EAAC;YAA4B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,GACnG6H,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEH,cAAc,gBACxBnN,OAAA;cAAKmF,GAAG,EAAC,MAAM;cAACC,GAAG,EAAE,GAAG1F,UAAU,GAAG4N,MAAM,CAACH,cAAc,EAAG;cAAC9H,SAAS,EAAC;YAA4B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAEvGzF,OAAA;cAAMqF,SAAS,EAAC,uBAAuB;cAAAK,QAAA,EAAC;YAAQ;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UACvD;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACNzF,OAAA;YAAA0F,QAAA,gBACE1F,OAAA;cAAOkB,EAAE,EAAC,YAAY;cAAC8D,IAAI,EAAC,MAAM;cAACuK,MAAM,EAAC,SAAS;cAACN,QAAQ,EAAGpL,CAAC;gBAAA,IAAAoN,gBAAA;gBAAA,OAAGN,gBAAgB,CAAC,EAAAM,gBAAA,GAAApN,CAAC,CAACoC,MAAM,CAACwJ,KAAK,cAAAwB,gBAAA,uBAAdA,gBAAA,CAAiB,CAAC,CAAC,KAAI,IAAI,CAAC;cAAA,CAAC;cAAC5L,SAAS,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACxIzF,OAAA;cAAO0P,OAAO,EAAC,YAAY;cAACrK,SAAS,EAAC,uGAAuG;cAAAK,QAAA,EAAC;YAAW;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjKzF,OAAA;cAAKqF,SAAS,EAAC,mDAAmD;cAAAK,QAAA,EAAE,CAAAgL,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAElF,IAAI,MAAK8B,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEH,cAAc,GAAGG,MAAM,CAACH,cAAc,CAAC4D,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,GAAG,kBAAkB;YAAC;cAAA1L,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNzF,OAAA;MAAKqF,SAAS,EAAC,wBAAwB;MAAAK,QAAA,gBACrC1F,OAAA;QAAQgF,IAAI,EAAC,QAAQ;QAAC0B,OAAO,EAAEyF,OAAQ;QAAC9G,SAAS,EAAC,6BAA6B;QAAAK,QAAA,EAAC;MAAM;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC/FzF,OAAA;QAAQ6P,QAAQ,EAAErB,UAAW;QAACnJ,SAAS,EAAC,+DAA+D;QAAAK,QAAA,EAAE8I,UAAU,GAAG,WAAW,GAAG/B;MAAc;QAAAnH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzJ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEX;AAACsK,GAAA,CAhHQ1C,UAAU;AAAA6D,GAAA,GAAV7D,UAAU;AAkHnB,SAASd,qBAAqBA,CAAC;EAAEI,QAAQ;EAAER,OAAO;EAAEK,QAAQ;EAAEC,cAAc;EAAEC;AAAQ,CAAC,EAAE;EAAAyE,GAAA;EACvF,MAAM,CAAC3F,IAAI,EAAE0C,OAAO,CAAC,GAAG9O,QAAQ,CAAC,CAAAuN,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEnB,IAAI,KAAI,EAAE,CAAC;EACtD,MAAM,CAACC,QAAQ,EAAE2F,WAAW,CAAC,GAAGhS,QAAQ,CAAC,CAAAuN,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAElB,QAAQ,KAAI,EAAE,CAAC;EAClE,MAAM,CAACI,SAAS,EAAEuC,YAAY,CAAC,GAAGhP,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACoP,UAAU,EAAEC,aAAa,CAAC,GAAGrP,QAAQ,CAAC,KAAK,CAAC;EAEnD,eAAe2P,YAAYA,CAAClL,CAAC,EAAE;IAC7BA,CAAC,CAACmL,cAAc,CAAC,CAAC;IAClBP,aAAa,CAAC,IAAI,CAAC;IACnB,IAAI;MACF,MAAM1K,EAAE,GAAG,IAAIqH,QAAQ,CAAC,CAAC;MACzB,IAAI,CAACuB,QAAQ,IAAKnB,IAAI,IAAIA,IAAI,KAAKmB,QAAQ,CAACnB,IAAK,EAAEzH,EAAE,CAACsH,MAAM,CAAC,MAAM,EAAEG,IAAI,CAACjE,IAAI,CAAC,CAAC,CAAC;MACjF,IAAI,CAACoF,QAAQ,IAAKlB,QAAQ,IAAIA,QAAQ,KAAKkB,QAAQ,CAAClB,QAAS,EAAE1H,EAAE,CAACsH,MAAM,CAAC,UAAU,EAAEI,QAAQ,CAAClE,IAAI,CAAC,CAAC,CAAC;MACrG,IAAIsE,SAAS,EAAE9H,EAAE,CAACsH,MAAM,CAAC,OAAO,EAAEQ,SAAS,CAAC;MAC5C,MAAMW,QAAQ,CAACzI,EAAE,CAAC;MAClBoI,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAG,CAAC;IACb,CAAC,CAAC,OAAOtI,CAAC,EAAE;MACV6I,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAG7I,CAAC,CAACX,OAAO,IAAI,yBAAyB,CAAC;IACnD,CAAC,SAAS;MACRuL,aAAa,CAAC,KAAK,CAAC;IACtB;EACF;EAEA,oBACEzO,OAAA;IAAMwM,QAAQ,EAAEuC,YAAa;IAAC1J,SAAS,EAAC,sBAAsB;IAAAK,QAAA,gBAC5D1F,OAAA;MAAA0F,QAAA,gBACE1F,OAAA;QAAOqF,SAAS,EAAC,6BAA6B;QAAAK,QAAA,EAAC;MAAI;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC3DzF,OAAA;QAAOiF,KAAK,EAAEuG,IAAK;QAACyD,QAAQ,EAAGpL,CAAC,IAAGqK,OAAO,CAACrK,CAAC,CAACoC,MAAM,CAAChB,KAAK,CAAE;QAACI,SAAS,EAAC,wFAAwF;QAAC6J,WAAW,EAAC,qBAAqB;QAACC,QAAQ;MAAA;QAAA7J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzM,CAAC,eACNzF,OAAA;MAAA0F,QAAA,gBACE1F,OAAA;QAAOqF,SAAS,EAAC,6BAA6B;QAAAK,QAAA,EAAC;MAAQ;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC/DzF,OAAA;QAAOiF,KAAK,EAAEwG,QAAS;QAACwD,QAAQ,EAAGpL,CAAC,IAAGuN,WAAW,CAACvN,CAAC,CAACoC,MAAM,CAAChB,KAAK,CAAE;QAACI,SAAS,EAAC,wFAAwF;QAAC6J,WAAW,EAAC,aAAa;QAACC,QAAQ;MAAA;QAAA7J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzM,CAAC,eACNzF,OAAA;MAAA0F,QAAA,gBACE1F,OAAA;QAAOqF,SAAS,EAAC,6BAA6B;QAAAK,QAAA,EAAC;MAAK;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC5DzF,OAAA;QAAKqF,SAAS,EAAC,8BAA8B;QAAAK,QAAA,gBAC3C1F,OAAA;UAAKqF,SAAS,EAAC,4FAA4F;UAAAK,QAAA,EACxGmG,SAAS,gBACR7L,OAAA;YAAKmF,GAAG,EAAC,SAAS;YAACC,GAAG,EAAEiK,GAAG,CAACC,eAAe,CAACzD,SAAS,CAAE;YAACxG,SAAS,EAAC;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,GAC/FkH,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEZ,SAAS,gBACrB/L,OAAA;YAAKmF,GAAG,EAAC,UAAU;YAACC,GAAG,EAAE,GAAG1F,UAAU,GAAGiN,QAAQ,CAACZ,SAAS,EAAG;YAAC1G,SAAS,EAAC;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAExGzF,OAAA;YAAMqF,SAAS,EAAC,2BAA2B;YAAAK,QAAA,EAAC;UAAQ;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAC3D;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eACNzF,OAAA;UAAA0F,QAAA,gBACE1F,OAAA;YAAOkB,EAAE,EAAC,UAAU;YAAC8D,IAAI,EAAC,MAAM;YAACuK,MAAM,EAAC,SAAS;YAACN,QAAQ,EAAGpL,CAAC;cAAA,IAAAwN,gBAAA;cAAA,OAAGjD,YAAY,CAAC,EAAAiD,gBAAA,GAAAxN,CAAC,CAACoC,MAAM,CAACwJ,KAAK,cAAA4B,gBAAA,uBAAdA,gBAAA,CAAiB,CAAC,CAAC,KAAI,IAAI,CAAC;YAAA,CAAC;YAAChM,SAAS,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAClIzF,OAAA;YAAO0P,OAAO,EAAC,UAAU;YAACrK,SAAS,EAAC,uGAAuG;YAAAK,QAAA,EAAC;UAAW;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5J,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNzF,OAAA;MAAKqF,SAAS,EAAC,wBAAwB;MAAAK,QAAA,gBACrC1F,OAAA;QAAQgF,IAAI,EAAC,QAAQ;QAAC0B,OAAO,EAAEyF,OAAQ;QAAC9G,SAAS,EAAC,6BAA6B;QAAAK,QAAA,EAAC;MAAM;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC/FzF,OAAA;QAAQ6P,QAAQ,EAAErB,UAAW;QAACnJ,SAAS,EAAC,+DAA+D;QAAAK,QAAA,EAAE8I,UAAU,GAAG,WAAW,GAAI/B,cAAc,IAAI;MAAO;QAAAnH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEX;;AAEA;AAAA0L,GAAA,CA3DS5E,qBAAqB;AAAA+E,GAAA,GAArB/E,qBAAqB;AAAA,IAAAyB,EAAA,EAAA8B,GAAA,EAAAoB,GAAA,EAAAI,GAAA;AAAAC,YAAA,CAAAvD,EAAA;AAAAuD,YAAA,CAAAzB,GAAA;AAAAyB,YAAA,CAAAL,GAAA;AAAAK,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}