{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web Systems\\\\GovConnect\\\\frontend\\\\src\\\\components\\\\gov\\\\EntryForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { API_BASE } from '../../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EntryForm({\n  category,\n  entry,\n  onClose,\n  onSaved\n}) {\n  _s();\n  const isEdit = !!entry;\n  const {\n    token\n  } = useAuth();\n  const fields = useMemo(() => {\n    var _category$schema_json;\n    return Array.isArray(category === null || category === void 0 ? void 0 : (_category$schema_json = category.schema_json) === null || _category$schema_json === void 0 ? void 0 : _category$schema_json.fields) ? category.schema_json.fields : [];\n  }, [category]);\n  const [title, setTitle] = useState((entry === null || entry === void 0 ? void 0 : entry.title) || '');\n  const [values, setValues] = useState(() => ({\n    ...((entry === null || entry === void 0 ? void 0 : entry.content_json) || {})\n  }));\n  const [files, setFiles] = useState({}); // key -> File | File[]\n  const [submitting, setSubmitting] = useState(false);\n  function handleFileChange(key, multiple, fileList) {\n    const arr = Array.from(fileList || []);\n    setFiles(prev => ({\n      ...prev,\n      [key]: multiple ? arr : arr[0] || null\n    }));\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setSubmitting(true);\n    try {\n      const fd = new FormData();\n      if (title) fd.append('title', title);\n      const content = {\n        ...values\n      };\n      for (const f of fields) {\n        if (f.type === 'image' || f.type === 'file') {\n          const fl = files[f.key];\n          if (fl) {\n            fd.append(f.key, fl);\n          }\n          if (f.type === 'file') {\n            const labelVal = values[`${f.key}_label`];\n            if (labelVal != null) fd.append(`${f.key}_label`, String(labelVal));\n          }\n        } else if (f.type === 'images' || f.type === 'files' || f.type === 'gallery') {\n          const arr = files[f.key];\n          if (Array.isArray(arr)) arr.forEach(file => fd.append(f.key, file));\n        }\n      }\n      fd.append('content', JSON.stringify(content));\n      const url = isEdit ? `${API_BASE}/gov/entries/${entry.id}` : `${API_BASE}/gov/categories/${category.id}/entries`;\n      const method = isEdit ? 'PUT' : 'POST';\n      const r = await fetch(url, {\n        method,\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        body: fd\n      });\n      if (!r.ok) {\n        const e = await r.json().catch(() => ({}));\n        throw new Error(e.error || 'Failed to save entry');\n      }\n      onSaved === null || onSaved === void 0 ? void 0 : onSaved();\n      alert('Saved successfully.');\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n    } catch (err) {\n      alert(err.message || 'Error');\n    } finally {\n      setSubmitting(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4 p-1 sm:p-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: title,\n        onChange: e => setTitle(e.target.value),\n        className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n        placeholder: \"Optional title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), fields.map(f => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm text-gray-700\",\n        children: f.label || f.key\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), (_values$f$key => {\n        const val = (_values$f$key = values[f.key]) !== null && _values$f$key !== void 0 ? _values$f$key : '';\n        if (f.type === 'text' || f.type === 'link') {\n          return /*#__PURE__*/_jsxDEV(\"input\", {\n            value: val,\n            onChange: e => setValues(prev => ({\n              ...prev,\n              [f.key]: e.target.value\n            })),\n            className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 22\n          }, this);\n        }\n        if (f.type === 'number') {\n          return /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: val,\n            onChange: e => setValues(prev => ({\n              ...prev,\n              [f.key]: e.target.value\n            })),\n            className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 22\n          }, this);\n        }\n        if (f.type === 'date') {\n          return /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: val,\n            onChange: e => setValues(prev => ({\n              ...prev,\n              [f.key]: e.target.value\n            })),\n            className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 22\n          }, this);\n        }\n        if (f.type === 'textarea' || f.type === 'richtext') {\n          return /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: val,\n            onChange: e => setValues(prev => ({\n              ...prev,\n              [f.key]: e.target.value\n            })),\n            className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            rows: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 22\n          }, this);\n        }\n        if (f.type === 'image' || f.type === 'file') {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: f.type === 'image' ? 'image/*' : undefined,\n              onChange: e => handleFileChange(f.key, false, e.target.files)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 19\n            }, this), f.type === 'file' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-xs text-gray-700\",\n                children: \"Download label (optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: values[`${f.key}_label`] || '',\n                onChange: e => setValues(prev => ({\n                  ...prev,\n                  [`${f.key}_label`]: e.target.value\n                })),\n                className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                placeholder: \"e.g., Download Executive Order PDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this), isEdit && values[f.key] && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-600 mt-1 truncate\",\n              children: [\"Existing: \", String(values[f.key])]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this);\n        }\n        if (f.type === 'images' || f.type === 'files' || f.type === 'gallery') {\n          return /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            multiple: true,\n            accept: f.type === 'images' || f.type === 'gallery' ? 'image/*' : undefined,\n            onChange: e => handleFileChange(f.key, true, e.target.files)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 22\n          }, this);\n        }\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          value: val,\n          onChange: e => setValues(prev => ({\n            ...prev,\n            [f.key]: e.target.value\n          })),\n          className: \"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 20\n        }, this);\n      })()]\n    }, f.key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onClose,\n        className: \"px-4 py-2 rounded-md border\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: submitting,\n        className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",\n        children: submitting ? 'Saving...' : isEdit ? 'Save' : 'Create'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(EntryForm, \"+DXpXt6S3rZUR6+HBiuTKlD2mRs=\", false, function () {\n  return [useAuth];\n});\n_c = EntryForm;\nvar _c;\n$RefreshReg$(_c, \"EntryForm\");","map":{"version":3,"names":["React","useMemo","useState","useAuth","API_BASE","jsxDEV","_jsxDEV","EntryForm","category","entry","onClose","onSaved","_s","isEdit","token","fields","_category$schema_json","Array","isArray","schema_json","title","setTitle","values","setValues","content_json","files","setFiles","submitting","setSubmitting","handleFileChange","key","multiple","fileList","arr","from","prev","handleSubmit","e","preventDefault","fd","FormData","append","content","f","type","fl","labelVal","String","forEach","file","JSON","stringify","url","id","method","r","fetch","headers","Authorization","body","ok","json","catch","Error","error","alert","err","message","onSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","placeholder","map","label","_values$f$key","val","rows","accept","undefined","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Web Systems/GovConnect/frontend/src/components/gov/EntryForm.jsx"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { API_BASE } from '../../config';\r\n\r\nexport default function EntryForm({ category, entry, onClose, onSaved }) {\r\n  const isEdit = !!entry;\r\n  const { token } = useAuth();\r\n  const fields = useMemo(() => Array.isArray(category?.schema_json?.fields) ? category.schema_json.fields : [], [category]);\r\n  const [title, setTitle] = useState(entry?.title || '');\r\n  const [values, setValues] = useState(() => ({ ...(entry?.content_json || {}) }));\r\n  const [files, setFiles] = useState({}); // key -> File | File[]\r\n  const [submitting, setSubmitting] = useState(false);\r\n  \r\n  function handleFileChange(key, multiple, fileList) {\r\n    const arr = Array.from(fileList || []);\r\n    setFiles(prev => ({ ...prev, [key]: multiple ? arr : arr[0] || null }));\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setSubmitting(true);\r\n    try {\r\n      const fd = new FormData();\r\n      if (title) fd.append('title', title);\r\n      const content = { ...values };\r\n      for (const f of fields) {\r\n        if (f.type === 'image' || f.type === 'file') {\r\n          const fl = files[f.key];\r\n          if (fl) {\r\n            fd.append(f.key, fl);\r\n          }\r\n          if (f.type === 'file') {\r\n            const labelVal = values[`${f.key}_label`];\r\n            if (labelVal != null) fd.append(`${f.key}_label`, String(labelVal));\r\n          }\r\n        } else if (f.type === 'images' || f.type === 'files' || f.type === 'gallery') {\r\n          const arr = files[f.key];\r\n          if (Array.isArray(arr)) arr.forEach(file => fd.append(f.key, file));\r\n        }\r\n      }\r\n      fd.append('content', JSON.stringify(content));\r\n      const url = isEdit ? `${API_BASE}/gov/entries/${entry.id}` : `${API_BASE}/gov/categories/${category.id}/entries`;\r\n      const method = isEdit ? 'PUT' : 'POST';\r\n      const r = await fetch(url, { method, headers: { Authorization: `Bearer ${token}` }, body: fd });\r\n      if (!r.ok) {\r\n        const e = await r.json().catch(()=>({}));\r\n        throw new Error(e.error || 'Failed to save entry');\r\n      }\r\n      onSaved?.();\r\n      alert('Saved successfully.');\r\n      onClose?.();\r\n    } catch (err) {\r\n      alert(err.message || 'Error');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4 p-1 sm:p-2\">\r\n      <div>\r\n        <label className=\"block text-sm text-gray-700\">Title</label>\r\n        <input value={title} onChange={(e)=>setTitle(e.target.value)} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" placeholder=\"Optional title\" />\r\n      </div>\r\n      {fields.map(f => (\r\n        <div key={f.key}>\r\n          <label className=\"block text-sm text-gray-700\">{f.label || f.key}</label>\r\n          {(() => {\r\n            const val = values[f.key] ?? '';\r\n            if (f.type === 'text' || f.type === 'link') {\r\n              return <input value={val} onChange={(e)=>setValues(prev=>({...prev,[f.key]: e.target.value}))} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" />\r\n            }\r\n            if (f.type === 'number') {\r\n              return <input type=\"number\" value={val} onChange={(e)=>setValues(prev=>({...prev,[f.key]: e.target.value}))} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" />\r\n            }\r\n            if (f.type === 'date') {\r\n              return <input type=\"date\" value={val} onChange={(e)=>setValues(prev=>({...prev,[f.key]: e.target.value}))} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" />\r\n            }\r\n            if (f.type === 'textarea' || f.type === 'richtext') {\r\n              return <textarea value={val} onChange={(e)=>setValues(prev=>({...prev,[f.key]: e.target.value}))} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" rows={3} />\r\n            }\r\n            if (f.type === 'image' || f.type === 'file') {\r\n              return (\r\n                <div>\r\n                  <input type=\"file\" accept={f.type === 'image' ? 'image/*' : undefined} onChange={(e)=>handleFileChange(f.key, false, e.target.files)} />\r\n                  {f.type === 'file' && (\r\n                    <div className=\"mt-2\">\r\n                      <label className=\"block text-xs text-gray-700\">Download label (optional)</label>\r\n                      <input value={values[`${f.key}_label`] || ''} onChange={(e)=>setValues(prev=>({...prev,[`${f.key}_label`]: e.target.value}))} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" placeholder=\"e.g., Download Executive Order PDF\" />\r\n                    </div>\r\n                  )}\r\n                  {isEdit && values[f.key] && (\r\n                    <div className=\"text-xs text-gray-600 mt-1 truncate\">Existing: {String(values[f.key])}</div>\r\n                  )}\r\n                </div>\r\n              );\r\n            }\r\n            if (f.type === 'images' || f.type === 'files' || f.type === 'gallery') {\r\n              return <input type=\"file\" multiple accept={f.type === 'images' || f.type === 'gallery' ? 'image/*' : undefined} onChange={(e)=>handleFileChange(f.key, true, e.target.files)} />\r\n            }\r\n            return <input value={val} onChange={(e)=>setValues(prev=>({...prev,[f.key]: e.target.value}))} className=\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" />\r\n          })()}\r\n        </div>\r\n      ))}\r\n      <div className=\"flex justify-end gap-2\">\r\n        <button type=\"button\" onClick={onClose} className=\"px-4 py-2 rounded-md border\">Cancel</button>\r\n        <button disabled={submitting} className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\">{submitting ? 'Saving...' : (isEdit ? 'Save' : 'Create')}</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}