{"ast":null,"code":"const KEY = 'notifications:v1';\nfunction loadAll() {\n  try {\n    const s = localStorage.getItem(KEY);\n    return s ? JSON.parse(s) : {};\n  } catch {\n    return {};\n  }\n}\nfunction saveAll(obj) {\n  try {\n    localStorage.setItem(KEY, JSON.stringify(obj));\n  } catch {}\n}\nexport function addNotification(toName, notif) {\n  const all = loadAll();\n  const name = toName || 'You';\n  if (!all[name]) all[name] = [];\n  all[name].unshift({\n    id: Date.now().toString(),\n    read: false,\n    ts: Date.now(),\n    ...notif\n  });\n  saveAll(all);\n}\nexport function getNotifications(forName) {\n  const all = loadAll();\n  return all[forName || 'You'] || [];\n}\nexport function markAllRead(forName) {\n  const all = loadAll();\n  const name = forName || 'You';\n  if (!all[name]) return;\n  all[name] = all[name].map(n => ({\n    ...n,\n    read: true\n  }));\n  saveAll(all);\n}\nexport function unreadCount(forName) {\n  return getNotifications(forName).filter(n => !n.read).length;\n}","map":{"version":3,"names":["KEY","loadAll","s","localStorage","getItem","JSON","parse","saveAll","obj","setItem","stringify","addNotification","toName","notif","all","name","unshift","id","Date","now","toString","read","ts","getNotifications","forName","markAllRead","map","n","unreadCount","filter","length"],"sources":["C:/Web Systems/GovConnect/frontend/src/utils/notifications.js"],"sourcesContent":["const KEY = 'notifications:v1';\n\nfunction loadAll() {\n  try {\n    const s = localStorage.getItem(KEY);\n    return s ? JSON.parse(s) : {};\n  } catch {\n    return {};\n  }\n}\n\nfunction saveAll(obj) {\n  try { localStorage.setItem(KEY, JSON.stringify(obj)); } catch {}\n}\n\nexport function addNotification(toName, notif) {\n  const all = loadAll();\n  const name = toName || 'You';\n  if (!all[name]) all[name] = [];\n  all[name].unshift({ id: Date.now().toString(), read: false, ts: Date.now(), ...notif });\n  saveAll(all);\n}\n\nexport function getNotifications(forName) {\n  const all = loadAll();\n  return all[forName || 'You'] || [];\n}\n\nexport function markAllRead(forName) {\n  const all = loadAll();\n  const name = forName || 'You';\n  if (!all[name]) return;\n  all[name] = all[name].map(n => ({ ...n, read: true }));\n  saveAll(all);\n}\n\nexport function unreadCount(forName) {\n  return getNotifications(forName).filter(n => !n.read).length;\n}\n"],"mappings":"AAAA,MAAMA,GAAG,GAAG,kBAAkB;AAE9B,SAASC,OAAOA,CAAA,EAAG;EACjB,IAAI;IACF,MAAMC,CAAC,GAAGC,YAAY,CAACC,OAAO,CAACJ,GAAG,CAAC;IACnC,OAAOE,CAAC,GAAGG,IAAI,CAACC,KAAK,CAACJ,CAAC,CAAC,GAAG,CAAC,CAAC;EAC/B,CAAC,CAAC,MAAM;IACN,OAAO,CAAC,CAAC;EACX;AACF;AAEA,SAASK,OAAOA,CAACC,GAAG,EAAE;EACpB,IAAI;IAAEL,YAAY,CAACM,OAAO,CAACT,GAAG,EAAEK,IAAI,CAACK,SAAS,CAACF,GAAG,CAAC,CAAC;EAAE,CAAC,CAAC,MAAM,CAAC;AACjE;AAEA,OAAO,SAASG,eAAeA,CAACC,MAAM,EAAEC,KAAK,EAAE;EAC7C,MAAMC,GAAG,GAAGb,OAAO,CAAC,CAAC;EACrB,MAAMc,IAAI,GAAGH,MAAM,IAAI,KAAK;EAC5B,IAAI,CAACE,GAAG,CAACC,IAAI,CAAC,EAAED,GAAG,CAACC,IAAI,CAAC,GAAG,EAAE;EAC9BD,GAAG,CAACC,IAAI,CAAC,CAACC,OAAO,CAAC;IAAEC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;IAAEC,IAAI,EAAE,KAAK;IAAEC,EAAE,EAAEJ,IAAI,CAACC,GAAG,CAAC,CAAC;IAAE,GAAGN;EAAM,CAAC,CAAC;EACvFN,OAAO,CAACO,GAAG,CAAC;AACd;AAEA,OAAO,SAASS,gBAAgBA,CAACC,OAAO,EAAE;EACxC,MAAMV,GAAG,GAAGb,OAAO,CAAC,CAAC;EACrB,OAAOa,GAAG,CAACU,OAAO,IAAI,KAAK,CAAC,IAAI,EAAE;AACpC;AAEA,OAAO,SAASC,WAAWA,CAACD,OAAO,EAAE;EACnC,MAAMV,GAAG,GAAGb,OAAO,CAAC,CAAC;EACrB,MAAMc,IAAI,GAAGS,OAAO,IAAI,KAAK;EAC7B,IAAI,CAACV,GAAG,CAACC,IAAI,CAAC,EAAE;EAChBD,GAAG,CAACC,IAAI,CAAC,GAAGD,GAAG,CAACC,IAAI,CAAC,CAACW,GAAG,CAACC,CAAC,KAAK;IAAE,GAAGA,CAAC;IAAEN,IAAI,EAAE;EAAK,CAAC,CAAC,CAAC;EACtDd,OAAO,CAACO,GAAG,CAAC;AACd;AAEA,OAAO,SAASc,WAAWA,CAACJ,OAAO,EAAE;EACnC,OAAOD,gBAAgB,CAACC,OAAO,CAAC,CAACK,MAAM,CAACF,CAAC,IAAI,CAACA,CAAC,CAACN,IAAI,CAAC,CAACS,MAAM;AAC9D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}